var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function ee(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function te(e,t){return ee(e.type,t,e.props)}function ne(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function re(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ie=/\/+/g;function ae(e,t){return typeof e==`object`&&e&&e.key!=null?re(``+e.key):t.toString(36)}function oe(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function se(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,se(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ae(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(ie,`$&/`)+`/`),se(o,r,i,``,function(e){return e})):o!=null&&(ne(o)&&(o=te(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ie,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ae(a,u),c+=se(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ae(a,u++),c+=se(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return se(oe(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ce(e,t,n){if(e==null)return e;var r=[],i=0;return se(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function le(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var E=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},D={map:ce,forEach:function(e,t,n){ce(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ce(e,function(){t++}),t},toArray:function(e){return ce(e,function(e){return e})||[]},only:function(e){if(!ne(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=D,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ee(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ee(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ne,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:le}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,E)}catch(e){E(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.0`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,ne());else{var t=n(l);t!==null&&ae(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function ee(){return g?!0:!(e.unstable_now()-T<w)}function te(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ee());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ae(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ne():S=!1}}}var ne;if(typeof y==`function`)ne=function(){y(te)};else if(typeof MessageChannel<`u`){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=te,ne=function(){ie.postMessage(null)}}else ne=function(){_(te,0)};function ae(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ae(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,ne()))),r},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),ee=Symbol.for(`react.suspense_list`),te=Symbol.for(`react.memo`),ne=Symbol.for(`react.lazy`),re=Symbol.for(`react.activity`),ie=Symbol.for(`react.memo_cache_sentinel`),ae=Symbol.iterator;function oe(e){return typeof e!=`object`||!e?null:(e=ae&&e[ae]||e[`@@iterator`],typeof e==`function`?e:null)}var se=Symbol.for(`react.client.reference`);function ce(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case ee:return`SuspenseList`;case re:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case te:return t=e.displayName||null,t===null?ce(e.type)||`Memo`:t;case ne:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var le=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},de=[],fe=-1;function pe(e){return{current:e}}function me(e){0>fe||(e.current=de[fe],de[fe]=null,fe--)}function O(e,t){fe++,de[fe]=e.current,e.current=t}var he=pe(null),ge=pe(null),_e=pe(null),ve=pe(null);function ye(e,t){switch(O(_e,t),O(ge,e),O(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hd(t),e=Ud(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}me(he),O(he,e)}function be(){me(he),me(ge),me(_e)}function xe(e){e.memoizedState!==null&&O(ve,e);var t=he.current,n=Ud(t,e.type);t!==n&&(O(ge,e),O(he,n))}function Se(e){ge.current===e&&(me(he),me(ge)),ve.current===e&&(me(ve),Qf._currentValue=ue)}var Ce,we;function Te(e){if(Ce===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||``,we=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Ce+e+we}var Ee=!1;function De(e,t){if(!e||Ee)return``;Ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Ee=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Te(n):``}function Oe(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te(`Lazy`);case 13:return e.child!==t&&t!==null?Te(`Suspense Fallback`):Te(`Suspense`);case 19:return Te(`SuspenseList`);case 0:case 15:return De(e.type,!1);case 11:return De(e.type.render,!1);case 1:return De(e.type,!0);case 31:return Te(`Activity`);default:return``}}function ke(e){try{var t=``,n=null;do t+=Oe(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ae=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,Pe=t.unstable_requestPaint,Fe=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,ze=t.unstable_NormalPriority,Be=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,He=t.log,k=t.unstable_setDisableYieldValue,Ue=null,We=null;function Ge(e){if(typeof He==`function`&&k(e),We&&typeof We.setStrictMode==`function`)try{We.setStrictMode(Ue,e)}catch{}}var Ke=Math.clz32?Math.clz32:Ye,qe=Math.log,Je=Math.LN2;function Ye(e){return e>>>=0,e===0?32:31-(qe(e)/Je|0)|0}var Xe=256,Ze=262144,Qe=4194304;function $e(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function et(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=$e(n))):i=$e(o):i=$e(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=$e(n))):i=$e(o)):i=$e(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function tt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rt(){var e=Qe;return Qe<<=1,!(Qe&62914560)&&(Qe=4194304),e}function it(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function at(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ot(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ke(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&st(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function st(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ke(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function A(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ct(e,t){var n=t&-t;return n=n&42?1:lt(n),(n&(e.suspendedLanes|t))===0?n:0}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ut(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function dt(){var e=D.p;return e===0?(e=window.event,e===void 0?32:mp(e.type)):e}function ft(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var pt=Math.random().toString(36).slice(2),mt=`__reactFiber$`+pt,ht=`__reactProps$`+pt,gt=`__reactContainer$`+pt,_t=`__reactEvents$`+pt,vt=`__reactListeners$`+pt,yt=`__reactHandles$`+pt,bt=`__reactResources$`+pt,xt=`__reactMarker$`+pt;function St(e){delete e[mt],delete e[ht],delete e[_t],delete e[vt],delete e[yt]}function Ct(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$(e);e!==null;){if(n=e[mt])return n;e=$(e)}return t}e=n,n=e.parentNode}return null}function wt(e){if(e=e[mt]||e[gt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Tt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Et(e){var t=e[bt];return t||=e[bt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Dt(e){e[xt]=!0}var Ot=new Set,kt={};function At(e,t){jt(e,t),jt(e+`Capture`,t)}function jt(e,t){for(kt[e]=t,e=0;e<t.length;e++)Ot.add(t[e])}var Mt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Nt={},Pt={};function Ft(e){return Ae.call(Pt,e)?!0:Ae.call(Nt,e)?!1:Mt.test(e)?Pt[e]=!0:(Nt[e]=!0,!1)}function It(e,t,n){if(Ft(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Lt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Rt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function j(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function M(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function zt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bt(e){if(!e._valueTracker){var t=M(e)?`checked`:`value`;e._valueTracker=zt(e,t,``+e[t])}}function Vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=M(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ht(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ut=/[\n"\\]/g;function Wt(e){return e.replace(Ut,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Gt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+j(t)):e.value!==``+j(t)&&(e.value=``+j(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):qt(e,o,j(n)):qt(e,o,j(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+j(s):e.removeAttribute(`name`)}function Kt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Bt(e);return}n=n==null?``:``+j(n),t=t==null?n:``+j(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Bt(e)}function qt(e,t,n){t===`number`&&Ht(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Jt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+j(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yt(e,t,n){if(t!=null&&(t=``+j(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+j(n)}function Xt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(le(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=j(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Bt(e)}function Zt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function $t(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Qt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function en(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&$t(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&$t(e,o,t[o])}function tn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var nn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(e){return rn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function on(){}var sn=null;function cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,un=null;function dn(e){var t=wt(e);if(t&&(e=t.stateNode)){var n=e[ht]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Wt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ht]||null;if(!a)throw Error(i(90));Gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Vt(r)}break a;case`textarea`:Yt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Jt(e,!!n.multiple,t,!1)}}}var fn=!1;function pn(e,t,n){if(fn)return e(t,n);fn=!0;try{return e(t)}finally{if(fn=!1,(ln!==null||un!==null)&&(bu(),ln&&(t=ln,e=un,un=ln=null,dn(t),e)))for(t=0;t<e.length;t++)dn(e[t])}}function mn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ht]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var hn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),gn=!1;if(hn)try{var _n={};Object.defineProperty(_n,`passive`,{get:function(){gn=!0}}),window.addEventListener(`test`,_n,_n),window.removeEventListener(`test`,_n,_n)}catch{gn=!1}var vn=null,yn=null,bn=null;function xn(){if(bn)return bn;var e,t=yn,n=t.length,r,i=`value`in vn?vn.value:vn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return bn=i.slice(e,1<r?1-r:void 0)}function Sn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function wn(){return!1}function Tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Cn:wn,this.isPropagationStopped=wn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=Tn(En),On=h({},En,{view:0,detail:0}),kn=Tn(On),An,jn,Mn,Nn=h({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Mn&&(Mn&&e.type===`mousemove`?(An=e.screenX-Mn.screenX,jn=e.screenY-Mn.screenY):jn=An=0,Mn=e),An)},movementY:function(e){return`movementY`in e?e.movementY:jn}}),Pn=Tn(Nn),Fn=Tn(h({},Nn,{dataTransfer:0})),In=Tn(h({},On,{relatedTarget:0})),Ln=Tn(h({},En,{animationName:0,elapsedTime:0,pseudoElement:0})),Rn=Tn(h({},En,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),zn=Tn(h({},En,{data:0})),Bn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Vn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Hn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Un(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hn[e])?!!t[e]:!1}function Wn(){return Un}var Gn=Tn(h({},On,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Sn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Vn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wn,charCode:function(e){return e.type===`keypress`?Sn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Sn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Kn=Tn(h({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),qn=Tn(h({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wn})),Jn=Tn(h({},En,{propertyName:0,elapsedTime:0,pseudoElement:0})),Yn=Tn(h({},Nn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Xn=Tn(h({},En,{newState:0,oldState:0})),Zn=[9,13,27,32],Qn=hn&&`CompositionEvent`in window,$n=null;hn&&`documentMode`in document&&($n=document.documentMode);var er=hn&&`TextEvent`in window&&!$n,tr=hn&&(!Qn||$n&&8<$n&&11>=$n),nr=` `,rr=!1;function ir(e,t){switch(e){case`keyup`:return Zn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function ar(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var or=!1;function sr(e,t){switch(e){case`compositionend`:return ar(t);case`keypress`:return t.which===32?(rr=!0,nr):null;case`textInput`:return e=t.data,e===nr&&rr?null:e;default:return null}}function cr(e,t){if(or)return e===`compositionend`||!Qn&&ir(e,t)?(e=xn(),bn=yn=vn=null,or=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return tr&&t.locale!==`ko`?null:t.data;default:return null}}var lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!lr[e.type]:t===`textarea`}function dr(e,t,n,r){ln?un?un.push(r):un=[r]:ln=r,t=Ed(t,`onChange`),0<t.length&&(n=new Dn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var fr=null,pr=null;function mr(e){bd(e,0)}function hr(e){if(Vt(Tt(e)))return e}function gr(e,t){if(e===`change`)return t}var _r=!1;if(hn){var vr;if(hn){var yr=`oninput`in document;if(!yr){var br=document.createElement(`div`);br.setAttribute(`oninput`,`return;`),yr=typeof br.oninput==`function`}vr=yr}else vr=!1;_r=vr&&(!document.documentMode||9<document.documentMode)}function xr(){fr&&(fr.detachEvent(`onpropertychange`,Sr),pr=fr=null)}function Sr(e){if(e.propertyName===`value`&&hr(pr)){var t=[];dr(t,pr,e,cn(e)),pn(mr,t)}}function Cr(e,t,n){e===`focusin`?(xr(),fr=t,pr=n,fr.attachEvent(`onpropertychange`,Sr)):e===`focusout`&&xr()}function wr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return hr(pr)}function Tr(e,t){if(e===`click`)return hr(t)}function N(e,t){if(e===`input`||e===`change`)return hr(t)}function Er(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Dr=typeof Object.is==`function`?Object.is:Er;function Or(e,t){if(Dr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ae.call(t,i)||!Dr(e[i],t[i]))return!1}return!0}function kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ar(e,t){var n=kr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=kr(n)}}function jr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ht(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ht(e.document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Pr=hn&&`documentMode`in document&&11>=document.documentMode,Fr=null,Ir=null,P=null,Lr=!1;function Rr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lr||Fr==null||Fr!==Ht(r)||(r=Fr,`selectionStart`in r&&Nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),P&&Or(P,r)||(P=r,r=Ed(Ir,`onSelect`),0<r.length&&(t=new Dn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Fr)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Br={animationend:zr(`Animation`,`AnimationEnd`),animationiteration:zr(`Animation`,`AnimationIteration`),animationstart:zr(`Animation`,`AnimationStart`),transitionrun:zr(`Transition`,`TransitionRun`),transitionstart:zr(`Transition`,`TransitionStart`),transitioncancel:zr(`Transition`,`TransitionCancel`),transitionend:zr(`Transition`,`TransitionEnd`)},Vr={},Hr={};hn&&(Hr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),`TransitionEvent`in window||delete Br.transitionend.transition);function Ur(e){if(Vr[e])return Vr[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hr)return Vr[e]=t[n];return e}var Wr=Ur(`animationend`),Gr=Ur(`animationiteration`),Kr=Ur(`animationstart`),qr=Ur(`transitionrun`),Jr=Ur(`transitionstart`),Yr=Ur(`transitioncancel`),Xr=Ur(`transitionend`),Zr=new Map,Qr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Qr.push(`scrollEnd`);function $r(e,t){Zr.set(e,t),At(t,[e])}var ei=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ti=[],ni=0,ri=0;function ii(){for(var e=ni,t=ri=ni=0;t<e;){var n=ti[t];ti[t++]=null;var r=ti[t];ti[t++]=null;var i=ti[t];ti[t++]=null;var a=ti[t];if(ti[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ci(n,i,a)}}function ai(e,t,n,r){ti[ni++]=e,ti[ni++]=t,ti[ni++]=n,ti[ni++]=r,ri|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function oi(e,t,n,r){return ai(e,t,n,r),li(e)}function si(e,t){return ai(e,null,null,t),li(e)}function ci(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ke(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function li(e){if(50<du)throw du=0,fu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ui={};function di(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,n,r){return new di(e,t,n,r)}function pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,t){var n=e.alternate;return n===null?(n=fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)pi(e)&&(s=1);else if(typeof e==`string`)s=Uf(e,n,he.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case re:return e=fi(31,n,t,a),e.elementType=re,e.lanes=o,e;case y:return _i(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=fi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=fi(13,n,t,a),e.elementType=T,e.lanes=o,e;case ee:return e=fi(19,n,t,a),e.elementType=ee,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case te:s=14;break a;case ne:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=fi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function _i(e,t,n,r){return e=fi(7,e,r,t),e.lanes=n,e}function vi(e,t,n){return e=fi(6,e,null,t),e.lanes=n,e}function yi(e){var t=fi(18,null,null,0);return t.stateNode=e,t}function bi(e,t,n){return t=fi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xi=new WeakMap;function Si(e,t){if(typeof e==`object`&&e){var n=xi.get(e);return n===void 0?(t={value:e,source:t,stack:ke(t)},xi.set(e,t),t):n}return{value:e,source:t,stack:ke(t)}}var Ci=[],wi=0,Ti=null,Ei=0,Di=[],Oi=0,ki=null,Ai=1,ji=``;function Mi(e,t){Ci[wi++]=Ei,Ci[wi++]=Ti,Ti=e,Ei=t}function Ni(e,t,n){Di[Oi++]=Ai,Di[Oi++]=ji,Di[Oi++]=ki,ki=e;var r=Ai;e=ji;var i=32-Ke(r)-1;r&=~(1<<i),n+=1;var a=32-Ke(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ai=1<<32-Ke(t)+i|n<<i|r,ji=a+e}else Ai=1<<a|n<<i|r,ji=e}function Pi(e){e.return!==null&&(Mi(e,1),Ni(e,1,0))}function Fi(e){for(;e===Ti;)Ti=Ci[--wi],Ci[wi]=null,Ei=Ci[--wi],Ci[wi]=null;for(;e===ki;)ki=Di[--Oi],Di[Oi]=null,ji=Di[--Oi],Di[Oi]=null,Ai=Di[--Oi],Di[Oi]=null}function Ii(e,t){Di[Oi++]=Ai,Di[Oi++]=ji,Di[Oi++]=ki,Ai=t.id,ji=t.overflow,ki=e}var Li=null,Ri=null,F=!1,zi=null,Bi=!1,Vi=Error(i(519));function Hi(e){throw Ji(Si(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Vi}function Ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[mt]=e,t[ht]=r,n){case`dialog`:Z(`cancel`,t),Z(`close`,t);break;case`iframe`:case`object`:case`embed`:Z(`load`,t);break;case`video`:case`audio`:for(n=0;n<vd.length;n++)Z(vd[n],t);break;case`source`:Z(`error`,t);break;case`img`:case`image`:case`link`:Z(`error`,t),Z(`load`,t);break;case`details`:Z(`toggle`,t);break;case`input`:Z(`invalid`,t),Kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Z(`invalid`,t);break;case`textarea`:Z(`invalid`,t),Xt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Md(t.textContent,n)?(r.popover!=null&&(Z(`beforetoggle`,t),Z(`toggle`,t)),r.onScroll!=null&&Z(`scroll`,t),r.onScrollEnd!=null&&Z(`scrollend`,t),r.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Hi(e,!0)}function Wi(e){for(Li=e.return;Li;)switch(Li.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Li=Li.return}}function Gi(e){if(e!==Li)return!1;if(!F)return Wi(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Wd(e.type,e.memoizedProps)),n=!n),n&&Ri&&Hi(e),Wi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ri=df(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ri=df(e)}else t===27?(t=Ri,Qd(e.type)?(e=uf,uf=null,Ri=e):Ri=t):Ri=Li?lf(e.stateNode.nextSibling):null;return!0}function Ki(){Ri=Li=null,F=!1}function qi(){var e=zi;return e!==null&&(Zl===null?Zl=e:Zl.push.apply(Zl,e),zi=null),e}function Ji(e){zi===null?zi=[e]:zi.push(e)}var Yi=pe(null),Xi=null,Zi=null;function Qi(e,t,n){O(Yi,t._currentValue),t._currentValue=n}function $i(e){e._currentValue=Yi.current,me(Yi)}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function ta(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ea(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ea(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function na(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Dr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ve.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Qf]:e.push(Qf))}a=a.return}e!==null&&ta(t,e,n,r),t.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!Dr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){Xi=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return sa(Xi,e)}function oa(e,t){return Xi===null&&ia(e),sa(e,t)}function sa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Zi===null){if(e===null)throw Error(i(308));Zi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zi=Zi.next=t;return n}var ca=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},la=t.unstable_scheduleCallback,ua=t.unstable_NormalPriority,da={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fa(){return{controller:new ca,data:new Map,refCount:0}}function pa(e){e.refCount--,e.refCount===0&&la(ua,function(){e.controller.abort()})}var ma=null,ha=0,ga=0,_a=null;function va(e,t){if(ma===null){var n=ma=[];ha=0,ga=fd(),_a={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ha++,t.then(ya,ya),t}function ya(){if(--ha===0&&ma!==null){_a!==null&&(_a.status=`fulfilled`);var e=ma;ma=null,ga=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ba(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var xa=E.S;E.S=function(e,t){eu=Fe(),typeof t==`object`&&t&&typeof t.then==`function`&&va(e,t),xa!==null&&xa(e,t)};var Sa=pe(null);function Ca(){var e=Sa.current;return e===null?Rl.pooledCache:e}function wa(e,t){t===null?O(Sa,Sa.current):O(Sa,t.pool)}function Ta(){var e=Ca();return e===null?null:{parent:da._currentValue,pool:e}}var Ea=Error(i(460)),Da=Error(i(474)),Oa=Error(i(542)),ka={then:function(){}};function Aa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function ja(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e;default:if(typeof t.status==`string`)t.then(on,on);else{if(e=Rl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e}throw Na=t,Ea}}function Ma(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Na=e,Ea):e}}var Na=null;function Pa(){if(Na===null)throw Error(i(459));var e=Na;return Na=null,e}function Fa(e){if(e===Ea||e===Oa)throw Error(i(483))}var Ia=null,La=0;function Ra(e){var t=La;return La+=1,Ia===null&&(Ia=[]),ja(Ia,e,t)}function za(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ba(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Va(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=mi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=vi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ne&&Ma(i)===t.type)?(t=a(t,n.props),za(t,n),t.return=e,t):(t=gi(n.type,n.key,n.props,null,e.mode,r),za(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=bi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=_i(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=vi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=gi(t.type,t.key,t.props,null,e.mode,n),za(n,t),n.return=e,n;case v:return t=bi(t,e.mode,n),t.return=e,t;case ne:return t=Ma(t),f(e,t,n)}if(le(t)||oe(t))return t=_i(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ra(t),n);if(t.$$typeof===C)return f(e,oa(e,t),n);Ba(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ne:return n=Ma(n),p(e,t,n,r)}if(le(n)||oe(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ra(n),r);if(n.$$typeof===C)return p(e,t,oa(e,n),r);Ba(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ne:return r=Ma(r),m(e,t,n,r,i)}if(le(r)||oe(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ra(r),i);if(r.$$typeof===C)return m(e,t,n,oa(t,r),i);Ba(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),F&&Mi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return F&&Mi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),F&&Mi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),F&&Mi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return F&&Mi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),F&&Mi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ne&&Ma(l)===r.type){n(e,r.sibling),c=a(r,o.props),za(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=_i(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=gi(o.type,o.key,o.props,null,e.mode,c),za(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=bi(o,e.mode,c),c.return=e,e=c}return s(e);case ne:return o=Ma(o),b(e,r,o,c)}if(le(o))return h(e,r,o,c);if(oe(o)){if(l=oe(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ra(o),c);if(o.$$typeof===C)return b(e,r,oa(e,o),c);Ba(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=vi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{La=0;var i=b(e,t,n,r);return Ia=null,i}catch(t){if(t===Ea||t===Oa)throw t;var a=fi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ha=Va(!0),Ua=Va(!1),Wa=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ka(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=li(e),ci(e,null,n),t}return ai(e,r,t,n),li(e)}function Ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A(e,n)}}function Xa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Za=!1;function Qa(){if(Za){var e=_a;if(e!==null)throw e}}function $a(e,t,n,r){Za=!1;var i=e.updateQueue;Wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Y&f)===f:(r&f)===f){f!==0&&f===ga&&(Za=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Wa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Gl|=o,e.lanes=o,e.memoizedState=d}}function eo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function to(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eo(n[e],t)}var no=pe(null),ro=pe(0);function io(e,t){e=Wl,O(ro,e),O(no,t),Wl=e|t.baseLanes}function ao(){O(ro,Wl),O(no,no.current)}function oo(){Wl=ro.current,me(no),me(ro)}var so=pe(null),co=null;function lo(e){var t=e.alternate;O(ho,ho.current&1),O(so,e),co===null&&(t===null||no.current!==null||t.memoizedState!==null)&&(co=e)}function uo(e){O(ho,ho.current),O(so,e),co===null&&(co=e)}function fo(e){e.tag===22?(O(ho,ho.current),O(so,e),co===null&&(co=e)):po(e)}function po(){O(ho,ho.current),O(so,so.current)}function mo(e){me(so),co===e&&(co=null),me(ho)}var ho=pe(0);function go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||of(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _o=0,I=null,vo=null,yo=null,bo=!1,xo=!1,So=!1,Co=0,wo=0,To=null,Eo=0;function Do(){throw Error(i(321))}function Oo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,a){return _o=a,I=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Ks:qs,So=!1,a=n(r,i),So=!1,xo&&(a=jo(t,n,r,i)),Ao(e),a}function Ao(e){E.H=Gs;var t=vo!==null&&vo.next!==null;if(_o=0,yo=vo=I=null,bo=!1,wo=0,To=null,t)throw Error(i(300));e===null||uc||(e=e.dependencies,e!==null&&ra(e)&&(uc=!0))}function jo(e,t,n,r){I=e;var a=0;do{if(xo&&(To=null),wo=0,xo=!1,25<=a)throw Error(i(301));if(a+=1,yo=vo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}E.H=Js,o=t(n,r)}while(xo);return o}function Mo(){var e=E.H,t=e.useState()[0];return t=typeof t.then==`function`?zo(t):t,e=e.useState()[0],(vo===null?null:vo.memoizedState)!==e&&(I.flags|=1024),t}function No(){var e=Co!==0;return Co=0,e}function Po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bo=!1}_o=0,yo=vo=I=null,xo=!1,wo=Co=0,To=null}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yo===null?I.memoizedState=yo=e:yo=yo.next=e,yo}function Lo(){if(vo===null){var e=I.alternate;e=e===null?null:e.memoizedState}else e=vo.next;var t=yo===null?I.memoizedState:yo.next;if(t!==null)yo=t,vo=e;else{if(e===null)throw I.alternate===null?Error(i(467)):Error(i(310));vo=e,e={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},yo===null?I.memoizedState=yo=e:yo=yo.next=e}return yo}function Ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var t=wo;return wo+=1,To===null&&(To=[]),e=ja(To,e,t),t=I,(yo===null?t.memoizedState:yo.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Ks:qs),e}function Bo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return zo(e);if(e.$$typeof===C)return aa(e)}throw Error(i(438,String(e)))}function Vo(e){var t=null,n=I.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=I.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Ro(),I.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ie;return t.index++,n}function Ho(e,t){return typeof t==`function`?t(e):t}function Uo(e){return Wo(Lo(),vo,e)}function Wo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(_o&f)===f:(Y&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ga&&(d=!0);else if((_o&p)===p){u=u.next,p===ga&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,I.lanes|=p,Gl|=p;f=u.action,So&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,I.lanes|=f,Gl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Dr(o,e.memoizedState)&&(uc=!0,d&&(n=_a,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=Lo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Dr(o,t.memoizedState)||(uc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ko(e,t,n){var r=I,a=Lo(),o=F;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Dr((vo||a).memoizedState,n);if(s&&(a.memoizedState=n,uc=!0),a=a.queue,_s(Yo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||yo!==null&&yo.memoizedState.tag&1){if(r.flags|=2048,fs(9,{destroy:void 0},Jo.bind(null,r,a,n,t),null),Rl===null)throw Error(i(349));o||_o&127||qo(r,t,n)}return n}function qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=I.updateQueue,t===null?(t=Ro(),I.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Zo(e)}function Yo(e,t,n){return n(function(){Xo(t)&&Zo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dr(e,n)}catch{return!0}}function Zo(e){var t=si(e,2);t!==null&&hu(t,e,2)}function Qo(e){var t=Io();if(typeof e==`function`){var n=e;if(e=n(),So){Ge(!0);try{n()}finally{Ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function $o(e,t,n,r){return e.baseState=n,Wo(e,vo,typeof r==`function`?r:Ho)}function es(e,t,n,r,a){if(Hs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};E.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,ts(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=E.T,o={};E.T=o;try{var s=n(i,r),c=E.S;c!==null&&c(o,s),ns(e,t,s)}catch(n){is(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),E.T=a}}else try{a=n(i,r),ns(e,t,a)}catch(n){is(e,t,n)}}function ns(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){rs(e,t,n)},function(n){return is(e,t,n)}):rs(e,t,n)}function rs(e,t,n){t.status=`fulfilled`,t.value=n,as(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ts(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,as(t),t=t.next;while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ss(e,t){if(F){var n=Rl.formState;if(n!==null){a:{var r=I;if(F){if(Ri){b:{for(var i=Ri,a=Bi;i.nodeType!==8;){if(!a){i=null;break b}if(i=lf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ri=lf(i.nextSibling),r=i.data===`F!`;break a}}Hi(r)}r=!1}r&&(t=n[0])}}return n=Io(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=zs.bind(null,I,r),r.dispatch=n,r=Qo(!1),a=Vs.bind(null,I,!1,r.queue),r=Io(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=es.bind(null,I,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ls(Lo(),vo,e)}function ls(e,t,n){if(t=Wo(e,t,os)[0],e=Uo(Ho)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=zo(t)}catch(e){throw e===Ea?Oa:e}else r=t;t=Lo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(I.flags|=2048,fs(9,{destroy:void 0},us.bind(null,i,n),null)),[r,a,e]}function us(e,t){e.action=t}function ds(e){var t=Lo(),n=vo;if(n!==null)return ls(t,n,e);Lo(),t=t.memoizedState,n=Lo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=I.updateQueue,t===null&&(t=Ro(),I.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Lo().memoizedState}function ms(e,t,n,r){var i=Io();I.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0},n,r===void 0?null:r)}function hs(e,t,n,r){var i=Lo();r=r===void 0?null:r;var a=i.memoizedState.inst;vo!==null&&r!==null&&Oo(r,vo.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(I.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function gs(e,t){ms(8390656,8,e,t)}function _s(e,t){hs(2048,8,e,t)}function vs(e){I.flags|=4;var t=I.updateQueue;if(t===null)t=Ro(),I.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ys(e){var t=Lo().memoizedState;return vs({ref:t,nextImpl:e}),function(){if(q&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function bs(e,t){return hs(4,2,e,t)}function xs(e,t){return hs(4,4,e,t)}function Ss(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cs(e,t,n){n=n==null?null:n.concat([e]),hs(4,4,Ss.bind(null,t,e),n)}function ws(){}function Ts(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Oo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Es(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Oo(t,r[1]))return r[0];if(r=e(),So){Ge(!0);try{e()}finally{Ge(!1)}}return n.memoizedState=[r,t],r}function Ds(e,t,n){return n===void 0||_o&1073741824&&!(Y&261930)?e.memoizedState=t:(e.memoizedState=n,e=mu(),I.lanes|=e,Gl|=e,n)}function Os(e,t,n,r){return Dr(n,t)?n:no.current===null?!(_o&42)||_o&1073741824&&!(Y&261930)?(uc=!0,e.memoizedState=n):(e=mu(),I.lanes|=e,Gl|=e,t):(e=Ds(e,n,r),Dr(e,t)||(uc=!0),e)}function ks(e,t,n,r,i){var a=D.p;D.p=a!==0&&8>a?a:8;var o=E.T,s={};E.T=s,Vs(e,!1,t,n);try{var c=i(),l=E.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Bs(e,t,ba(c,r),pu(e)):Bs(e,t,r,pu(e))}catch(n){Bs(e,t,{then:function(){},status:`rejected`,reason:n},pu())}finally{D.p=a,o!==null&&s.types!==null&&(o.types=s.types),E.T=o}}function As(){}function js(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ms(e).queue;ks(e,a,t,ue,n===null?As:function(){return Ns(e),n(r)})}function Ms(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:ue},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ns(e){var t=Ms(e);t.next===null&&(t=e.alternate.memoizedState),Bs(e,t.next.queue,{},pu())}function Ps(){return aa(Qf)}function Fs(){return Lo().memoizedState}function Is(){return Lo().memoizedState}function Ls(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pu();e=qa(n);var r=Ja(t,e,n);r!==null&&(hu(r,t,n),Ya(r,t,n)),t={cache:fa()},e.payload=t;return}t=t.return}}function Rs(e,t,n){var r=pu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hs(e)?Us(t,n):(n=oi(e,t,n,r),n!==null&&(hu(n,e,r),Ws(n,t,r)))}function zs(e,t,n){Bs(e,t,n,pu())}function Bs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))Us(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Dr(s,o))return ai(e,t,i,0),Rl===null&&ii(),!1}catch{}if(n=oi(e,t,i,r),n!==null)return hu(n,e,r),Ws(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:fd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hs(e)){if(t)throw Error(i(479))}else t=oi(e,n,r,2),t!==null&&hu(t,e,2)}function Hs(e){var t=e.alternate;return e===I||t!==null&&t===I}function Us(e,t){xo=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A(e,n)}}var Gs={readContext:aa,use:Bo,useCallback:Do,useContext:Do,useEffect:Do,useImperativeHandle:Do,useLayoutEffect:Do,useInsertionEffect:Do,useMemo:Do,useReducer:Do,useRef:Do,useState:Do,useDebugValue:Do,useDeferredValue:Do,useTransition:Do,useSyncExternalStore:Do,useId:Do,useHostTransitionStatus:Do,useFormState:Do,useActionState:Do,useOptimistic:Do,useMemoCache:Do,useCacheRefresh:Do};Gs.useEffectEvent=Do;var Ks={readContext:aa,use:Bo,useCallback:function(e,t){return Io().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:gs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ms(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Io();t=t===void 0?null:t;var r=e();if(So){Ge(!0);try{e()}finally{Ge(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Io();if(n!==void 0){var i=n(t);if(So){Ge(!0);try{n(t)}finally{Ge(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Rs.bind(null,I,e),[r.memoizedState,e]},useRef:function(e){var t=Io();return e={current:e},t.memoizedState=e},useState:function(e){e=Qo(e);var t=e.queue,n=zs.bind(null,I,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ws,useDeferredValue:function(e,t){return Ds(Io(),e,t)},useTransition:function(){var e=Qo(!1);return e=ks.bind(null,I,e.queue,!0,!1),Io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=I,a=Io();if(F){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Rl===null)throw Error(i(349));Y&127||qo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,gs(Yo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0},Jo.bind(null,r,o,n,t),null),n},useId:function(){var e=Io(),t=Rl.identifierPrefix;if(F){var n=ji,r=Ai;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Co++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Eo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ss,useActionState:ss,useOptimistic:function(e){var t=Io();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,I,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return Io().memoizedState=Ls.bind(null,I)},useEffectEvent:function(e){var t=Io(),n={impl:e};return t.memoizedState=n,function(){if(q&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},qs={readContext:aa,use:Bo,useCallback:Ts,useContext:aa,useEffect:_s,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Es,useReducer:Uo,useRef:ps,useState:function(){return Uo(Ho)},useDebugValue:ws,useDeferredValue:function(e,t){return Os(Lo(),vo.memoizedState,e,t)},useTransition:function(){var e=Uo(Ho)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:zo(e),t]},useSyncExternalStore:Ko,useId:Fs,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return $o(Lo(),vo,e,t)},useMemoCache:Vo,useCacheRefresh:Is};qs.useEffectEvent=ys;var Js={readContext:aa,use:Bo,useCallback:Ts,useContext:aa,useEffect:_s,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Es,useReducer:Go,useRef:ps,useState:function(){return Go(Ho)},useDebugValue:ws,useDeferredValue:function(e,t){var n=Lo();return vo===null?Ds(n,e,t):Os(n,vo.memoizedState,e,t)},useTransition:function(){var e=Go(Ho)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:zo(e),t]},useSyncExternalStore:Ko,useId:Fs,useHostTransitionStatus:Ps,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){var n=Lo();return vo===null?(n.baseState=e,[e,n.queue.dispatch]):$o(n,vo,e,t)},useMemoCache:Vo,useCacheRefresh:Is};Js.useEffectEvent=ys;function Ys(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pu(),i=qa(r);i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(hu(t,e,r),Ya(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pu(),i=qa(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(hu(t,e,r),Ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pu(),r=qa(n);r.tag=2,t!=null&&(r.callback=t),t=Ja(e,r,n),t!==null&&(hu(t,e,n),Ya(t,e,n))}};function Zs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Or(n,r)||!Or(i,a):!0}function Qs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function $s(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function ec(e){ei(e)}function tc(e){console.error(e)}function nc(e){ei(e)}function rc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ic(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ac(e,t,n){return n=qa(n),n.tag=3,n.payload={element:null},n.callback=function(){rc(e,t)},n}function oc(e){return e=qa(e),e.tag=3,e}function sc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ic(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){ic(t,n,r),typeof i!=`function`&&(ru===null?ru=new Set([this]):ru.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function cc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&na(t,n,a,!0),n=so.current,n!==null){switch(n.tag){case 31:case 13:return co===null?Du():n.alternate===null&&X===0&&(X=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ku(e,r,a)),!1;case 22:return n.flags|=65536,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ku(e,r,a)),!1}throw Error(i(435,n.tag))}return Ku(e,r,a),Du(),!1}if(F)return t=so.current,t===null?(r!==Vi&&(t=Error(i(423),{cause:r}),Ji(Si(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Si(r,n),a=ac(e.stateNode,r,a),Xa(e,a),X!==4&&(X=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Vi&&(e=Error(i(422),{cause:r}),Ji(Si(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Si(o,n),Xl===null?Xl=[o]:Xl.push(o),X!==4&&(X=2),t===null)return!0;r=Si(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ac(n.stateNode,r,e),Xa(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(ru===null||!ru.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=oc(a),sc(a,e,n,r),Xa(n,a),!1}n=n.return}while(n!==null);return!1}var lc=Error(i(461)),uc=!1;function dc(e,t,n,r){t.child=e===null?Ua(t,null,n,r):Ha(t,e.child,n,r)}function fc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ia(t),r=ko(e,t,n,o,a,i),s=No(),e!==null&&!uc?(Po(e,t,i),Fc(e,t,i)):(F&&s&&Pi(t),t.flags|=1,dc(e,t,r,i),t.child)}function pc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!pi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,mc(e,t,a,r,i)):(e=gi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!R(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Or:n,n(o,r)&&e.ref===t.ref)return Fc(e,t,i)}return t.flags|=1,e=mi(a,r),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Or(a,r)&&e.ref===t.ref)if(uc=!1,t.pendingProps=r=a,R(e,i))e.flags&131072&&(uc=!0);else return t.lanes=e.lanes,Fc(e,t,i)}return Sc(e,t,n,r,i)}function hc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return _c(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wa(t,a===null?null:a.cachePool),a===null?ao():io(t,a),fo(t);else return r=t.lanes=536870912,_c(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&wa(t,null),ao(),po(t)):(wa(t,a.cachePool),io(t,a),po(t),t.memoizedState=null);return dc(e,t,i,n),t.child}function gc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _c(e,t,n,r,i){var a=Ca();return a=a===null?null:{parent:da._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&wa(t,null),ao(),fo(t),e!==null&&na(e,t,r,!0),t.childLanes=i,null}function vc(e,t){return t=jc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yc(e,t,n){return Ha(t,e.child,null,n),e=vc(t,t.pendingProps),e.flags|=2,mo(t),t.memoizedState=null,e}function bc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(F){if(r.mode===`hidden`)return e=vc(t,r),t.lanes=536870912,gc(null,e);if(uo(t),(e=Ri)?(e=af(e,Bi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki===null?null:{id:Ai,overflow:ji},retryLane:536870912,hydrationErrors:null},n=yi(e),n.return=t,t.child=n,Li=t,Ri=null)):e=null,e===null)throw Hi(t);return t.lanes=536870912,null}return vc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(uo(t),a)if(t.flags&256)t.flags&=-257,t=yc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(uc||na(e,t,n,!1),a=(n&e.childLanes)!==0,uc||a){if(r=Rl,r!==null&&(s=ct(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,si(e,s),hu(r,e,s),lc;Du(),t=yc(e,t,n)}else e=o.treeContext,Ri=lf(s.nextSibling),Li=t,F=!0,zi=null,Bi=!1,e!==null&&Ii(t,e),t=vc(t,r),t.flags|=4096;return t}return e=mi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Sc(e,t,n,r,i){return ia(t),n=ko(e,t,n,r,void 0,i),r=No(),e!==null&&!uc?(Po(e,t,i),Fc(e,t,i)):(F&&r&&Pi(t),t.flags|=1,dc(e,t,n,i),t.child)}function Cc(e,t,n,r,i,a){return ia(t),t.updateQueue=null,n=jo(t,r,n,i),Ao(e),r=No(),e!==null&&!uc?(Po(e,t,a),Fc(e,t,a)):(F&&r&&Pi(t),t.flags|=1,dc(e,t,n,a),t.child)}function wc(e,t,n,r,i){if(ia(t),t.stateNode===null){var a=ui,o=n.contextType;typeof o==`object`&&o&&(a=aa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ga(t),o=n.contextType,a.context=typeof o==`object`&&o?aa(o):ui,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Ys(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Xs.enqueueReplaceState(a,a.state,null),$a(t,r,a,i),Qa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=$s(n,s);a.props=c;var l=a.context,u=n.contextType;o=ui,typeof u==`object`&&u&&(o=aa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Qs(t,a,r,o),Wa=!1;var f=t.memoizedState;a.state=f,$a(t,r,a,i),Qa(),l=t.memoizedState,s||f!==l||Wa?(typeof d==`function`&&(Ys(t,n,d,r),l=t.memoizedState),(c=Wa||Zs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ka(e,t),o=t.memoizedProps,u=$s(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ui,typeof l==`object`&&l&&(c=aa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Qs(t,a,r,c),Wa=!1,f=t.memoizedState,a.state=f,$a(t,r,a,i),Qa();var p=t.memoizedState;o!==d||f!==p||Wa||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof s==`function`&&(Ys(t,n,s,r),p=t.memoizedState),(u=Wa||Zs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,xc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ha(t,e.child,null,i),t.child=Ha(t,null,n,i)):dc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Fc(e,t,i),e}function Tc(e,t,n,r){return Ki(),t.flags|=256,dc(e,t,n,r),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:Ta()}}function Oc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Jl),e}function kc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ho.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(F){if(a?lo(t):po(t),(e=Ri)?(e=af(e,Bi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki===null?null:{id:Ai,overflow:ji},retryLane:536870912,hydrationErrors:null},n=yi(e),n.return=t,t.child=n,Li=t,Ri=null)):e=null,e===null)throw Hi(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(po(t),a=t.mode,c=jc({mode:`hidden`,children:c},a),r=_i(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Dc(n),r.childLanes=Oc(e,s,n),t.memoizedState=Ec,gc(null,r)):(lo(t),Ac(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(lo(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState===null?(po(t),c=r.fallback,a=t.mode,r=jc({mode:`visible`,children:r.children},a),c=_i(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ha(t,e.child,null,n),r=t.child,r.memoizedState=Dc(n),r.childLanes=Oc(e,s,n),t.memoizedState=Ec,t=gc(null,r)):(po(t),t.child=e.child,t.flags|=128,t=null);else if(lo(t),sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ji({value:r,source:null,stack:null}),t=Mc(e,t,n)}else if(uc||na(e,t,n,!1),s=(n&e.childLanes)!==0,uc||s){if(s=Rl,s!==null&&(r=ct(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,si(e,r),hu(s,e,r),lc;of(c)||Du(),t=Mc(e,t,n)}else of(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ri=lf(c.nextSibling),Li=t,F=!0,zi=null,Bi=!1,e!==null&&Ii(t,e),t=Ac(t,r.children),t.flags|=4096);return t}return a?(po(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=mi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=_i(c,a,n,null),c.flags|=2):c=mi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,gc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Dc(n):(a=c.cachePool,a===null?a=Ta():(l=da._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Oc(e,s,n),t.memoizedState=Ec,gc(e.child,r)):(lo(t),n=e.child,e=n.sibling,n=mi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ac(e,t){return t=jc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function jc(e,t){return e=fi(22,e,null,t),e.lanes=0,e}function Mc(e,t,n){return Ha(t,e.child,null,n),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function Nc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Pc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ho.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,O(ho,o),dc(e,t,r,n),r=F?Ei:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L(e,n,t);else if(e.tag===19)L(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&go(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&go(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nc(t,!0,n,null,a,r);break;case`together`:Nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Fc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function R(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ra(e))):!0}function Ic(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Qi(t,da,e.memoizedState.cache),Ki();break;case 27:case 5:xe(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Qi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(lo(t),e=Fc(e,t,n),e===null?null:e.sibling):kc(e,t,n):(lo(t),t.flags|=128,null);lo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(na(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Pc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),O(ho,ho.current),r)break;return null;case 22:return t.lanes=0,hc(e,t,n,t.pendingProps);case 24:Qi(t,da,e.memoizedState.cache)}return Fc(e,t,n)}function z(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)uc=!0;else{if(!R(e,n)&&!(t.flags&128))return uc=!1,Ic(e,t,n);uc=!!(e.flags&131072)}else uc=!1,F&&t.flags&1048576&&Ni(t,Ei,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ma(t.elementType),t.type=e,typeof e==`function`)pi(e)?(r=$s(e,r),t.tag=1,t=wc(null,t,e,r,n)):(t.tag=0,t=Sc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=fc(null,t,e,r,n);break a}else if(a===te){t.tag=14,t=pc(null,t,e,r,n);break a}}throw t=ce(e)||e,Error(i(306,t,``))}}return t;case 0:return Sc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=$s(r,t.pendingProps),wc(e,t,r,a,n);case 3:a:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ka(e,t),$a(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Qi(t,da,r),r!==o.cache&&ta(t,[da],n,!0),Qa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Tc(e,t,r,n);break a}else if(r!==a){a=Si(Error(i(424)),t),Ji(a),t=Tc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ri=lf(e.firstChild),Li=t,F=!0,zi=null,Bi=!0,n=Ua(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){t=Fc(e,t,n);break a}dc(e,t,r,n)}t=t.child}return t;case 26:return xc(e,t),e===null?(n=kf(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,r=Vd(_e.current).createElement(n),r[mt]=t,r[ht]=e,Fd(r,n,e),Dt(r),t.stateNode=r):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&F&&(r=t.stateNode=ff(t.type,t.pendingProps,_e.current),Li=t,Bi=!0,a=Ri,Qd(t.type)?(uf=a,Ri=lf(r.firstChild)):Ri=a),dc(e,t,t.pendingProps.children,n),xc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((a=r=Ri)&&(r=nf(r,t.type,t.pendingProps,Bi),r===null?a=!1:(t.stateNode=r,Li=t,Ri=lf(r.firstChild),Bi=!1,a=!0)),a||Hi(t)),xe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Wd(a,o)?r=null:s!==null&&Wd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=ko(e,t,Mo,null,null,n),Qf._currentValue=a),xc(e,t),dc(e,t,r,n),t.child;case 6:return e===null&&F&&((e=n=Ri)&&(n=rf(n,t.pendingProps,Bi),n===null?e=!1:(t.stateNode=n,Li=t,Ri=null,e=!0)),e||Hi(t)),null;case 13:return kc(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ha(t,null,r,n):dc(e,t,r,n),t.child;case 11:return fc(e,t,t.type,t.pendingProps,n);case 7:return dc(e,t,t.pendingProps,n),t.child;case 8:return dc(e,t,t.pendingProps.children,n),t.child;case 12:return dc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Qi(t,t.type,r.value),dc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ia(t),a=aa(a),r=r(a),t.flags|=1,dc(e,t,r,n),t.child;case 14:return pc(e,t,t.type,t.pendingProps,n);case 15:return mc(e,t,t.type,t.pendingProps,n);case 19:return Pc(e,t,n);case 31:return bc(e,t,n);case 22:return hc(e,t,n,t.pendingProps);case 24:return ia(t),r=aa(da),e===null?(a=Ca(),a===null&&(a=Rl,o=fa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ga(t),Qi(t,da,a)):((e.lanes&n)!==0&&(Ka(e,t),$a(t,null,null,n),Qa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Qi(t,da,r),r!==a.cache&&ta(t,[da],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Qi(t,da,r))),dc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function B(e){e.flags|=4}function V(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(wu())e.flags|=8192;else throw Na=ka,Da}else e.flags&=-16777217}function H(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(wu())e.flags|=8192;else throw Na=ka,Da}function Lc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:rt(),e.lanes|=t,Yl|=t)}function Rc(e,t){if(!F)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bc(e,t,n){var r=t.pendingProps;switch(Fi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zc(t),null;case 1:return zc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$i(da),be(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Gi(t)?B(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi())),zc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(B(t),o===null?(zc(t),V(t,a,null,r,n)):(zc(t),H(t,o))):o?o===e.memoizedState?(zc(t),t.flags&=-16777217):(B(t),zc(t),H(t,o)):(e=e.memoizedProps,e!==r&&B(t),zc(t),V(t,a,e,r,n)),null;case 27:if(Se(t),n=_e.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&B(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}e=he.current,Gi(t)?Ui(t,e):(e=ff(a,r,n),t.stateNode=e,B(t))}return zc(t),null;case 5:if(Se(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&B(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return zc(t),null}if(o=he.current,Gi(t))Ui(t,o);else{var s=Vd(_e.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[mt]=t,o[ht]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Fd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&B(t)}}return zc(t),V(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&B(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=_e.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Li,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[mt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Md(e.nodeValue,n)),e||Hi(t,!0)}else e=Vd(e).createTextNode(r),e[mt]=t,t.stateNode=e}return zc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Gi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[mt]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zc(t),e=!1}else n=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mo(t),t):(mo(t),null);if(t.flags&128)throw Error(i(558))}return zc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[mt]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zc(t),a=!1}else a=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(mo(t),t):(mo(t),null)}return mo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Lc(t,t.updateQueue),zc(t),null);case 4:return be(),e===null&&Cd(t.stateNode.containerInfo),zc(t),null;case 10:return $i(t.type),zc(t),null;case 19:if(me(ho),r=t.memoizedState,r===null)return zc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Rc(r,!1);else{if(X!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=go(e),o!==null){for(t.flags|=128,Rc(r,!1),e=o.updateQueue,t.updateQueue=e,Lc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hi(n,e),n=n.sibling;return O(ho,ho.current&1|2),F&&Mi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Fe()>tu&&(t.flags|=128,a=!0,Rc(r,!1),t.lanes=4194304)}else{if(!a)if(e=go(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Lc(t,e),Rc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!F)return zc(t),null}else 2*Fe()-r.renderingStartTime>tu&&n!==536870912&&(t.flags|=128,a=!0,Rc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(zc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Fe(),e.sibling=null,n=ho.current,O(ho,a?n&1|2:n&1),F&&Mi(t,r.treeForkCount),e);case 22:case 23:return mo(t),oo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(zc(t),t.subtreeFlags&6&&(t.flags|=8192)):zc(t),n=t.updateQueue,n!==null&&Lc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&me(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$i(da),zc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Vc(e,t){switch(Fi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(da),be(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(mo(t),t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ho),null;case 4:return be(),null;case 10:return $i(t.type),null;case 22:case 23:return mo(t),oo(),e!==null&&me(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $i(da),null;case 25:return null;default:return null}}function Hc(e,t){switch(Fi(t),t.tag){case 3:$i(da),be();break;case 26:case 27:case 5:Se(t);break;case 4:be();break;case 31:t.memoizedState!==null&&mo(t);break;case 13:mo(t);break;case 19:me(ho);break;case 10:$i(t.type);break;case 22:case 23:mo(t),oo(),e!==null&&me(Sa);break;case 24:$i(da)}}function Uc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Gu(t,t.return,e)}}function Wc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Gu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Gu(t,t.return,e)}}function Gc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{to(t,n)}catch(t){Gu(e,e.return,t)}}}function Kc(e,t,n){n.props=$s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Gu(e,t,n)}}function qc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Gu(e,t,n)}}function U(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Gu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Gu(e,t,n)}else n.current=null}function Jc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Gu(e,e.return,t)}}function Yc(e,t,n){try{var r=e.stateNode;Id(r,e.type,n,t),r[ht]=t}catch(t){Gu(e,e.return,t)}}function Xc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qd(e.type)||e.tag===4}function Zc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Fd(t,r,n),t[mt]=e,t[ht]=n}catch(t){Gu(e,e.return,t)}}var tl=!1,nl=!1,rl=!1,W=typeof WeakSet==`function`?WeakSet:Set,il=null;function al(e,t){if(e=e.containerInfo,zd=sp,e=Mr(e),Nr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Bd={focusedElem:e,selectionRange:n},sp=!1,il=t;il!==null;)if(t=il,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,il=e;else for(;il!==null;){switch(t=il,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=$s(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Gu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:tf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,il=e;break}il=t.return}}function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bl(e,n),r&4&&Uc(5,n);break;case 1:if(bl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Gu(n,n.return,e)}else{var i=$s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Gu(n,n.return,e)}}r&64&&Gc(n),r&512&&qc(n,n.return);break;case 3:if(bl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{to(e,t)}catch(e){Gu(n,n.return,e)}}break;case 27:t===null&&r&4&&el(n);case 26:case 5:bl(e,n),t===null&&r&4&&Jc(n),r&512&&qc(n,n.return);break;case 12:bl(e,n);break;case 31:bl(e,n),r&4&&fl(e,n);break;case 13:bl(e,n),r&4&&pl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Yu.bind(null,n),cf(e,n))));break;case 22:if(r=n.memoizedState!==null||tl,!r){t=t!==null&&t.memoizedState!==null||nl,i=tl;var a=nl;tl=r,(nl=t)&&!a?Sl(e,n,(n.subtreeFlags&8772)!=0):bl(e,n),tl=i,nl=a}break;case 30:break;default:bl(e,n)}}function sl(e){var t=e.alternate;t!==null&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&St(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var cl=null,ll=!1;function ul(e,t,n){for(n=n.child;n!==null;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(We&&typeof We.onCommitFiberUnmount==`function`)try{We.onCommitFiberUnmount(Ue,n)}catch{}switch(n.tag){case 26:nl||U(n,t),ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nl||U(n,t);var r=cl,i=ll;Qd(n.type)&&(cl=n.stateNode,ll=!1),ul(e,t,n),pf(n.stateNode),cl=r,ll=i;break;case 5:nl||U(n,t);case 6:if(r=cl,i=ll,cl=null,ul(e,t,n),cl=r,ll=i,cl!==null)if(ll)try{(cl.nodeType===9?cl.body:cl.nodeName===`HTML`?cl.ownerDocument.body:cl).removeChild(n.stateNode)}catch(e){Gu(n,t,e)}else try{cl.removeChild(n.stateNode)}catch(e){Gu(n,t,e)}break;case 18:cl!==null&&(ll?(e=cl,$d(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):$d(cl,n.stateNode));break;case 4:r=cl,i=ll,cl=n.stateNode.containerInfo,ll=!0,ul(e,t,n),cl=r,ll=i;break;case 0:case 11:case 14:case 15:Wc(2,n,t),nl||Wc(4,n,t),ul(e,t,n);break;case 1:nl||(U(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Kc(n,t,r)),ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:nl=(r=nl)||n.memoizedState!==null,ul(e,t,n),nl=r;break;default:ul(e,t,n)}}function fl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Gu(t,t.return,e)}}}function pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Gu(t,t.return,e)}}function ml(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new W),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new W),t;default:throw Error(i(435,e.tag))}}function G(e,t){var n=ml(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xu.bind(null,e,t);t.then(r,r)}})}function hl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Qd(c.type)){cl=c.stateNode,ll=!1;break a}break;case 5:cl=c.stateNode,ll=!1;break a;case 3:case 4:cl=c.stateNode.containerInfo,ll=!0;break a}c=c.return}if(cl===null)throw Error(i(160));dl(o,s,a),cl=null,ll=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_l(t,e),t=t.sibling}var gl=null;function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),vl(e),r&4&&(Wc(3,e,e.return),Uc(3,e),Wc(5,e,e.return));break;case 1:hl(t,e),vl(e),r&512&&(nl||n===null||U(n,n.return)),r&64&&tl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=gl;if(hl(t,e),vl(e),r&512&&(nl||n===null||U(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[xt]||o[mt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Fd(o,r,n),o[mt]=e,Dt(o),r=o;break a;case`link`:var s=Vf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Fd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Vf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Fd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[mt]=e,Dt(o),r=o}e.stateNode=r}else Hf(a,e.type,e.stateNode);else e.stateNode=If(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hf(a,e.type,e.stateNode):If(a,r,e.memoizedProps))}break;case 27:hl(t,e),vl(e),r&512&&(nl||n===null||U(n,n.return)),n!==null&&r&4&&Yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hl(t,e),vl(e),r&512&&(nl||n===null||U(n,n.return)),e.flags&32){a=e.stateNode;try{Zt(a,``)}catch(t){Gu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Yc(e,a,n===null?a:n.memoizedProps)),r&1024&&(rl=!0);break;case 6:if(hl(t,e),vl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Gu(e,e.return,t)}}break;case 3:if(Bf=null,a=gl,gl=gf(t.containerInfo),hl(t,e),gl=a,vl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Gu(e,e.return,t)}rl&&(rl=!1,yl(e));break;case 4:r=gl,gl=gf(e.stateNode.containerInfo),hl(t,e),vl(e),gl=r;break;case 12:hl(t,e),vl(e);break;case 31:hl(t,e),vl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,G(e,r)));break;case 13:hl(t,e),vl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($l=Fe()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,G(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=tl,d=nl;if(tl=u||a,nl=d||l,hl(t,e),nl=d,tl=u,vl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||tl||nl||xl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Gu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Gu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?ef(m,!0):ef(l.stateNode,!1)}catch(e){Gu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,G(e,n))));break;case 19:hl(t,e),vl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,G(e,r)));break;case 30:break;case 21:break;default:hl(t,e),vl(e)}}function vl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Xc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;$c(e,Zc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Zt(o,``),n.flags&=-33),$c(e,Zc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Qc(e,Zc(e),s);break;default:throw Error(i(161))}}catch(t){Gu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ol(e,t.alternate,t),t=t.sibling}function xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wc(4,t,t.return),xl(t);break;case 1:U(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Kc(t,t.return,n),xl(t);break;case 27:pf(t.stateNode);case 26:case 5:U(t,t.return),xl(t);break;case 22:t.memoizedState===null&&xl(t);break;case 30:xl(t);break;default:xl(t)}e=e.sibling}}function Sl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(i,a,n),Uc(4,a);break;case 1:if(Sl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Gu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)eo(c[i],s)}catch(e){Gu(r,r.return,e)}}n&&o&64&&Gc(a),qc(a,a.return);break;case 27:el(a);case 26:case 5:Sl(i,a,n),n&&r===null&&o&4&&Jc(a),qc(a,a.return);break;case 12:Sl(i,a,n);break;case 31:Sl(i,a,n),n&&o&4&&fl(i,a);break;case 13:Sl(i,a,n),n&&o&4&&pl(i,a);break;case 22:a.memoizedState===null&&Sl(i,a,n),qc(a,a.return);break;case 30:break;default:Sl(i,a,n)}t=t.sibling}}function Cl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&pa(n))}function K(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e))}function wl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tl(e,t,n,r),t=t.sibling}function Tl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:wl(e,t,n,r),i&2048&&Uc(9,t);break;case 1:wl(e,t,n,r);break;case 3:wl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e)));break;case 12:if(i&2048){wl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Gu(t,t.return,e)}}else wl(e,t,n,r);break;case 31:wl(e,t,n,r);break;case 13:wl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?wl(e,t,n,r):(a._visibility|=2,El(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?wl(e,t,n,r):Dl(e,t),i&2048&&Cl(o,t);break;case 24:wl(e,t,n,r),i&2048&&K(t.alternate,t);break;default:wl(e,t,n,r)}}function El(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:El(a,o,s,c,i),Uc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,El(a,o,s,c,i)):u._visibility&2?El(a,o,s,c,i):Dl(a,o),i&&l&2048&&Cl(o.alternate,o);break;case 24:El(a,o,s,c,i),i&&l&2048&&K(o.alternate,o);break;default:El(a,o,s,c,i)}t=t.sibling}}function Dl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Dl(n,r),i&2048&&Cl(r.alternate,r);break;case 24:Dl(n,r),i&2048&&K(r.alternate,r);break;default:Dl(n,r)}t=t.sibling}}var Ol=8192;function kl(e,t,n){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)Al(e,t,n),e=e.sibling}function Al(e,t,n){switch(e.tag){case 26:kl(e,t,n),e.flags&Ol&&e.memoizedState!==null&&Gf(n,gl,e.memoizedState,e.memoizedProps);break;case 5:kl(e,t,n);break;case 3:case 4:var r=gl;gl=gf(e.stateNode.containerInfo),kl(e,t,n),gl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ol,Ol=16777216,kl(e,t,n),Ol=r):kl(e,t,n));break;default:kl(e,t,n)}}function jl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];il=r,Fl(r,e)}jl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Wc(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pl(e)):Ml(e);break;default:Ml(e)}}function Pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];il=r,Fl(r,e)}jl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wc(8,t,t.return),Pl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pl(t));break;default:Pl(t)}e=e.sibling}}function Fl(e,t){for(;il!==null;){var n=il;switch(n.tag){case 0:case 11:case 15:Wc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:pa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,il=r;else a:for(n=e;il!==null;){r=il;var i=r.sibling,a=r.return;if(sl(r),r===n){il=null;break a}if(i!==null){i.return=a,il=i;break a}il=a}}}var Il={getCacheForType:function(e){var t=aa(da),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return aa(da).controller.signal}},Ll=typeof WeakMap==`function`?WeakMap:Map,q=0,Rl=null,J=null,Y=0,zl=0,Bl=null,Vl=!1,Hl=!1,Ul=!1,Wl=0,X=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=null,Zl=null,Ql=!1,$l=0,eu=0,tu=1/0,nu=null,ru=null,iu=0,au=null,ou=null,su=0,cu=0,lu=null,uu=null,du=0,fu=null;function pu(){return q&2&&Y!==0?Y&-Y:E.T===null?dt():fd()}function mu(){if(Jl===0)if(!(Y&536870912)||F){var e=Ze;Ze<<=1,!(Ze&3932160)&&(Ze=262144),Jl=e}else Jl=536870912;return e=so.current,e!==null&&(e.flags|=32),Jl}function hu(e,t,n){(e===Rl&&(zl===2||zl===9)||e.cancelPendingCommit!==null)&&(Su(e,0),yu(e,Y,Jl,!1)),at(e,n),(!(q&2)||e!==Rl)&&(e===Rl&&(!(q&2)&&(Kl|=n),X===4&&yu(e,Y,Jl,!1)),id(e))}function gu(e,t,n){if(q&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||tt(e,t),a=r?Au(e,t):Ou(e,t,!0),o=r;do{if(a===0){Hl&&!r&&yu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vu(n)){a=Ou(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Xl;var l=c.current.memoizedState.isDehydrated;if(l&&(Su(c,s).flags|=256),s=Ou(c,s,!1),s!==2){if(Ul&&!l){c.errorRecoveryDisabledLanes|=o,Kl|=o,a=4;break a}o=Zl,Zl=a,o!==null&&(Zl===null?Zl=o:Zl.push.apply(Zl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Su(e,0),yu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:yu(r,t,Jl,!Vl);break a;case 2:Zl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=$l+300-Fe(),10<a)){if(yu(r,t,Jl,!Vl),et(r,0,!0)!==0)break a;su=t,r.timeoutHandle=qd(_u.bind(null,r,n,Zl,nu,Ql,t,Jl,Kl,Yl,Vl,o,`Throttled`,-0,0),a);break a}_u(r,n,Zl,nu,Ql,t,Jl,Kl,Yl,Vl,o,null,-0,0)}}break}while(1);id(e)}function _u(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Al(t,a,d);var m=(a&62914560)===a?$l-Fe():(a&4194048)===a?eu-Fe():0;if(m=qf(d,m),m!==null){su=a,e.cancelPendingCommit=m(Lu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),yu(e,a,o,!l);return}}Lu(e,t,a,n,r,i,o,s,c)}function vu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Dr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t,n,r){t&=~ql,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ke(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&st(e,n,t)}function bu(){return q&6?!0:(ad(0,!1),!1)}function xu(){if(J!==null){if(zl===0)var e=J.return;else e=J,Zi=Xi=null,Fo(e),Ia=null,La=0,e=J;for(;e!==null;)Hc(e.alternate,e),e=e.return;J=null}}function Su(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),su=0,xu(),Rl=e,J=n=mi(e.current,null),Y=t,zl=0,Bl=null,Vl=!1,Hl=tt(e,t),Ul=!1,Yl=Jl=ql=Kl=Gl=X=0,Zl=Xl=null,Ql=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ke(r),a=1<<i;t|=e[i],r&=~a}return Wl=t,ii(),n}function Cu(e,t){I=null,E.H=Gs,t===Ea||t===Oa?(t=Pa(),zl=3):t===Da?(t=Pa(),zl=4):zl=t===lc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Bl=t,J===null&&(X=1,rc(e,Si(t,e.current)))}function wu(){var e=so.current;return e===null?!0:(Y&4194048)===Y?co===null:(Y&62914560)===Y||Y&536870912?e===co:!1}function Tu(){var e=E.H;return E.H=Gs,e===null?Gs:e}function Eu(){var e=E.A;return E.A=Il,e}function Du(){X=4,Vl||(Y&4194048)!==Y&&so.current!==null||(Hl=!0),!(Gl&134217727)&&!(Kl&134217727)||Rl===null||yu(Rl,Y,Jl,!1)}function Ou(e,t,n){var r=q;q|=2;var i=Tu(),a=Eu();(Rl!==e||Y!==t)&&(nu=null,Su(e,t)),t=!1;var o=X;a:do try{if(zl!==0&&J!==null){var s=J,c=Bl;switch(zl){case 8:xu(),o=6;break a;case 3:case 2:case 9:case 6:so.current===null&&(t=!0);var l=zl;if(zl=0,Bl=null,Pu(e,s,c,l),n&&Hl){o=0;break a}break;default:l=zl,zl=0,Bl=null,Pu(e,s,c,l)}}ku(),o=X;break}catch(t){Cu(e,t)}while(1);return t&&e.shellSuspendCounter++,Zi=Xi=null,q=r,E.H=i,E.A=a,J===null&&(Rl=null,Y=0,ii()),o}function ku(){for(;J!==null;)Mu(J)}function Au(e,t){var n=q;q|=2;var r=Tu(),a=Eu();Rl!==e||Y!==t?(nu=null,tu=Fe()+500,Su(e,t)):Hl=tt(e,t);a:do try{if(zl!==0&&J!==null){t=J;var o=Bl;b:switch(zl){case 1:zl=0,Bl=null,Pu(e,t,o,1);break;case 2:case 9:if(Aa(o)){zl=0,Bl=null,Nu(t);break}t=function(){zl!==2&&zl!==9||Rl!==e||(zl=7),id(e)},o.then(t,t);break a;case 3:zl=7;break a;case 4:zl=5;break a;case 7:Aa(o)?(zl=0,Bl=null,Nu(t)):(zl=0,Bl=null,Pu(e,t,o,7));break;case 5:var s=null;switch(J.tag){case 26:s=J.memoizedState;case 5:case 27:var c=J;if(s?Wf(s):c.stateNode.complete){zl=0,Bl=null;var l=c.sibling;if(l!==null)J=l;else{var u=c.return;u===null?J=null:(J=u,Fu(u))}break b}}zl=0,Bl=null,Pu(e,t,o,5);break;case 6:zl=0,Bl=null,Pu(e,t,o,6);break;case 8:xu(),X=6;break a;default:throw Error(i(462))}}ju();break}catch(t){Cu(e,t)}while(1);return Zi=Xi=null,E.H=r,E.A=a,q=n,J===null?(Rl=null,Y=0,ii(),X):0}function ju(){for(;J!==null&&!Ne();)Mu(J)}function Mu(e){var t=z(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,t===null?Fu(e):J=t}function Nu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Cc(n,t,t.pendingProps,t.type,void 0,Y);break;case 11:t=Cc(n,t,t.pendingProps,t.type.render,t.ref,Y);break;case 5:Fo(t);default:Hc(n,t),t=J=hi(t,Wl),t=z(n,t,Wl)}e.memoizedProps=e.pendingProps,t===null?Fu(e):J=t}function Pu(e,t,n,r){Zi=Xi=null,Fo(t),Ia=null,La=0;var i=t.return;try{if(cc(e,i,t,n,Y)){X=1,rc(e,Si(n,e.current)),J=null;return}}catch(t){if(i!==null)throw J=i,t;X=1,rc(e,Si(n,e.current)),J=null;return}t.flags&32768?(F||r===1?e=!0:Hl||Y&536870912?e=!1:(Vl=e=!0,(r===2||r===9||r===3||r===6)&&(r=so.current,r!==null&&r.tag===13&&(r.flags|=16384))),Iu(t,e)):Fu(t)}function Fu(e){var t=e;do{if(t.flags&32768){Iu(t,Vl);return}e=t.return;var n=Bc(t.alternate,t,Wl);if(n!==null){J=n;return}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);X===0&&(X=5)}function Iu(e,t){do{var n=Vc(e.alternate,e);if(n!==null){n.flags&=32767,J=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){J=e;return}J=e=n}while(e!==null);X=6,J=null}function Lu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Hu();while(iu!==0);if(q&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ri,ot(e,n,o,s,c,l),e===Rl&&(J=Rl=null,Y=0),ou=t,au=e,su=n,cu=o,lu=a,uu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Zu(ze,function(){return Uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=E.T,E.T=null,a=D.p,D.p=2,s=q,q|=4;try{al(e,t,n)}finally{q=s,D.p=a,E.T=r}}iu=1,Ru(),zu(),Bu()}}function Ru(){if(iu===1){iu=0;var e=au,t=ou,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=q;q|=4;try{_l(t,e);var a=Bd,o=Mr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&jr(s.ownerDocument.documentElement,s)){if(c!==null&&Nr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Ar(s,h),v=Ar(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}sp=!!zd,Bd=zd=null}finally{q=i,D.p=r,E.T=n}}e.current=t,iu=2}}function zu(){if(iu===2){iu=0;var e=au,t=ou,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=q;q|=4;try{ol(e,t.alternate,t)}finally{q=i,D.p=r,E.T=n}}iu=3}}function Bu(){if(iu===4||iu===3){iu=0,Pe();var e=au,t=ou,n=su,r=uu;t.subtreeFlags&10256||t.flags&10256?iu=5:(iu=0,ou=au=null,Vu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ru=null),ut(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot==`function`)try{We.onCommitFiberRoot(Ue,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=E.T,i=D.p,D.p=2,E.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{E.T=t,D.p=i}}su&3&&Hu(),id(e),i=e.pendingLanes,n&261930&&i&42?e===fu?du++:(du=0,fu=e):du=0,ad(0,!1)}}function Vu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pa(t)))}function Hu(){return Ru(),zu(),Bu(),Uu()}function Uu(){if(iu!==5)return!1;var e=au,t=cu;cu=0;var n=ut(su),r=E.T,a=D.p;try{D.p=32>n?32:n,E.T=null,n=lu,lu=null;var o=au,s=su;if(iu=0,ou=au=null,su=0,q&6)throw Error(i(331));var c=q;if(q|=4,Nl(o.current),Tl(o,o.current,s,n),q=c,ad(0,!1),We&&typeof We.onPostCommitFiberRoot==`function`)try{We.onPostCommitFiberRoot(Ue,o)}catch{}return!0}finally{D.p=a,E.T=r,Vu(e,t)}}function Wu(e,t,n){t=Si(n,t),t=ac(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(at(e,2),id(e))}function Gu(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(ru===null||!ru.has(r))){e=Si(n,e),n=oc(2),r=Ja(t,n,2),r!==null&&(sc(n,r,t,e),at(r,2),id(r));break}}t=t.return}}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ll;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Ul=!0,i.add(n),e=qu.bind(null,e,t,n),t.then(e,e))}function qu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rl===e&&(Y&n)===n&&(X===4||X===3&&(Y&62914560)===Y&&300>Fe()-$l?!(q&2)&&Su(e,0):ql|=n,Yl===Y&&(Yl=0)),id(e)}function Ju(e,t){t===0&&(t=rt()),e=si(e,t),e!==null&&(at(e,t),id(e))}function Yu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ju(e,n)}function Xu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ju(e,n)}function Zu(e,t){return je(e,t)}var Qu=null,$u=null,ed=!1,td=!1,nd=!1,rd=0;function id(e){e!==$u&&e.next===null&&($u===null?Qu=$u=e:$u=$u.next=e),td=!0,ed||(ed=!0,dd())}function ad(e,t){if(!nd&&td){nd=!0;do for(var n=!1,r=Qu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ke(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ud(r,a))}else a=Y,a=et(r,r===Rl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||tt(r,a)||(n=!0,ud(r,a));r=r.next}while(n);nd=!1}}function od(){sd()}function sd(){td=ed=!1;var e=0;rd!==0&&Kd()&&(e=rd);for(var t=Fe(),n=null,r=Qu;r!==null;){var i=r.next,a=cd(r,t);a===0?(r.next=null,n===null?Qu=i:n.next=i,i===null&&($u=n)):(n=r,(e!==0||a&3)&&(td=!0)),r=i}iu!==0&&iu!==5||ad(e,!1),rd!==0&&(rd=0)}function cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ke(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=nt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Rl,n=Y,n=et(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(zl===2||zl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Me(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||tt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Me(r),ut(n)){case 2:case 8:n=Re;break;case 32:n=ze;break;case 268435456:n=Ve;break;default:n=ze}return r=ld.bind(null,e),n=je(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Me(r),e.callbackPriority=2,e.callbackNode=null,2}function ld(e,t){if(iu!==0&&iu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hu()&&e.callbackNode!==n)return null;var r=Y;return r=et(e,e===Rl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(gu(e,r,t),cd(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?ld.bind(null,e):null)}function ud(e,t){if(Hu())return null;gu(e,t,!0)}function dd(){Xd(function(){q&6?je(Le,od):sd()})}function fd(){if(rd===0){var e=ga;e===0&&(e=Xe,Xe<<=1,!(Xe&261888)&&(Xe=256)),rd=e}return rd}function pd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:an(``+e)}function md(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=pd((i[ht]||null).action),o=r.submitter;o&&(t=(t=o[ht]||null)?pd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Dn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rd!==0){var e=o?md(i,o):new FormData(i);js(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?md(i,o):new FormData(i),js(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var gd=0;gd<Qr.length;gd++){var _d=Qr[gd];$r(_d.toLowerCase(),`on`+(_d[0].toUpperCase()+_d.slice(1)))}$r(Wr,`onAnimationEnd`),$r(Gr,`onAnimationIteration`),$r(Kr,`onAnimationStart`),$r(`dblclick`,`onDoubleClick`),$r(`focusin`,`onFocus`),$r(`focusout`,`onBlur`),$r(qr,`onTransitionRun`),$r(Jr,`onTransitionStart`),$r(Yr,`onTransitionCancel`),$r(Xr,`onTransitionEnd`),jt(`onMouseEnter`,[`mouseout`,`mouseover`]),jt(`onMouseLeave`,[`mouseout`,`mouseover`]),jt(`onPointerEnter`,[`pointerout`,`pointerover`]),jt(`onPointerLeave`,[`pointerout`,`pointerover`]),At(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),At(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),At(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),At(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),At(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),At(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var vd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),yd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(vd));function bd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ei(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ei(e)}i.currentTarget=null,a=c}}}}function Z(e,t){var n=t[_t];n===void 0&&(n=t[_t]=new Set);var r=e+`__bubble`;n.has(r)||(wd(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Sd=`_reactListening`+Math.random().toString(36).slice(2);function Cd(e){if(!e[Sd]){e[Sd]=!0,Ot.forEach(function(t){t!==`selectionchange`&&(yd.has(t)||xd(t,!1,e),xd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sd]||(t[Sd]=!0,xd(`selectionchange`,!1,t))}}function wd(e,t,n,r){switch(mp(t)){case 2:var i=cp;break;case 8:i=lp;break;default:i=up}n=i.bind(null,t,n,e),i=void 0,!gn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Td(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Ct(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}pn(function(){var r=a,i=cn(n),s=[];a:{var c=Zr.get(e);if(c!==void 0){var l=Dn,u=e;switch(e){case`keypress`:if(Sn(n)===0)break a;case`keydown`:case`keyup`:l=Gn;break;case`focusin`:u=`focus`,l=In;break;case`focusout`:u=`blur`,l=In;break;case`beforeblur`:case`afterblur`:l=In;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Pn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Fn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=qn;break;case Wr:case Gr:case Kr:l=Ln;break;case Xr:l=Jn;break;case`scroll`:case`scrollend`:l=kn;break;case`wheel`:l=Yn;break;case`copy`:case`cut`:case`paste`:l=Rn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Kn;break;case`toggle`:case`beforetoggle`:l=Xn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=mn(m,p),g!=null&&d.push(Q(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==sn&&(u=n.relatedTarget||n.fromElement)&&(Ct(u)||u[gt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Ct(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Pn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Kn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Tt(l),h=u==null?c:Tt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Ct(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Dd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Od(s,c,l,d,!1),u!==null&&f!==null&&Od(s,f,u,d,!0)}}a:{if(c=r?Tt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=gr;else if(ur(c))if(_r)v=N;else{v=wr;var y=Cr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&tn(r.elementType)&&(v=gr):v=Tr;if(v&&=v(e,r)){dr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&qt(c,`number`,c.value)}switch(y=r?Tt(r):window,e){case`focusin`:(ur(y)||y.contentEditable===`true`)&&(Fr=y,Ir=r,P=null);break;case`focusout`:P=Ir=Fr=null;break;case`mousedown`:Lr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Lr=!1,Rr(s,n,i);break;case`selectionchange`:if(Pr)break;case`keydown`:case`keyup`:Rr(s,n,i)}var b;if(Qn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else or?ir(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(tr&&n.locale!==`ko`&&(or||x!==`onCompositionStart`?x===`onCompositionEnd`&&or&&(b=xn()):(vn=i,yn=`value`in vn?vn.value:vn.textContent,or=!0)),y=Ed(r,x),0<y.length&&(x=new zn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=ar(n),b!==null&&(x.data=b)))),(b=er?sr(e,n):cr(e,n))&&(x=Ed(r,`onBeforeInput`),0<x.length&&(y=new zn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),hd(s,e,r,n,i)}bd(s,t)})}function Q(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ed(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=mn(e,n),i!=null&&r.unshift(Q(e,i,a)),i=mn(e,t),i!=null&&r.push(Q(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Dd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Od(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=mn(n,a),l!=null&&o.unshift(Q(n,l,c))):i||(l=mn(n,a),l!=null&&o.push(Q(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kd=/\r\n?/g,Ad=/\u0000|\uFFFD/g;function jd(e){return(typeof e==`string`?e:``+e).replace(kd,`
`).replace(Ad,``)}function Md(e,t){return t=jd(t),jd(e)===t}function Nd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Zt(e,``+r);break;case`className`:Lt(e,`class`,r);break;case`tabIndex`:Lt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Lt(e,n,r);break;case`style`:en(e,r,o);break;case`data`:if(t!==`object`){Lt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Nd(e,t,`name`,a.name,a,null),Nd(e,t,`formEncType`,a.formEncType,a,null),Nd(e,t,`formMethod`,a.formMethod,a,null),Nd(e,t,`formTarget`,a.formTarget,a,null)):(Nd(e,t,`encType`,a.encType,a,null),Nd(e,t,`method`,a.method,a,null),Nd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=on);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=an(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Z(`beforetoggle`,e),Z(`toggle`,e),It(e,`popover`,r);break;case`xlinkActuate`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Rt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Rt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Rt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Rt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:It(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=nn.get(n)||n,It(e,n,r))}}function Pd(e,t,n,r,a,o){switch(n){case`style`:en(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Zt(e,``+r);break;case`onScroll`:r!=null&&Z(`scroll`,e);break;case`onScrollEnd`:r!=null&&Z(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=on);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!kt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[ht]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):It(e,n,r)}}}function Fd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Z(`error`,e),Z(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Nd(e,t,o,s,n,null)}}a&&Nd(e,t,`srcSet`,n.srcSet,n,null),r&&Nd(e,t,`src`,n.src,n,null);return;case`input`:Z(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Nd(e,t,r,d,n,null)}}Kt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Z(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Nd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Jt(e,!!r,n,!0):Jt(e,!!r,t,!1);return;case`textarea`:for(s in Z(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Nd(e,t,s,c,n,null)}Xt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Nd(e,t,l,r,n,null)}return;case`dialog`:Z(`beforetoggle`,e),Z(`toggle`,e),Z(`cancel`,e),Z(`close`,e);break;case`iframe`:case`object`:Z(`load`,e);break;case`video`:case`audio`:for(r=0;r<vd.length;r++)Z(vd[r],e);break;case`image`:Z(`error`,e),Z(`load`,e);break;case`details`:Z(`toggle`,e);break;case`embed`:case`source`:case`link`:Z(`error`,e),Z(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Nd(e,t,u,r,n,null)}return;default:if(tn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Pd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Nd(e,t,c,r,n,null))}function Id(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Nd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Nd(e,t,p,m,r,f)}}Gt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Nd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Nd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Jt(e,!!n,n?[]:``,!1):Jt(e,!!n,t,!0)):Jt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Nd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Nd(e,t,s,a,r,o)}Yt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Nd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Nd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Nd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Nd(e,t,u,p,r,m)}return;default:if(tn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Pd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Pd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Nd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Nd(e,t,f,p,r,m)}function Ld(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Rd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Ld(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Ld(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var zd=null,Bd=null;function Vd(e){return e.nodeType===9?e:e.ownerDocument}function Hd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Ud(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Wd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Kd(){var e=window.event;return e&&e.type===`popstate`?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var qd=typeof setTimeout==`function`?setTimeout:void 0,Jd=typeof clearTimeout==`function`?clearTimeout:void 0,Yd=typeof Promise==`function`?Promise:void 0,Xd=typeof queueMicrotask==`function`?queueMicrotask:Yd===void 0?qd:function(e){return Yd.resolve(null).then(e).catch(Zd)};function Zd(e){setTimeout(function(){throw e})}function Qd(e){return e===`head`}function $d(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)pf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,pf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[xt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&pf(e.ownerDocument.body);n=i}while(n);Np(t)}function ef(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:tf(n),St(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function nf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[xt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=lf(e.nextSibling),e===null)break}return null}function rf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=lf(e.nextSibling),e===null))return null;return e}function af(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=lf(e.nextSibling),e===null))return null;return e}function of(e){return e.data===`$?`||e.data===`$~`}function sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var uf=null;function df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return lf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function $(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function ff(e,t,n){switch(t=Vd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);St(e)}var mf=new Map,hf=new Set;function gf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _f=D.d;D.d={f:vf,r:yf,D:Sf,C:Cf,L:wf,m:Tf,X:Df,S:Ef,M:Of};function vf(){var e=_f.f(),t=bu();return e||t}function yf(e){var t=wt(e);t!==null&&t.tag===5&&t.type===`form`?Ns(t):_f.r(e)}var bf=typeof document>`u`?null:document;function xf(e,t,n){var r=bf;if(r&&typeof t==`string`&&t){var i=Wt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Fd(t,`link`,e),Dt(t),r.head.appendChild(t)))}}function Sf(e){_f.D(e),xf(`dns-prefetch`,e,null)}function Cf(e,t){_f.C(e,t),xf(`preconnect`,e,t)}function wf(e,t,n){_f.L(e,t,n);var r=bf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Wt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Wt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Wt(n.imageSizes)+`"]`)):i+=`[href="`+Wt(e)+`"]`;var a=i;switch(t){case`style`:a=Af(e);break;case`script`:a=Pf(e)}mf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),mf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(jf(a))||t===`script`&&r.querySelector(Ff(a))||(t=r.createElement(`link`),Fd(t,`link`,e),Dt(t),r.head.appendChild(t)))}}function Tf(e,t){_f.m(e,t);var n=bf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Wt(r)+`"][href="`+Wt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Pf(e)}if(!mf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),mf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Ff(a)))return}r=n.createElement(`link`),Fd(r,`link`,e),Dt(r),n.head.appendChild(r)}}}function Ef(e,t,n){_f.S(e,t,n);var r=bf;if(r&&e){var i=Et(r).hoistableStyles,a=Af(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(jf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=mf.get(a))&&Rf(e,n);var c=o=r.createElement(`link`);Dt(c),Fd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Lf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Df(e,t){_f.X(e,t);var n=bf;if(n&&e){var r=Et(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),Dt(a),Fd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t){_f.M(e,t);var n=bf;if(n&&e){var r=Et(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),Dt(a),Fd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t,n,r){var a=(a=_e.current)?gf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Af(n.href),n=Et(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Af(n.href);var o=Et(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(jf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),mf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mf.set(e,n),o||Nf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Pf(n),n=Et(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Af(e){return`href="`+Wt(e)+`"`}function jf(e){return`link[rel="stylesheet"][`+e+`]`}function Mf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Fd(t,`link`,n),Dt(t),e.head.appendChild(t))}function Pf(e){return`[src="`+Wt(e)+`"]`}function Ff(e){return`script[async]`+e}function If(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Wt(n.href)+`"]`);if(r)return t.instance=r,Dt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Dt(r),Fd(r,`style`,a),Lf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Af(n.href);var o=e.querySelector(jf(a));if(o)return t.state.loading|=4,t.instance=o,Dt(o),o;r=Mf(n),(a=mf.get(a))&&Rf(r,a),o=(e.ownerDocument||e).createElement(`link`),Dt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Fd(o,`link`,r),t.state.loading|=4,Lf(o,n.precedence,e),t.instance=o;case`script`:return o=Pf(n.src),(a=e.querySelector(Ff(o)))?(t.instance=a,Dt(a),a):(r=n,(a=mf.get(o))&&(r=h({},n),zf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Dt(a),Fd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Lf(r,n.precedence,e));return t.instance}function Lf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Bf=null;function Vf(e,t,n){if(Bf===null){var r=new Map,i=Bf=new Map;i.set(n,r)}else i=Bf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[xt]||a[mt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Uf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Wf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Gf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Af(r.href),a=t.querySelector(jf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Jf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Dt(a);return}a=t.ownerDocument||t,r=Mf(r),(i=mf.get(i))&&Rf(r,i),a=a.createElement(`link`),Dt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Fd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Jf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Kf=0;function qf(e,t){return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Kf===0&&(Kf=62500*Rd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Kf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yf=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yf=new Map,t.forEach(Zf,e),Yf=null,Jf.call(e))}function Zf(e,t){if(!(t.state.loading&4)){var n=Yf.get(e);if(n)var r=n.get(null);else{n=new Map,Yf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Jf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Qf={$$typeof:C,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function $f(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ep(e,t,n,r,i,a,o,s,c,l,u,d){return e=new $f(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=fi(3,null,null,t),e.current=a,a.stateNode=e,t=fa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ga(a),e}function tp(e){return e?(e=ui,e):ui}function np(e,t,n,r,i,a){i=tp(i),r.context===null?r.context=i:r.pendingContext=i,r=qa(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ja(e,r,t),n!==null&&(hu(n,e,t),Ya(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=si(e,67108864);t!==null&&hu(t,e,67108864),ip(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=pu();t=lt(t);var n=si(e,t);n!==null&&hu(n,e,t),ip(e,t)}}var sp=!0;function cp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=2,up(e,t,n,r)}finally{D.p=a,E.T=i}}function lp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=8,up(e,t,n,r)}finally{D.p=a,E.T=i}}function up(e,t,n,r){if(sp){var i=dp(r);if(i===null)Td(e,t,r,fp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=wt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=$e(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ke(o);s.entanglements[1]|=c,o&=~c}id(a),!(q&6)&&(tu=Fe()+500,ad(0,!1))}}break;case 31:case 13:s=si(a,2),s!==null&&hu(s,a,2),bu(),ip(a,2)}if(a=dp(r),a===null&&Td(e,t,r,fp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}function dp(e){return e=cn(e),pp(e)}var fp=null;function pp(e){if(fp=null,e=Ct(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fp=e,null}function mp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Ie()){case Le:return 2;case Re:return 8;case ze:case Be:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wt(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=Ct(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ft(e.priority,function(){op(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ft(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sn=r,n.target.dispatchEvent(r),sn=null}else return t=wt(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(pp(r||n)===null)continue;break}var a=wt(n);a!==null&&(e.splice(t,3),t-=3,js(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[ht]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[ht]||null)s=o.formAction;else if(pp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;np(n,pu(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),bu(),t[gt]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.0`)throw Error(i(527,Lp,`19.2.0`));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:E,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Ue=zp.inject(Rp),We=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=ec,s=tc,c=nc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[gt]=t.current,Cd(e),new Fp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()})),_=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),v=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),y=e=>{let t=v(e);return t.charAt(0).toUpperCase()+t.slice(1)},b=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),x=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},S={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},C=c(u()),w=(0,C.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,C.createElement)(`svg`,{ref:c,...S,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:b(`lucide`,i),...!a&&!x(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,C.createElement)(e,t)),...Array.isArray(a)?a:[a]])),T=(e,t)=>{let n=(0,C.forwardRef)(({className:n,...r},i)=>(0,C.createElement)(w,{ref:i,iconNode:t,className:b(`lucide-${_(y(e))}`,`lucide-${e}`,n),...r}));return n.displayName=y(e),n},ee=T(`award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),te=T(`bell`,[[`path`,{d:`M10.268 21a2 2 0 0 0 3.464 0`,key:`vwvbt9`}],[`path`,{d:`M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326`,key:`11g9vi`}]]),ne=T(`brain`,[[`path`,{d:`M12 18V5`,key:`adv99a`}],[`path`,{d:`M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4`,key:`1e3is1`}],[`path`,{d:`M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5`,key:`1gqd8o`}],[`path`,{d:`M17.997 5.125a4 4 0 0 1 2.526 5.77`,key:`iwvgf7`}],[`path`,{d:`M18 18a4 4 0 0 0 2-7.464`,key:`efp6ie`}],[`path`,{d:`M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517`,key:`1gq6am`}],[`path`,{d:`M6 18a4 4 0 0 1-2-7.464`,key:`k1g0md`}],[`path`,{d:`M6.003 5.125a4 4 0 0 0-2.526 5.77`,key:`q97ue3`}]]),re=T(`building`,[[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M12 6h.01`,key:`1vi96p`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M16 6h.01`,key:`1x0f13`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M8 6h.01`,key:`1dz90k`}],[`path`,{d:`M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3`,key:`cabbwy`}],[`rect`,{x:`4`,y:`2`,width:`16`,height:`20`,rx:`2`,key:`1uxh74`}]]),ie=T(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),ae=T(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),oe=T(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),se=T(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),ce=T(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),le=T(`clipboard-check`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`m9 14 2 2 4-4`,key:`df797q`}]]),E=T(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),D=T(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),ue=T(`film`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M7 3v18`,key:`bbkbws`}],[`path`,{d:`M3 7.5h4`,key:`zfgn84`}],[`path`,{d:`M3 12h18`,key:`1i2n21`}],[`path`,{d:`M3 16.5h4`,key:`1230mu`}],[`path`,{d:`M17 3v18`,key:`in4fa5`}],[`path`,{d:`M17 7.5h4`,key:`myr1c1`}],[`path`,{d:`M17 16.5h4`,key:`go4c1d`}]]),de=T(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),fe=T(`hand`,[[`path`,{d:`M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2`,key:`1fvzgz`}],[`path`,{d:`M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2`,key:`1kc0my`}],[`path`,{d:`M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8`,key:`10h0bg`}],[`path`,{d:`M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15`,key:`1s1gnw`}]]),pe=T(`heart`,[[`path`,{d:`M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5`,key:`mvr1a0`}]]),me=T(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),O=T(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),he=T(`log-in`,[[`path`,{d:`m10 17 5-5-5-5`,key:`1bsop3`}],[`path`,{d:`M15 12H3`,key:`6jk70r`}],[`path`,{d:`M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4`,key:`u53s6r`}]]),ge=T(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),_e=T(`maximize-2`,[[`path`,{d:`M15 3h6v6`,key:`1q9fwt`}],[`path`,{d:`m21 3-7 7`,key:`1l2asr`}],[`path`,{d:`m3 21 7-7`,key:`tjx5ai`}],[`path`,{d:`M9 21H3v-6`,key:`wtvkvv`}]]),ve=T(`mic`,[[`path`,{d:`M12 19v3`,key:`npa21l`}],[`path`,{d:`M19 10v2a7 7 0 0 1-14 0v-2`,key:`1vc78b`}],[`rect`,{x:`9`,y:`2`,width:`6`,height:`13`,rx:`3`,key:`s6n7sd`}]]),ye=T(`music`,[[`path`,{d:`M9 18V5l12-2v13`,key:`1jmyc2`}],[`circle`,{cx:`6`,cy:`18`,r:`3`,key:`fqmcym`}],[`circle`,{cx:`18`,cy:`16`,r:`3`,key:`1hluhg`}]]),be=T(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),xe=T(`plane`,[[`path`,{d:`M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z`,key:`1v9wt8`}]]),Se=T(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Ce=T(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),we=T(`shopping-bag`,[[`path`,{d:`M16 10a4 4 0 0 1-8 0`,key:`1ltviw`}],[`path`,{d:`M3.103 6.034h17.794`,key:`awc11p`}],[`path`,{d:`M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z`,key:`o988cm`}]]),Te=T(`shuffle`,[[`path`,{d:`m18 14 4 4-4 4`,key:`10pe0f`}],[`path`,{d:`m18 2 4 4-4 4`,key:`pucp1d`}],[`path`,{d:`M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22`,key:`1ailkh`}],[`path`,{d:`M2 6h1.972a4 4 0 0 1 3.6 2.2`,key:`km57vx`}],[`path`,{d:`M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45`,key:`os18l9`}]]),Ee=T(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),De=T(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Oe=T(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),ke=T(`trophy`,[[`path`,{d:`M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978`,key:`1n3hpd`}],[`path`,{d:`M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978`,key:`rfe1zi`}],[`path`,{d:`M18 9h1.5a1 1 0 0 0 0-5H18`,key:`7xy6bh`}],[`path`,{d:`M4 22h16`,key:`57wxv0`}],[`path`,{d:`M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z`,key:`1mhfuq`}],[`path`,{d:`M6 9H4.5a1 1 0 0 1 0-5H6`,key:`tex48p`}]]),Ae=T(`tv`,[[`path`,{d:`m17 2-5 5-5-5`,key:`16satq`}],[`rect`,{width:`20`,height:`15`,x:`2`,y:`7`,rx:`2`,key:`1e6viu`}]]),je=T(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Me=T(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Ne=T(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Pe=T(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Fe=T(`zap`,[[`path`,{d:`M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z`,key:`1xq2db`}]]),Ie=c(g(),1),Le=()=>void 0,Re=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ze=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ze(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Ve;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ve=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},He=function(e){let t=Re(e);return Be.encodeByteArray(t,!0)},k=function(e){return He(e).replace(/\./g,``)},Ue=function(e){try{return Be.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function We(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Ge=()=>We().__FIREBASE_DEFAULTS__,Ke=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qe=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ue(e[1]);return t&&JSON.parse(t)},Je=()=>{try{return Le()||Ge()||Ke()||qe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ye=e=>Je()?.emulatorHosts?.[e],Xe=e=>{let t=Ye(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ze=()=>Je()?.config,Qe=e=>Je()?.[`_${e}`],$e=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function et(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function tt(e){return(await fetch(e,{credentials:`include`})).ok}function nt(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[k(JSON.stringify(n)),k(JSON.stringify(o)),``].join(`.`)}var rt={};function it(){let e={prod:[],emulator:[]};for(let t of Object.keys(rt))rt[t]?e.emulator.push(t):e.prod.push(t);return e}function at(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var ot=!1;function st(e,t){if(typeof window>`u`||typeof document>`u`||!et(window.location.host)||rt[e]===t||rt[e]||ot)return;rt[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=it().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{ot=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=at(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function A(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function ct(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function lt(){let e=Je()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function ut(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function dt(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function ft(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function pt(){let e=A();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function mt(){return!lt()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function ht(){try{return typeof indexedDB==`object`}catch{return!1}}function gt(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var _t=`FirebaseError`,vt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=_t,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}},yt=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?bt(i,n):`Error`;return new vt(r,`${this.serviceName}: ${a} (${r}).`,n)}};function bt(e,t){return e.replace(xt,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var xt=/\{\$([^}]+)}/g;function St(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ct(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(wt(n)&&wt(a)){if(!Ct(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function wt(e){return typeof e==`object`&&!!e}function Tt(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Et(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Dt(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Ot(e,t){let n=new kt(e,t);return n.subscribe.bind(n)}var kt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=At(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=jt),r.error===void 0&&(r.error=jt),r.complete===void 0&&(r.complete=jt);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function At(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function jt(){}function Mt(e){return e&&e._delegate?e._delegate:e}var Nt=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Pt=`[DEFAULT]`,Ft=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new $e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Lt(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:It(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function It(e){return e===Pt?void 0:e}function Lt(e){return e.instantiationMode===`EAGER`}var Rt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},j=[],M;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(M||={});var zt={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},Bt=M.INFO,Vt={[M.DEBUG]:`log`,[M.VERBOSE]:`log`,[M.INFO]:`info`,[M.WARN]:`warn`,[M.ERROR]:`error`},Ht=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Vt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ut=class{constructor(e){this.name=e,this._logLevel=Bt,this._logHandler=Ht,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in M))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?zt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...e),this._logHandler(this,M.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...e),this._logHandler(this,M.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,M.INFO,...e),this._logHandler(this,M.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,M.WARN,...e),this._logHandler(this,M.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...e),this._logHandler(this,M.ERROR,...e)}},Wt=(e,t)=>t.some(t=>e instanceof t),Gt,Kt;function qt(){return Gt||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Jt(){return Kt||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Yt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,$t=new WeakMap;function en(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(sn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Yt.set(t,e)}).catch(()=>{}),$t.set(t,e),t}function tn(e){if(Xt.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Xt.set(e,t)}var nn={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Xt.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Zt.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function rn(e){nn=e(nn)}function an(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(cn(this),t,...n);return Zt.set(r,t.sort?t.sort():[t]),sn(r)}:Jt().includes(e)?function(...t){return e.apply(cn(this),t),sn(Yt.get(this))}:function(...t){return sn(e.apply(cn(this),t))}}function on(e){return typeof e==`function`?an(e):(e instanceof IDBTransaction&&tn(e),Wt(e,qt())?new Proxy(e,nn):e)}function sn(e){if(e instanceof IDBRequest)return en(e);if(Qt.has(e))return Qt.get(e);let t=on(e);return t!==e&&(Qt.set(e,t),$t.set(t,e)),t}var cn=e=>$t.get(e);function ln(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=sn(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(sn(o.result),e.oldVersion,e.newVersion,sn(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var un=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],dn=[`put`,`add`,`delete`,`clear`],fn=new Map;function pn(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(fn.get(t))return fn.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=dn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||un.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return fn.set(t,a),a}rn(e=>({...e,get:(t,n,r)=>pn(t,n)||e.get(t,n,r),has:(t,n)=>!!pn(t,n)||e.has(t,n)}));var mn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hn(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function hn(e){return e.getComponent()?.type===`VERSION`}var gn=`@firebase/app`,_n=`0.14.5`,vn=new Ut(`@firebase/app`),yn=`@firebase/app-compat`,bn=`@firebase/analytics-compat`,xn=`@firebase/analytics`,Sn=`@firebase/app-check-compat`,Cn=`@firebase/app-check`,wn=`@firebase/auth`,Tn=`@firebase/auth-compat`,En=`@firebase/database`,Dn=`@firebase/data-connect`,On=`@firebase/database-compat`,kn=`@firebase/functions`,An=`@firebase/functions-compat`,jn=`@firebase/installations`,Mn=`@firebase/installations-compat`,Nn=`@firebase/messaging`,Pn=`@firebase/messaging-compat`,Fn=`@firebase/performance`,In=`@firebase/performance-compat`,Ln=`@firebase/remote-config`,Rn=`@firebase/remote-config-compat`,zn=`@firebase/storage`,Bn=`@firebase/storage-compat`,Vn=`@firebase/firestore`,Hn=`@firebase/ai`,Un=`@firebase/firestore-compat`,Wn=`firebase`,Gn=`12.5.0`,Kn=`[DEFAULT]`,qn={[gn]:`fire-core`,[yn]:`fire-core-compat`,[xn]:`fire-analytics`,[bn]:`fire-analytics-compat`,[Cn]:`fire-app-check`,[Sn]:`fire-app-check-compat`,[wn]:`fire-auth`,[Tn]:`fire-auth-compat`,[En]:`fire-rtdb`,[Dn]:`fire-data-connect`,[On]:`fire-rtdb-compat`,[kn]:`fire-fn`,[An]:`fire-fn-compat`,[jn]:`fire-iid`,[Mn]:`fire-iid-compat`,[Nn]:`fire-fcm`,[Pn]:`fire-fcm-compat`,[Fn]:`fire-perf`,[In]:`fire-perf-compat`,[Ln]:`fire-rc`,[Rn]:`fire-rc-compat`,[zn]:`fire-gcs`,[Bn]:`fire-gcs-compat`,[Vn]:`fire-fst`,[Un]:`fire-fst-compat`,[Hn]:`fire-vertex`,"fire-js":`fire-js`,[Wn]:`fire-js-all`},Jn=new Map,Yn=new Map,Xn=new Map;function Zn(e,t){try{e.container.addComponent(t)}catch(n){vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Qn(e){let t=e.name;if(Xn.has(t))return vn.debug(`There were multiple attempts to register component ${t}.`),!1;Xn.set(t,e);for(let t of Jn.values())Zn(t,e);for(let t of Yn.values())Zn(t,e);return!0}function $n(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function er(e){return e==null?!1:e.settings!==void 0}var tr=new yt(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),nr=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nt(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create(`app-deleted`,{appName:this._name})}},rr=Gn;function ir(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Kn,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw tr.create(`bad-app-name`,{appName:String(i)});if(n||=Ze(),!n)throw tr.create(`no-options`);let a=Jn.get(i);if(a){if(Ct(n,a.options)&&Ct(r,a.config))return a;throw tr.create(`duplicate-app`,{appName:i})}let o=new Rt(i);for(let e of Xn.values())o.addComponent(e);let s=new nr(n,r,o);return Jn.set(i,s),s}function ar(e=Kn){let t=Jn.get(e);if(!t&&e===`[DEFAULT]`&&Ze())return ir();if(!t)throw tr.create(`no-app`,{appName:e});return t}function or(){return Array.from(Jn.values())}function sr(e,t,n){let r=qn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vn.warn(e.join(` `));return}Qn(new Nt(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var cr=`firebase-heartbeat-database`,lr=1,ur=`firebase-heartbeat-store`,dr=null;function fr(){return dr||=ln(cr,lr,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ur)}catch(e){console.warn(e)}}}}).catch(e=>{throw tr.create(`idb-open`,{originalErrorMessage:e.message})}),dr}async function pr(e){try{let t=(await fr()).transaction(ur),n=await t.objectStore(ur).get(hr(e));return await t.done,n}catch(e){if(e instanceof vt)vn.warn(e.message);else{let t=tr.create(`idb-get`,{originalErrorMessage:e?.message});vn.warn(t.message)}}}async function mr(e,t){try{let n=(await fr()).transaction(ur,`readwrite`);await n.objectStore(ur).put(t,hr(e)),await n.done}catch(e){if(e instanceof vt)vn.warn(e.message);else{let t=tr.create(`idb-set`,{originalErrorMessage:e?.message});vn.warn(t.message)}}}function hr(e){return`${e.name}!${e.options.appId}`}var gr=1024,_r=30,vr=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new xr(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=yr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>_r){let e=Cr(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=yr(),{heartbeatsToSend:t,unsentEntries:n}=br(this._heartbeatsCache.heartbeats),r=k(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return vn.warn(e),``}}};function yr(){return new Date().toISOString().substring(0,10)}function br(e,t=gr){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Sr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xr=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ht()?gt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await pr(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return mr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return mr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Sr(e){return k(JSON.stringify({version:2,heartbeats:e})).length}function Cr(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function wr(e){Qn(new Nt(`platform-logger`,e=>new mn(e),`PRIVATE`)),Qn(new Nt(`heartbeat`,e=>new vr(e),`PRIVATE`)),sr(gn,_n,e),sr(gn,_n,`esm2020`),sr(`fire-js`,``)}wr(``),sr(`firebase`,`12.5.0`,`app`);var Tr=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),N=c(o(((e,t)=>{t.exports=Tr()}))(),1);function Er(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Dr=Er,Or=new yt(`auth`,`Firebase`,Er()),kr=new Ut(`@firebase/auth`);function Ar(e,...t){kr.logLevel<=M.WARN&&kr.warn(`Auth (${rr}): ${e}`,...t)}function jr(e,...t){kr.logLevel<=M.ERROR&&kr.error(`Auth (${rr}): ${e}`,...t)}function Mr(e,...t){throw Ir(e,...t)}function Nr(e,...t){return Ir(e,...t)}function Pr(e,t,n){return new yt(`auth`,`Firebase`,{...Dr(),[t]:n}).create(t,{appName:e.name})}function Fr(e){return Pr(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Ir(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Or.create(e,...t)}function P(e,t,...n){if(!e)throw Ir(t,...n)}function Lr(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw jr(t),Error(t)}function Rr(e,t){e||Lr(t)}function zr(){return typeof self<`u`&&self.location?.href||``}function Br(){return Vr()===`http:`||Vr()===`https:`}function Vr(){return typeof self<`u`&&self.location?.protocol||null}function Hr(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Br()||dt()||`connection`in navigator)?navigator.onLine:!0}function Ur(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Wr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rr(t>e,`Short delay should be less than long delay!`),this.isMobile=ct()||ft()}get(){return Hr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gr(e,t){Rr(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Kr=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Lr(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Lr(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Lr(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},qr={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Jr=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Yr=new Wr(3e4,6e4);function Xr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Zr(e,t,n,r,i={}){return Qr(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Tt({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return ut()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&et(e.emulatorConfig.host)&&(c.credentials=`include`),Kr.fetch()(await ei(e,e.config.apiHost,n,o),c)})}async function Qr(e,t,n){e._canInitEmulator=!1;let r={...qr,...t};try{let t=new ni(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw ri(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw ri(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw ri(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw ri(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Pr(e,o,n);Mr(e,o)}}catch(t){if(t instanceof vt)throw t;Mr(e,`network-request-failed`,{message:String(t)})}}async function $r(e,t,n,r,i={}){let a=await Zr(e,t,n,r,i);return`mfaPendingCredential`in a&&Mr(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function ei(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Gr(e.config,i):`${e.config.apiScheme}://${i}`;return Jr.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function ti(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var ni=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Nr(this.auth,`network-request-failed`)),Yr.get())})}};function ri(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Nr(e,t,r);return i.customData._tokenResponse=n,i}function ii(e){return e!==void 0&&e.enterprise!==void 0}var ai=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ti(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function oi(e,t){return Zr(e,`GET`,`/v2/recaptchaConfig`,Xr(e,t))}async function si(e,t){return Zr(e,`POST`,`/v1/accounts:delete`,t)}async function ci(e,t){return Zr(e,`POST`,`/v1/accounts:lookup`,t)}function li(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ui(e,t=!1){let n=Mt(e),r=await n.getIdToken(t),i=fi(r);P(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:li(di(i.auth_time)),issuedAtTime:li(di(i.iat)),expirationTime:li(di(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function di(e){return Number(e)*1e3}function fi(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return jr(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Ue(n);return e?JSON.parse(e):(jr(`Failed to decode base64 JWT payload`),null)}catch(e){return jr(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function pi(e){let t=fi(e);return P(t,`internal-error`),P(t.exp!==void 0,`internal-error`),P(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function mi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof vt&&hi(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function hi({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var gi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},_i=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=li(this.lastLoginAt),this.creationTime=li(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function vi(e){let t=e.auth,n=await mi(e,ci(t,{idToken:await e.getIdToken()}));P(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?xi(r.providerUserInfo):[],a=bi(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new _i(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function yi(e){let t=Mt(e);await vi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bi(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function xi(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Si(e,t){let n=await Qr(e,{},async()=>{let n=Tt({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await ei(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&et(e.emulatorConfig.host)&&(s.credentials=`include`),Kr.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ci(e,t){return Zr(e,`POST`,`/v2/accounts:revokeToken`,Xr(e,t))}var wi=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,`internal-error`),P(e.idToken!==void 0,`internal-error`),P(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):pi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){P(e.length!==0,`internal-error`);let t=pi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(P(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Si(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(P(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(P(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(P(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Lr(`not implemented`)}};function Ti(e,t){P(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Ei=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _i(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await mi(this,this.stsTokenManager.getToken(this.auth,e));return P(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ui(this,e)}reload(){return yi(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Fr(this.auth));let e=await this.getIdToken();return await mi(this,si(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;P(d&&h,t,`internal-error`);let g=wi.fromJSON(this.name,h);P(typeof d==`string`,t,`internal-error`),Ti(r,t.name),Ti(i,t.name),P(typeof f==`boolean`,t,`internal-error`),P(typeof p==`boolean`,t,`internal-error`),Ti(a,t.name),Ti(o,t.name),Ti(s,t.name),Ti(c,t.name),Ti(l,t.name),Ti(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new wi;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await vi(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];P(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:xi(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new wi;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _i(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Di=new Map;function Oi(e){Rr(e instanceof Function,`Expected a class definition`);let t=Di.get(e);return t?(Rr(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Di.set(e,t),t)}var ki=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};ki.type=`NONE`;var Ai=ki;function ji(e,t,n){return`firebase:${e}:${t}:${n}`}var Mi=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=ji(this.userKey,r.apiKey,i),this.fullPersistenceKey=ji(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await ci(this.auth,{idToken:e}).catch(()=>void 0);return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Oi(Ai),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Oi(Ai),o=ji(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await ci(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Ei._fromGetAccountInfoResponse(t,e,n)}else r=Ei._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Ni(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(Li(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Pi(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(F(t))return`Blackberry`;if(zi(t))return`Webos`;if(Fi(t))return`Safari`;if((t.includes(`chrome/`)||Ii(t))&&!t.includes(`edge/`))return`Chrome`;if(Ri(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Pi(e=A()){return/firefox\//i.test(e)}function Fi(e=A()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Ii(e=A()){return/crios\//i.test(e)}function Li(e=A()){return/iemobile/i.test(e)}function Ri(e=A()){return/android/i.test(e)}function F(e=A()){return/blackberry/i.test(e)}function zi(e=A()){return/webos/i.test(e)}function Bi(e=A()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vi(e=A()){return Bi(e)&&!!window.navigator?.standalone}function Hi(){return pt()&&document.documentMode===10}function Ui(e=A()){return Bi(e)||Ri(e)||zi(e)||F(e)||/windows phone/i.test(e)||Li(e)}function Wi(e,t=[]){let n;switch(e){case`Browser`:n=Ni(A());break;case`Worker`:n=`${Ni(A())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${rr}/${r}`}var Gi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function Ki(e,t={}){return Zr(e,`GET`,`/v2/passwordPolicy`,Xr(e,t))}var qi=6,Ji=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qi,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Yi=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ci(this,{idToken:e}),n=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vi(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ur()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Fr(this));let t=e?Mt(e):null;return t&&P(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new Ji(await Ki(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yt(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Ci(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Oi(e)||this._popupRedirectResolver;P(t,this,`argument-error`),this.redirectPersistenceManager=await Mi.create(this,[Oi(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ar(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Xi(e){return Mt(e)}var Zi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ot(e=>this.observer=e)}get next(){return P(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},Qi={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function $i(e){Qi=e}function ea(e){return Qi.loadJS(e)}function ta(){return Qi.recaptchaEnterpriseScript}function na(){return Qi.gapiScript}function ra(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var ia=class{constructor(){this.enterprise=new aa}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},aa=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},oa=`recaptcha-enterprise`,sa=`NO_RECAPTCHA`,ca=class{constructor(e){this.type=oa,this.auth=Xi(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{oi(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new ai(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;ii(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(sa)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new ia().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ii(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=ta();t.length!==0&&(t+=n),ea(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function la(e,t,n,r=!1,i=!1){let a=new ca(e),o;if(i)o=sa;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function ua(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await la(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await la(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await la(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await la(e,t,n,!1,!0))):Promise.reject(i)):r(e,await la(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function da(e){let t=Xi(e),n=new ai(await oi(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ca(t).verify()}function fa(e,t){let n=$n(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Ct(n.getOptions(),t??{}))return e;Mr(e,`already-initialized`)}return n.initialize({options:t})}function pa(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Oi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function ma(e,t,n){let r=Xi(e);P(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=ha(t),{host:o,port:s}=ga(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){P(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),P(Ct(l,r.config.emulator)&&Ct(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,et(o)?(tt(`${a}//${o}${c}`),st(`Auth`,!0)):i||va()}function ha(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function ga(e){let t=ha(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:_a(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:_a(t)}}}function _a(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function va(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var ya=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr(`not implemented`)}_getIdTokenResponse(e){return Lr(`not implemented`)}_linkToIdToken(e,t){return Lr(`not implemented`)}_getReauthenticationResolver(e){return Lr(`not implemented`)}};async function ba(e,t){return Zr(e,`POST`,`/v1/accounts:signUp`,t)}async function xa(e,t){return $r(e,`POST`,`/v1/accounts:signInWithPassword`,Xr(e,t))}async function Sa(e,t){return $r(e,`POST`,`/v1/accounts:signInWithEmailLink`,Xr(e,t))}async function Ca(e,t){return $r(e,`POST`,`/v1/accounts:signInWithEmailLink`,Xr(e,t))}var wa=class e extends ya{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return ua(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,xa,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Sa(e,{email:this._email,oobCode:this._password});default:Mr(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return ua(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,ba,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Ca(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Ta(e,t){return $r(e,`POST`,`/v1/accounts:signInWithIdp`,Xr(e,t))}var Ea=`http://localhost`,Da=class e extends ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mr(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ta(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Ta(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ta(e,t)}buildRequest(){let e={requestUri:Ea,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}};async function Oa(e,t){return Zr(e,`POST`,`/v1/accounts:sendVerificationCode`,Xr(e,t))}async function ka(e,t){return $r(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xr(e,t))}async function Aa(e,t){let n=await $r(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xr(e,t));if(n.temporaryProof)throw ri(e,`account-exists-with-different-credential`,n);return n}var ja={USER_NOT_FOUND:`user-not-found`};async function Ma(e,t){return $r(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xr(e,{...t,operation:`REAUTH`}),ja)}var Na=class e extends ya{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return ka(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Aa(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ma(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Pa(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Fa(e){let t=Et(Dt(e)).link,n=t?Et(Dt(t)).deep_link_id:null,r=Et(Dt(e)).deep_link_id;return(r?Et(Dt(r)).link:null)||r||n||t||e}var Ia=class e{constructor(e){let t=Et(Dt(e)),n=t.apiKey??null,r=t.oobCode??null,i=Pa(t.mode??null);P(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Fa(t);try{return new e(n)}catch{return null}}},La=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return wa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Ia.parseLink(t);return P(n,`argument-error`),wa._fromEmailAndCode(e,n.code,n.tenantId)}};La.PROVIDER_ID=`password`,La.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,La.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Ra=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},za=class extends Ra{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Ba=class e extends za{constructor(){super(`facebook.com`)}static credential(t){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ba.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Ba.PROVIDER_ID=`facebook.com`;var Va=class e extends za{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Va.GOOGLE_SIGN_IN_METHOD=`google.com`,Va.PROVIDER_ID=`google.com`;var Ha=class e extends za{constructor(){super(`github.com`)}static credential(t){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ha.GITHUB_SIGN_IN_METHOD=`github.com`,Ha.PROVIDER_ID=`github.com`;var Ua=class e extends za{constructor(){super(`twitter.com`)}static credential(t,n){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Ua.TWITTER_SIGN_IN_METHOD=`twitter.com`,Ua.PROVIDER_ID=`twitter.com`;async function Wa(e,t){return $r(e,`POST`,`/v1/accounts:signUp`,Xr(e,t))}var Ga=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Ei._fromIdTokenResponse(t,r,i),providerId:Ka(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Ka(r),_tokenResponse:r,operationType:n})}};function Ka(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}async function qa(e){if(er(e.app))return Promise.reject(Fr(e));let t=Xi(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ga({user:t.currentUser,providerId:null,operationType:`signIn`});let n=await Wa(t,{returnSecureToken:!0}),r=await Ga._fromIdTokenResponse(t,`signIn`,n,!0);return await t._updateCurrentUser(r.user),r}var Ja=class e extends vt{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Ya(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?Ja._fromErrorAndOperation(e,n,t,r):n})}async function Xa(e,t,n=!1){let r=await mi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ga._forOperation(e,`link`,r)}async function Za(e,t,n=!1){let{auth:r}=e;if(er(r.app))return Promise.reject(Fr(r));let i=`reauthenticate`;try{let a=await mi(e,Ya(r,i,t,e),n);P(a.idToken,r,`internal-error`);let o=fi(a.idToken);P(o,r,`internal-error`);let{sub:s}=o;return P(e.uid===s,r,`user-mismatch`),Ga._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&Mr(r,`user-mismatch`),e}}async function Qa(e,t,n=!1){if(er(e.app))return Promise.reject(Fr(e));let r=`signIn`,i=await Ya(e,r,t),a=await Ga._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function $a(e,t,n,r){return Mt(e).onIdTokenChanged(t,n,r)}function eo(e,t,n){return Mt(e).beforeAuthStateChanged(t,n)}function to(e,t,n,r){return Mt(e).onAuthStateChanged(t,n,r)}function no(e,t){return Zr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Xr(e,t))}function ro(e,t){return Zr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Xr(e,t))}function io(e,t){return Zr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Xr(e,t))}function ao(e,t){return Zr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Xr(e,t))}var oo=`__sak`,so=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,`1`),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},co=1e3,lo=10,uo=class extends so{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Hi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,lo):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},co)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};uo.type=`LOCAL`;var fo=uo,po=1e3;function mo(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function ho(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var go=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=ho(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:mo(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=ho(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=ho(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=mo(n),i=setInterval(()=>{let e=mo(n);e!==r&&(t(e),r=e)},po);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};go.type=`COOKIE`;var _o=class extends so{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};_o.type=`SESSION`;var I=_o;function vo(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var yo=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await vo(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};yo.receivers=[];function bo(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var xo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=bo(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function So(){return window}function Co(e){So().location.href=e}function wo(){return So().WorkerGlobalScope!==void 0&&typeof So().importScripts==`function`}async function To(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Eo(){return navigator?.serviceWorker?.controller||null}function Do(){return wo()?self:null}var Oo=`firebaseLocalStorageDb`,ko=1,Ao=`firebaseLocalStorage`,jo=`fbase_key`,Mo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function No(e,t){return e.transaction([Ao],t?`readwrite`:`readonly`).objectStore(Ao)}function Po(){return new Mo(indexedDB.deleteDatabase(Oo)).toPromise()}function Fo(){let e=indexedDB.open(Oo,ko);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Ao,{keyPath:jo})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Ao)?t(n):(n.close(),await Po(),t(await Fo()))})})}async function Io(e,t,n){return new Mo(No(e,!0).put({[jo]:t,value:n})).toPromise()}async function Lo(e,t){let n=await new Mo(No(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Ro(e,t){return new Mo(No(e,!0).delete(t)).toPromise()}var zo=800,Bo=3,Vo=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Fo(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Bo)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return wo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yo._getInstance(Do()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await To(),!this.activeServiceWorker)return;this.sender=new xo(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Eo()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Fo();return await Io(e,oo,`1`),await Ro(e,oo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Io(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Lo(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ro(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Mo(No(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zo)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Vo.type=`LOCAL`;var Ho=Vo;function Uo(e,t){return Zr(e,`POST`,`/v2/accounts/mfaSignIn:start`,Xr(e,t))}function Wo(e,t){return Zr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Xr(e,t))}function Go(e,t){return Zr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Xr(e,t))}ra(`rcb`),new Wr(3e4,6e4);var Ko=`recaptcha`;async function qo(e,t,n){if(!e._getRecaptchaConfig())try{await da(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return P(t.type===`enroll`,e,`internal-error`),(await ua(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===sa?(P(n?.type===Ko,e,`argument-error`),no(e,await Jo(e,t,n))):no(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{P(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return P(i,e,`missing-multi-factor-info`),(await ua(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===sa?(P(n?.type===Ko,e,`argument-error`),Uo(e,await Jo(e,t,n))):Uo(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await ua(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===sa?(P(n?.type===Ko,e,`argument-error`),Oa(e,await Jo(e,t,n))):Oa(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Jo(e,t,n){P(n.type===Ko,e,`argument-error`);let r=await n.verify();P(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var Yo=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Xi(t)}verifyPhoneNumber(e,t){return qo(this.auth,e,Mt(t))}static credential(e,t){return Na._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Na._fromTokenResponse(t,n):null}};Yo.PROVIDER_ID=`phone`,Yo.PHONE_SIGN_IN_METHOD=`phone`;function Xo(e,t){return t?Oi(t):(P(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var Zo=class extends ya{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Qo(e){return Qa(e.auth,new Zo(e),e.bypassAuthState)}function $o(e){let{auth:t,user:n}=e;return P(n,t,`internal-error`),Za(n,new Zo(e),e.bypassAuthState)}async function es(e){let{auth:t,user:n}=e;return P(n,t,`internal-error`),Xa(n,new Zo(e),e.bypassAuthState)}var ts=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return Qo;case`linkViaPopup`:case`linkViaRedirect`:return es;case`reauthViaPopup`:case`reauthViaRedirect`:return $o;default:Mr(this.auth,`internal-error`)}}resolve(e){Rr(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},ns=new Wr(2e3,1e4),rs=class e extends ts{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return P(e,this.auth,`internal-error`),e}async onExecution(){Rr(this.filter.length===1,`Popup operations only handle one event`);let e=bo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Nr(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,ns.get())};e()}};rs.currentPopupAction=null;var is=`pendingRedirect`,as=new Map,os=class extends ts{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=as.get(this.auth._key());if(!e){try{let t=await ss(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}as.set(this.auth._key(),e)}return this.bypassAuthState||as.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function ss(e,t){let n=us(t),r=ls(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function cs(e,t){as.set(e._key(),t)}function ls(e){return Oi(e._redirectPersistence)}function us(e){return ji(is,e.config.apiKey,e.name)}async function ds(e,t,n=!1){if(er(e.app))return Promise.reject(Fr(e));let r=Xi(e),i=await new os(r,Xo(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var fs=600*1e3,ps=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gs(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!hs(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Nr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fs&&this.cachedEventUids.clear(),this.cachedEventUids.has(ms(e))}saveEventToCache(e){this.cachedEventUids.add(ms(e)),this.lastProcessedEventTime=Date.now()}};function ms(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function hs({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function gs(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return hs(e);default:return!1}}async function _s(e,t={}){return Zr(e,`GET`,`/v1/projects`,t)}var vs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ys=/^https?/;async function bs(e){if(e.config.emulator)return;let{authorizedDomains:t}=await _s(e);for(let e of t)try{if(xs(e))return}catch{}Mr(e,`unauthorized-domain`)}function xs(e){let t=zr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!ys.test(n))return!1;if(vs.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var Ss=new Wr(3e4,6e4);function Cs(){let e=So().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function ws(e){return new Promise((t,n)=>{function r(){Cs(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cs(),n(Nr(e,`network-request-failed`))},timeout:Ss.get()})}if(So().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(So().gapi?.load)r();else{let t=ra(`iframefcb`);return So()[t]=()=>{gapi.load?r():n(Nr(e,`network-request-failed`))},ea(`${na()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Ts=null,e})}var Ts=null;function Es(e){return Ts||=ws(e),Ts}var Ds=new Wr(5e3,15e3),Os=`__/auth/iframe`,ks=`emulator/auth/iframe`,As={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},js=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Ms(e){let t=e.config;P(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Gr(t,ks):`https://${e.config.authDomain}/${Os}`,r={apiKey:t.apiKey,appName:e.name,v:rr},i=js.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Tt(r).slice(1)}`}async function Ns(e){let t=await Es(e),n=So().gapi;return P(n,e,`internal-error`),t.open({where:document.body,url:Ms(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:As,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Nr(e,`network-request-failed`),a=So().setTimeout(()=>{r(i)},Ds.get());function o(){So().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var Ps={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Fs=500,Is=600,Ls=`_blank`,Rs=`http://localhost`,zs=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Bs(e,t,n,r=Fs,i=Is){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...Ps,width:r.toString(),height:i.toString(),top:a,left:o},l=A().toLowerCase();n&&(s=Ii(l)?Ls:n),Pi(l)&&(t||=Rs,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Vi(l)&&s!==`_self`)return Vs(t||``,s),new zs(null);let d=window.open(t||``,s,u);P(d,e,`popup-blocked`);try{d.focus()}catch{}return new zs(d)}function Vs(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Hs=`__/auth/handler`,Us=`emulator/auth/handler`,Ws=`fac`;async function Gs(e,t,n,r,i,a){P(e.config.authDomain,e,`auth-domain-config-required`),P(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:rr,eventId:i};if(t instanceof Ra){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,St(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof za){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${Ws}=${encodeURIComponent(c)}`:``;return`${Ks(e)}?${Tt(s).slice(1)}${l}`}function Ks({config:e}){return e.emulator?Gr(e,Us):`https://${e.authDomain}/${Hs}`}var qs=`webStorageSupport`,Js=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I,this._completeRedirectFn=ds,this._overrideRedirectResult=cs}async _openPopup(e,t,n,r){return Rr(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Bs(e,await Gs(e,t,n,zr(),r),bo())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Co(await Gs(e,t,n,zr(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rr(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Ns(e),n=new ps(e);return t.register(`authEvent`,t=>(P(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qs,{type:qs},n=>{let r=n?.[0]?.[qs];r!==void 0&&t(!!r),Mr(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ui()||Fi()||Bi()}},Ys=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Lr(`unexpected MultiFactorSessionType`)}}},Xs=class e extends Ys{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return ro(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Wo(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Zs=class{constructor(){}static assertion(e){return Xs._fromCredential(e)}};Zs.FACTOR_ID=`phone`;var Qs=class{static assertionForEnrollment(e,t){return $s._fromSecret(e,t)}static assertionForSignIn(e,t){return $s._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;P(t.user?.auth!==void 0,`internal-error`);let n=await io(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return ec._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};Qs.FACTOR_ID=`totp`;var $s=class e extends Ys{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return P(this.secret!==void 0,e,`argument-error`),ao(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){P(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Go(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},ec=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(tc(e)||tc(t))&&(n=!0),n&&(tc(e)&&(e=this.auth.currentUser?.email||`unknownuser`),tc(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function tc(e){return e===void 0||e?.length===0}var nc=`@firebase/auth`,rc=`1.11.1`,ic=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ac(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function oc(e){Qn(new Nt(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;P(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new Yi(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:Wi(e)});return pa(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),Qn(new Nt(`auth-internal`,e=>(e=>new ic(e))(Xi(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),sr(nc,rc,ac(e)),sr(nc,rc,`esm2020`)}var sc=Qe(`authIdTokenMaxAge`)||300,cc=null,lc=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sc)return;let i=n?.token;cc!==i&&(cc=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uc(e=ar()){let t=$n(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=fa(e,{popupRedirectResolver:Js,persistence:[Ho,fo,I]}),r=Qe(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=lc(e.toString());eo(n,t,()=>t(n.currentUser)),$a(n,e=>t(e))}}let i=Ye(`auth`);return i&&ma(n,`http://${i}`),n}function dc(){return document.getElementsByTagName(`head`)?.[0]??document}$i({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Nr(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,dc().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),oc(`Browser`);var fc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},pc={},mc,hc;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hc=pc.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,mc=pc.Integer=o}).apply(fc===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:fc);var gc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},_c={},vc,yc,bc,xc,Sc,Cc,wc,Tc;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof gc==`object`&&gc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(T)}};function T(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function ee(){this.u=this.u,this.C=this.C}ee.prototype.u=!1,ee.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ee.prototype[Symbol.dispose]=function(){this.dispose()},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function re(e){return/^[\s\xa0]*$/.test(e)}function ie(e,t){te.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ie,te),ie.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae=`closure_listenable_`+(Math.random()*1e6|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++oe,this.da=this.fa=!1}function ce(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function le(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function E(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function D(e){let t={};for(let n in e)t[n]=e[n];return t}let ue=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function de(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ue.length;t++)n=ue[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}fe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=me(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new se(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function pe(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ce(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function me(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var O=`closure_lm_`+(Math.random()*1e6|0),he={};function ge(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[ae]?e.J(t,n,s(r)?!!r.capture:!!r,i):_e(e,t,n,!1,r,i)}function _e(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=we(e);if(c||(e[O]=c=new fe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ve(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Se(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ve(){function e(n){return t.call(e.src,e.listener,n)}let t=Ce;return e}function ye(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)ye(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[ae]?e.K(t,n,s(r)?!!r.capture:!!r,i):_e(e,t,n,!0,r,i)}function be(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=Ee(n),e&&e[ae]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=me(t,n,r,i),n>-1&&(ce(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=we(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,r,i)),(n=e>-1?t[e]:null)&&xe(n))}function xe(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[ae])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=we(t))?(pe(n,e),n.h==0&&(n.src=null,t[O]=null)):ce(e)}}}function Se(e){return e in he?he[e]:he[e]=`on`+e}function Ce(e,t){if(e.da)e=!0;else{t=new ie(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&xe(e),e=n.call(r,t)}return e}function we(e){return e=e[O],e instanceof fe?e:null}var Te=`__closure_events_fn_`+(Math.random()*1e9>>>0);function Ee(e){return typeof e==`function`?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function De(){ee.call(this),this.i=new fe(this),this.M=this,this.G=null}d(De,ee),De.prototype[ae]=!0,De.prototype.removeEventListener=function(e,t,n,r){be(this,e,t,n,r)};function Oe(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new te(t,e);else if(t instanceof te)t.target=t.target||e;else{var i=t;t=new te(r,e),de(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=ke(a,r,!0,t)&&i;if(a=t.g=e,i=ke(a,r,!0,t)&&i,i=ke(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=ke(a,r,!1,t)&&i}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ce(n[e]);delete e.g[t],e.h--}}this.G=null},De.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},De.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ke(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&pe(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Ae(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function je(e){e.g=Ae(()=>{e.g=null,e.i&&(e.i=!1,je(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Me extends ee{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(e){ee.call(this),this.h=e,this.g={}}d(Ne,ee);var Pe=[];function Fe(e){le(e.g,function(e,t){this.g.hasOwnProperty(t)&&xe(e)},e),e.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),Fe(this)},Ne.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Ie=o.JSON.stringify,Le=o.JSON.parse,Re=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function ze(){}function Be(){}var Ve={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function He(){te.call(this,`d`)}d(He,te);function k(){te.call(this,`c`)}d(k,te);var Ue={},We=null;function Ge(){return We||=new De}Ue.Ia=`serverreachability`;function Ke(e){te.call(this,Ue.Ia,e)}d(Ke,te);function qe(e){let t=Ge();Oe(t,new Ke(t))}Ue.STAT_EVENT=`statevent`;function Je(e,t){te.call(this,Ue.STAT_EVENT,e),this.stat=t}d(Je,te);function Ye(e){let t=Ge();Oe(t,new Je(t,e))}Ue.Ja=`timingevent`;function Xe(e,t){te.call(this,Ue.Ja,e),this.size=t}d(Xe,te);function Ze(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function Qe(){this.g=!0}Qe.prototype.ua=function(){this.g=!1};function $e(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function et(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function tt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+rt(e,n)+(r?` `+r:``)})}function nt(e,t){e.info(function(){return`TIMEOUT: `+t})}Qe.prototype.info=function(){};function rt(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Ie(a)}catch{return t}}var it={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},at={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ot;function st(){}d(st,ze),st.prototype.g=function(){return new XMLHttpRequest},ot=new st;function A(e){return encodeURIComponent(String(e))}function ct(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function lt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ut}function ut(){this.i=null,this.g=``,this.h=!1}var dt={},ft={};function pt(e,t,n){e.M=1,e.A=M(Ft(t)),e.u=n,e.R=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),vt(e),e.B=Ft(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Qt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new ut,e.g=Wn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Me(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Pe[0]=i.toString()),i=Pe);for(let e=0;e<i.length;e++){let a=ge(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?D(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),qe(),$e(e.i,e.v,e.B,e.l,e.S,e.u)}lt.prototype.ba=function(e){e=e.target;let t=this.O;t&&xn(e)==3?t.j():this.Y(e)},lt.prototype.Y=function(e){try{if(e==this.g)a:{let s=xn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||Sn(this.g)))){this.K||s!=4||c==7||qe(c==8||l<=0?3:2),bt(this);var t=this.g.ca();this.X=t;var n=ht(this);if(this.o=t==200,et(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!re(r)){var a=r;break b}}a=null}if(e=a)tt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Ct(this,e);else{this.o=!1,this.m=3,Ye(12),St(this),xt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=_t(this,n),t==ft){s==4&&(this.m=4,Ye(14),e=!1),tt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==dt){this.m=4,Ye(15),tt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else tt(this.i,this.l,t,null),Ct(this,t);if(gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Ye(16),e=!1),this.o=this.o&&e,!e)tt(this.i,this.l,n,`[Invalid Chunked Response]`),St(this),xt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),In(o),o.P=!0,Ye(11))}}else tt(this.i,this.l,n,null),Ct(this,n);s==4&&St(this),this.o&&!this.K&&(s==4?zn(this.j,this):(this.o=!1,vt(this)))}else Cn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Ye(12)):(this.m=0,Ye(13)),St(this),xt(this)}}}catch{}};function ht(e){if(!gt(e))return e.g.la();let t=Sn(e.g);if(t===``)return``;let n=``,r=t.length,i=xn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return St(e),xt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function gt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function _t(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ft:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1,r+n>t.length?ft:(t=t.slice(r,r+n),e.C=r+n,t)))}lt.prototype.cancel=function(){this.K=!0,St(this)};function vt(e){e.T=Date.now()+e.H,yt(e,e.H)}function yt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Ze(l(e.aa,e),t)}function bt(e){e.D&&=(o.clearTimeout(e.D),null)}lt.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(nt(this.i,this.B),this.M!=2&&(qe(),Ye(17)),St(this),this.m=2,xt(this)):yt(this,this.T-e)};function xt(e){e.j.I==0||e.K||zn(e.j,e)}function St(e){bt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Fe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Ct(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Ot(n.h,e))){if(!e.L&&Ot(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Rn(n),Dn(n);else break a;Fn(n),Ye(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Ze(l(n.Va,n),6e3));Dt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Vn(n,11)}else if((e.L||n.g==e)&&Rn(n),!re(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(kt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,j(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Un(r,r.L?r.ba:null,r.W),o.L){At(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(bt(s),vt(s)),r.g=o}else Pn(r);n.i.length>0&&kn(n)}else l[0]!=`stop`&&l[0]!=`close`||Vn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Vn(n,7):En(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}qe(4)}catch{}}var wt=class{constructor(e,t){this.g=e,this.map=t}};function Tt(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Et(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Dt(e){return e.h?1:e.g?e.g.size:0}function Ot(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kt(e,t){e.g?e.g.add(t):e.h=t}function At(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Tt.prototype.cancel=function(){if(this.i=jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function jt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Mt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Nt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Pt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Pt?(this.l=e.l,It(this,e.j),this.o=e.o,this.g=e.g,Lt(this,e.u),this.h=e.h,Rt(this,$t(e.i)),this.m=e.m):e&&(t=String(e).match(Mt))?(this.l=!1,It(this,t[1]||``,!0),this.o=zt(t[2]||``),this.g=zt(t[3]||``,!0),Lt(this,t[4]),this.h=zt(t[5]||``,!0),Rt(this,t[6]||``,!0),this.m=zt(t[7]||``)):(this.l=!1,this.i=new qt(null,this.l))}Pt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Bt(t,Ht,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Bt(t,Ht,!0),`@`),e.push(A(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Bt(n,n.charAt(0)==`/`?Wt:Ut,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Bt(n,Kt)),e.join(``)},Pt.prototype.resolve=function(e){let t=Ft(this),n=!!e.j;n?It(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Lt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Rt(t,$t(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Ft(e){return new Pt(e)}function It(e,t,n){e.j=n?zt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Rt(e,t,n){t instanceof qt?(e.i=t,tn(e.i,e.l)):(n||(t=Bt(t,Gt)),e.i=new qt(t,e.l))}function j(e,t,n){e.i.set(t,n)}function M(e){return j(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function zt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Bt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Vt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Ht=/[#\/\?@]/g,Ut=/[#\?:]/g,Wt=/[#\?]/g,Gt=/[#\?@]/g,Kt=/#/g;function qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jt(e){e.g||(e.g=new Map,e.h=0,e.i&&Nt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=qt.prototype,e.add=function(e,t){Jt(this),this.i=null,e=en(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Yt(e,t){Jt(e),t=en(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xt(e,t){return Jt(e),t=en(e,t),e.g.has(t)}e.forEach=function(e,t){Jt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function Zt(e,t){Jt(e);let n=[];if(typeof t==`string`)Xt(e,t)&&(n=n.concat(e.g.get(en(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Jt(this),this.i=null,e=en(this,e),Xt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=Zt(this,e),e.length>0?String(e[0]):t):t};function Qt(e,t,n){Yt(e,t),n.length>0&&(e.i=null,e.g.set(en(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=A(n);n=Zt(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+A(n[t])),e.push(r)}}return this.i=e.join(`&`)};function $t(e){let t=new qt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tn(e,t){t&&!e.j&&(Jt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(Yt(this,t),Qt(this,n,e))},e)),e.j=t}function nn(e,t){let n=new Qe;if(o.Image){let r=new Image;r.onload=u(an,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(an,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(an,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(an,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function rn(e,t){let n=new Qe,r=new AbortController,i=setTimeout(()=>{r.abort(),an(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?an(n,`TestPingServer: ok`,!0,t):an(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),an(n,`TestPingServer: error`,!1,t)})}function an(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function on(){this.g=new Re}function sn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(sn,ze),sn.prototype.g=function(){return new cn(this.i,this.h)};function cn(e,t){De.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(cn,De),e=cn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,dn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,un(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dn(this)),this.g&&(this.readyState=3,dn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;ln(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function ln(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?un(this):dn(this),this.readyState==3&&ln(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,un(this))},e.Na=function(e){this.g&&(this.response=e,un(this))},e.ga=function(){this.g&&un(this)};function un(e){e.readyState=4,e.l=null,e.j=null,e.B=null,dn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function dn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(cn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function fn(e){let t=``;return le(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function pn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=fn(n),typeof e==`string`||j(e,t,n))}function mn(e){De.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(mn,De);var hn=/^https?$/i,gn=[`POST`,`PUT`];e=mn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ot.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){_n(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(gn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){_n(this,e)}};function _n(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,vn(e),bn(e)}function vn(e){e.A||(e.A=!0,Oe(e,`complete`),Oe(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Oe(this,`complete`),Oe(this,`abort`),bn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bn(this,!0)),mn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?yn(this):this.Xa())},e.Xa=function(){yn(this)};function yn(e){if(e.h&&a!==void 0){if(e.v&&xn(e)==4)setTimeout(e.Ca.bind(e),0);else if(Oe(e,`readystatechange`),xn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Mt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!hn.test(t?t.toLowerCase():``)}n=r}if(n)Oe(e,`complete`),Oe(e,`success`);else{e.o=6;try{var i=xn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,vn(e)}}finally{bn(e)}}}}function bn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Oe(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function xn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return xn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Le(t)}};function Sn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Cn(e){let t={};e=(e.g&&xn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(re(e[r]))continue;var n=ct(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}E(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function wn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tn(e){this.za=0,this.i=[],this.j=new Qe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wn(`baseRetryDelayMs`,5e3,e),this.Za=wn(`retryDelaySeedMs`,1e4,e),this.Ta=wn(`forwardChannelMaxRetries`,2,e),this.va=wn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Tt(e&&e.concurrentRequestLimit),this.Ba=new on,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Tn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Ye(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Un(this,null,this.W),kn(this)};function En(e){if(On(e),e.I==3){var t=e.V++,n=Ft(e.J);if(j(n,`SID`,e.M),j(n,`RID`,t),j(n,`TYPE`,`terminate`),Mn(e,n),t=new lt(e,e.j,t),t.M=2,t.A=M(Ft(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Wn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),vt(t)}Hn(e)}function Dn(e){e.g&&=(In(e),e.g.cancel(),null)}function On(e){Dn(e),e.v&&=(o.clearTimeout(e.v),null),Rn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function kn(e){if(!Et(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function An(e,t){return Dt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Ze(l(e.Ea,e,t),Bn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new lt(this,this.j,e),a=this.o;if(this.U&&(a?(a=D(a),de(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Nn(this,i,t),n=Ft(this.J),j(n,`RID`,e),j(n,`CVER`,22),this.G&&j(n,`X-HTTP-Session-Id`,this.G),Mn(this,n),a&&(this.R?t=`headers=`+A(fn(a))+`&`+t:this.u&&pn(n,this.u,a)),kt(this.h,i),this.Ra&&j(n,`TYPE`,`init`),this.S?(j(n,`$req`,t),j(n,`SID`,`null`),i.U=!0,pt(i,n,null)):pt(i,n,t),this.I=2}}else this.I==3&&(e?jn(this,e):this.i.length==0||Et(this.h)||jn(this))};function jn(e,t){var n=t?t.l:e.V++;let r=Ft(e.J);j(r,`SID`,e.M),j(r,`RID`,n),j(r,`AID`,e.K),Mn(e,r),e.u&&e.o&&pn(r,e.u,e.o),n=new lt(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Nn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),kt(e.h,n),pt(n,r,t)}function Mn(e,t){e.H&&le(e.H,function(e,n){j(t,n,e)}),e.l&&le({},function(e,n){j(t,n,e)})}function Nn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Ie(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Pn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function Fn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Ze(l(e.Da,e),Bn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Ln(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Ze(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Ye(10),Dn(this),Ln(this))};function In(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Ln(e){e.g=new lt(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Ft(e.na);j(t,`RID`,`rpc`),j(t,`SID`,e.M),j(t,`AID`,e.K),j(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&j(t,`TO`,e.ia),j(t,`TYPE`,`xmlhttp`),Mn(e,t),e.u&&e.o&&pn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=M(Ft(t)),n.u=null,n.R=!0,mt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,Dn(this),Fn(this),Ye(19))};function Rn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function zn(e,t){var n=null;if(e.g==t){Rn(e),In(e),e.g=null;var r=2}else if(Ot(e.h,t))n=t.G,At(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ge(),Oe(r,new Xe(r,n)),kn(e)}else Pn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&An(e,t)||r==2&&Fn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Vn(e,5);break;case 4:Vn(e,10);break;case 3:Vn(e,6);break;default:Vn(e,2)}}}function Bn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Vn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Pt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||It(r,`https`),M(r),t?nn(r.toString(),n):rn(r.toString(),n)}else Ye(2);e.I=0,e.l&&e.l.pa(t),Hn(e),On(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Ye(2)):(this.j.info(`Failed to ping google.com`),Ye(1))};function Hn(e){if(e.I=0,e.ja=[],e.l){let t=jt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Un(e,t,n){var r=n instanceof Pt?Ft(n):new Pt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Lt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Pt(null);r&&It(e,r),t&&(e.g=t),i&&Lt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&j(r,n,t),j(r,`VER`,e.ka),Mn(e,r),r}function Wn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new mn(new sn({ab:n})):new mn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gn(){}e=Gn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Kn(){}Kn.prototype.g=function(e,t){return new qn(e,t)};function qn(e,t){De.call(this),this.g=new Tn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!re(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!re(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xn(this)}d(qn,De),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){En(this.g)},qn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ie(e),e=n);t.i.push(new wt(t.Ya++,e)),t.I==3&&kn(t)},qn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,qn.Z.N.call(this)};function Jn(e){He.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Jn,He);function Yn(){k.call(this),this.status=1}d(Yn,k);function Xn(e){this.g=e}d(Xn,Gn),Xn.prototype.ra=function(){Oe(this.g,`a`)},Xn.prototype.qa=function(e){Oe(this.g,new Jn(e))},Xn.prototype.pa=function(e){Oe(this.g,new Yn)},Xn.prototype.oa=function(){Oe(this.g,`b`)},Kn.prototype.createWebChannel=Kn.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Tc=_c.createWebChannelTransport=function(){return new Kn},wc=_c.getStatEventTarget=function(){return Ge()},Cc=_c.Event=Ue,Sc=_c.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,xc=_c.ErrorCode=it,at.COMPLETE=`complete`,bc=_c.EventType=at,Be.EventType=Ve,Ve.OPEN=`a`,Ve.CLOSE=`b`,Ve.ERROR=`c`,Ve.MESSAGE=`d`,De.prototype.listen=De.prototype.J,yc=_c.WebChannel=Be,_c.FetchXmlHttpFactory=sn,mn.prototype.listenOnce=mn.prototype.K,mn.prototype.getLastError=mn.prototype.Ha,mn.prototype.getLastErrorCode=mn.prototype.ya,mn.prototype.getStatus=mn.prototype.ca,mn.prototype.getResponseJson=mn.prototype.La,mn.prototype.getResponseText=mn.prototype.la,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Fa,vc=_c.XhrIo=mn}).apply(gc===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:gc);var Ec=`@firebase/firestore`,Dc=`4.9.2`,Oc=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Oc.UNAUTHENTICATED=new Oc(null),Oc.GOOGLE_CREDENTIALS=new Oc(`google-credentials-uid`),Oc.FIRST_PARTY=new Oc(`first-party-uid`),Oc.MOCK_USER=new Oc(`mock-user`);var kc=`12.3.0`,Ac=new Ut(`@firebase/firestore`);function jc(){return Ac.logLevel}function Mc(e){Ac.setLogLevel(e)}function L(e,...t){if(Ac.logLevel<=M.DEBUG){let n=t.map(Fc);Ac.debug(`Firestore (${kc}): ${e}`,...n)}}function Nc(e,...t){if(Ac.logLevel<=M.ERROR){let n=t.map(Fc);Ac.error(`Firestore (${kc}): ${e}`,...n)}}function Pc(e,...t){if(Ac.logLevel<=M.WARN){let n=t.map(Fc);Ac.warn(`Firestore (${kc}): ${e}`,...n)}}function Fc(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function R(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Ic(e,r,n)}function Ic(e,t,n){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Nc(r),Error(r)}function z(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Ic(t,i,r)}function B(e,t){return e}var V={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},H=class extends vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Lc=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Rc=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},zc=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Oc.UNAUTHENTICATED)))}shutdown(){}},Bc=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Vc=class{constructor(e){this.t=e,this.currentUser=Oc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){z(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Lc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lc,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{L(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(L(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Lc)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(z(typeof t.accessToken==`string`,31837,{l:t}),new Rc(t.accessToken,this.currentUser)):null:(L(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return z(e===null||typeof e==`string`,2055,{h:e}),new Oc(e)}},Hc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Oc.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},Uc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Hc(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Oc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Wc=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Gc=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){z(this.o===void 0,3512);let n=e=>{e.error!=null&&L(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,L(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{L(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):L(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Wc(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(z(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Wc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kc(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var qc=class{static newId(){let e=``;for(;e.length<20;){let t=Kc(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function U(e,t){return e<t?-1:e>t?1:0}function Jc(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return Zc(n)===Zc(i)?U(n,i):Zc(n)?1:-1}return U(e.length,t.length)}var Yc=55296,Xc=57343;function Zc(e){let t=e.charCodeAt(0);return t>=Yc&&t<=Xc}function Qc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var $c=`__name__`,el=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&R(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&R(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return U(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):Jc(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return mc.fromString(e.substring(4,e.length-2))}},tl=class e extends el{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new H(V.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},nl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rl=class e extends el{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return nl.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$c}static keyField(){return new e([$c])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new H(V.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new H(V.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new H(V.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},W=class e{constructor(e){this.path=e}static fromPath(t){return new e(tl.fromString(t))}static fromName(t){return new e(tl.fromString(t).popFirst(5))}static empty(){return new e(tl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tl.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new tl(t.slice()))}};function il(e,t,n){if(!n)throw new H(V.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function al(e,t,n,r){if(!0===t&&!0===r)throw new H(V.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ol(e){if(!W.isDocumentKey(e))throw new H(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sl(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function cl(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:R(12329,{type:typeof e})}function ll(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(V.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=cl(e);throw new H(V.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ul(e,t){let n={typeString:e};return t&&(n.value=t),n}function dl(e,t){if(!sl(e))throw new H(V.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new H(V.INVALID_ARGUMENT,n);return!0}var fl=-62135596800,pl=1e6,ml=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*pl))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new H(V.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<fl||e>=253402300800)throw new H(V.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pl}_compareTo(e){return this.seconds===e.seconds?U(this.nanoseconds,e.nanoseconds):U(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(dl(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-fl;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};ml._jsonSchemaVersion=`firestore/timestamp/1.0`,ml._jsonSchema={type:ul(`string`,ml._jsonSchemaVersion),seconds:ul(`number`),nanoseconds:ul(`number`)};var G=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new ml(0,0))}static max(){return new e(new ml(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},hl=-1,gl=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};gl.UNKNOWN_ID=-1;function _l(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new yl(G.fromTimestamp(r===1e9?new ml(n+1,0):new ml(n,r)),W.empty(),t)}function vl(e){return new yl(e.readTime,e.key,hl)}var yl=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(G.min(),W.empty(),hl)}static max(){return new e(G.max(),W.empty(),hl)}};function bl(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=W.comparator(e.documentKey,t.documentKey),n===0?U(e.largestBatchId,t.largestBatchId):n):n}var xl=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Sl=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Cl(e){if(e.code!==V.FAILED_PRECONDITION||e.message!==xl)throw e;L(`LocalStore`,`Unexpectedly lost primary lease`)}var K=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&R(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function wl(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Tl(e){return e.name===`IndexedDbTransactionError`}var El=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};El.ce=-1;var Dl=-1;function Ol(e){return e==null}function kl(e){return e===0&&1/e==-1/0}function Al(e){return typeof e==`number`&&Number.isInteger(e)&&!kl(e)&&e<=2**53-1&&e>=-(2**53-1)}var jl=``;function Ml(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Pl(t)),t=Nl(e.get(n),t);return Pl(t)}function Nl(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case jl:n+=``;break;default:n+=r}}return n}function Pl(e){return e+jl+``}function Fl(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Il(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ll(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var q=class e{constructor(e,t){this.comparator=e,this.root=t||J.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,J.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,J.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}},Rl=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},J=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw R(43730,{key:this.key,value:this.value});if(this.right.isRed())throw R(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw R(27949);return e+(this.isRed()?0:1)}};J.EMPTY=null,J.RED=!0,J.BLACK=!1,J.EMPTY=new class{constructor(){this.size=0}get key(){throw R(57766)}get value(){throw R(16141)}get color(){throw R(16727)}get left(){throw R(29726)}get right(){throw R(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new J(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Y=class e{constructor(e){this.comparator=e,this.data=new q(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zl(this.data.getIterator())}getIteratorFrom(e){return new zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},zl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Bl=class e{constructor(e){this.fields=e,e.sort(rl.comparator)}static empty(){return new e([])}unionWith(t){let n=new Y(rl.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Vl=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},Hl=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Vl(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return U(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Hl.EMPTY_BYTE_STRING=new Hl(``);var Ul=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(e){if(z(!!e,39018),typeof e==`string`){let t=0,n=Ul.exec(e);if(z(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:X(e.seconds),nanos:X(e.nanos)}}function X(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function Gl(e){return typeof e==`string`?Hl.fromBase64String(e):Hl.fromUint8Array(e)}var Kl=`server_timestamp`,ql=`__type__`,Jl=`__previous_value__`,Yl=`__local_write_time__`;function Xl(e){return(e?.mapValue?.fields||{})[ql]?.stringValue===Kl}function Zl(e){let t=e.mapValue.fields[Jl];return Xl(t)?Zl(t):t}function Ql(e){let t=Wl(e.mapValue.fields[Yl].timestampValue);return new ml(t.seconds,t.nanos)}var $l=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},eu=`(default)`,tu=class e{constructor(e,t){this.projectId=e,this.database=t||eu}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===eu}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},nu=`__type__`,ru=`__max__`,iu={mapValue:{fields:{__type__:{stringValue:ru}}}},au=`__vector__`,ou=`value`;function su(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?Xl(e)?4:Cu(e)?9007199254740991:xu(e)?10:11:R(28295,{value:e})}function cu(e,t){if(e===t)return!0;let n=su(e);if(n!==su(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ql(e).isEqual(Ql(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Wl(e.timestampValue),r=Wl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gl(e.bytesValue).isEqual(Gl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return X(e.geoPointValue.latitude)===X(t.geoPointValue.latitude)&&X(e.geoPointValue.longitude)===X(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return X(e.integerValue)===X(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=X(e.doubleValue),r=X(t.doubleValue);return n===r?kl(n)===kl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],cu);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fl(n)!==Fl(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!cu(n[e],r[e])))return!1;return!0}(e,t);default:return R(52216,{left:e})}}function lu(e,t){return(e.values||[]).find((e=>cu(e,t)))!==void 0}function uu(e,t){if(e===t)return 0;let n=su(e),r=su(t);if(n!==r)return U(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return U(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=X(e.integerValue||e.doubleValue),r=X(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return du(e.timestampValue,t.timestampValue);case 4:return du(Ql(e),Ql(t));case 5:return Jc(e.stringValue,t.stringValue);case 6:return function(e,t){let n=Gl(e),r=Gl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=U(n[e],r[e]);if(t!==0)return t}return U(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=U(X(e.latitude),X(t.latitude));return n===0?U(X(e.longitude),X(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return fu(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[ou]?.arrayValue,a=r[ou]?.arrayValue,o=U(i?.values?.length||0,a?.values?.length||0);return o===0?fu(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===iu.mapValue&&t===iu.mapValue)return 0;if(e===iu.mapValue)return 1;if(t===iu.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=Jc(r[e],a[e]);if(t!==0)return t;let o=uu(n[r[e]],i[a[e]]);if(o!==0)return o}return U(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R(23264,{he:n})}}function du(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return U(e,t);let n=Wl(e),r=Wl(t),i=U(n.seconds,r.seconds);return i===0?U(n.nanos,r.nanos):i}function fu(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=uu(n[e],r[e]);if(t)return t}return U(n.length,r.length)}function pu(e){return mu(e)}function mu(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Wl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return Gl(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return W.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=mu(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${mu(e.fields[i])}`;return n+`}`}(e.mapValue):R(61005,{value:e})}function hu(e){switch(su(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=Zl(e);return t?16+hu(t):16;case 5:return 2*e.stringValue.length;case 6:return Gl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+hu(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Il(e.fields,((e,n)=>{t+=e.length+hu(n)})),t}(e.mapValue);default:throw R(13486,{value:e})}}function gu(e){return!!e&&`integerValue`in e}function _u(e){return!!e&&`arrayValue`in e}function vu(e){return!!e&&`nullValue`in e}function yu(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function bu(e){return!!e&&`mapValue`in e}function xu(e){return(e?.mapValue?.fields||{})[nu]?.stringValue===au}function Su(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Il(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Su(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Su(e.arrayValue.values[n]);return t}return{...e}}function Cu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ru}var wu=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=rl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Su(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());bu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Il(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Su(this.value))}};function Tu(e){let t=[];return Il(e.fields,((e,n)=>{let r=new rl([e]);if(bu(n)){let e=Tu(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Bl(t)}var Eu=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,G.min(),G.min(),G.min(),wu.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,G.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,G.min(),G.min(),wu.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,G.min(),G.min(),wu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Du=class{constructor(e,t){this.position=e,this.inclusive=t}};function Ou(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?W.comparator(W.fromName(o.referenceValue),n.key):uu(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function ku(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cu(e.position[n],t.position[n]))return!1;return!0}var Au=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function ju(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Mu=class{},Nu=class e extends Mu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Vu(t,n,r):n===`array-contains`?new Gu(t,r):n===`in`?new Ku(t,r):n===`not-in`?new qu(t,r):n===`array-contains-any`?new Ju(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Hu(e,n):new Uu(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(uu(t,this.value)):t!==null&&su(this.value)===su(t)&&this.matchesComparison(uu(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return R(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pu=class e extends Mu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Fu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Fu(e){return e.op===`and`}function Iu(e){return Lu(e)&&Fu(e)}function Lu(e){for(let t of e.filters)if(t instanceof Pu)return!1;return!0}function Ru(e){if(e instanceof Nu)return e.field.canonicalString()+e.op.toString()+pu(e.value);if(Iu(e))return e.filters.map((e=>Ru(e))).join(`,`);{let t=e.filters.map((e=>Ru(e))).join(`,`);return`${e.op}(${t})`}}function zu(e,t){return e instanceof Nu?function(e,t){return t instanceof Nu&&e.op===t.op&&e.field.isEqual(t.field)&&cu(e.value,t.value)}(e,t):e instanceof Pu?function(e,t){return t instanceof Pu&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&zu(n,t.filters[r])),!0):!1}(e,t):void R(19439)}function Bu(e){return e instanceof Nu?function(e){return`${e.field.canonicalString()} ${e.op} ${pu(e.value)}`}(e):e instanceof Pu?function(e){return e.op.toString()+` {`+e.getFilters().map(Bu).join(` ,`)+`}`}(e):`Filter`}var Vu=class extends Nu{constructor(e,t,n){super(e,t,n),this.key=W.fromName(n.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},Hu=class extends Nu{constructor(e,t){super(e,`in`,t),this.keys=Wu(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Uu=class extends Nu{constructor(e,t){super(e,`not-in`,t),this.keys=Wu(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function Wu(e,t){return(t.arrayValue?.values||[]).map((e=>W.fromName(e.referenceValue)))}var Gu=class extends Nu{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return _u(t)&&lu(t.arrayValue,this.value)}},Ku=class extends Nu{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}},qu=class extends Nu{constructor(e,t){super(e,`not-in`,t)}matches(e){if(lu(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}},Ju=class extends Nu{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!_u(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>lu(this.value.arrayValue,e)))}},Yu=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function Xu(e,t=null,n=[],r=[],i=null,a=null,o=null){return new Yu(e,t,n,r,i,a,o)}function Zu(e){let t=B(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>Ru(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Ol(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>pu(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>pu(e))).join(`,`)),t.Te=e}return t.Te}function Qu(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ju(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ku(e.startAt,t.startAt)&&ku(e.endAt,t.endAt)}function $u(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ed=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function td(e,t,n,r,i,a,o,s){return new ed(e,t,n,r,i,a,o,s)}function nd(e){return new ed(e)}function rd(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function id(e){return e.collectionGroup!==null}function ad(e){let t=B(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Y(rl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Au(r,n))})),e.has(rl.keyField().canonicalString())||t.Ie.push(new Au(rl.keyField(),n))}return t.Ie}function od(e){let t=B(e);return t.Ee||=sd(t,ad(e)),t.Ee}function sd(e,t){if(e.limitType===`F`)return Xu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Au(e.field,t)}));let n=e.endAt?new Du(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Du(e.startAt.position,e.startAt.inclusive):null;return Xu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cd(e,t,n){return new ed(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ld(e,t){return Qu(od(e),od(t))&&e.limitType===t.limitType}function ud(e){return`${Zu(od(e))}|lt:${e.limitType}`}function dd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Bu(e))).join(`, `)}]`),Ol(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>pu(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>pu(e))).join(`,`)),`Target(${t})`}(od(e))}; limitType=${e.limitType})`}function fd(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of ad(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Ou(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ad(e),t)||e.endAt&&!function(e,t,n){let r=Ou(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ad(e),t))}(e,t)}function pd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function md(e){return(t,n)=>{let r=!1;for(let i of ad(e)){let e=hd(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function hd(e,t,n){let r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?uu(r,i):R(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return R(19790,{direction:e.dir})}}var gd=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}},_d=new q(W.comparator);function vd(){return _d}var yd=new q(W.comparator);function bd(...e){let t=yd;for(let n of e)t=t.insert(n.key,n);return t}function Z(e){let t=yd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function xd(){return Cd()}function Sd(){return Cd()}function Cd(){return new gd((e=>e.toString()),((e,t)=>e.isEqual(t)))}var wd=new q(W.comparator),Td=new Y(W.comparator);function Q(...e){let t=Td;for(let n of e)t=t.add(n);return t}var Ed=new Y(U);function Dd(){return Ed}function Od(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:kl(t)?`-0`:t}}function kd(e){return{integerValue:``+e}}function Ad(e,t){return Al(t)?kd(t):Od(e,t)}var jd=class{constructor(){this._=void 0}};function Md(e,t,n){return e instanceof Fd?function(e,t){let n={fields:{[ql]:{stringValue:Kl},[Yl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xl(t)&&(t=Zl(t)),t&&(n.fields[Jl]=t),{mapValue:n}}(n,t):e instanceof Id?Ld(e,t):e instanceof Rd?zd(e,t):function(e,t){let n=Pd(e,t),r=Vd(n)+Vd(e.Ae);return gu(n)&&gu(e.Ae)?kd(r):Od(e.serializer,r)}(e,t)}function Nd(e,t,n){return e instanceof Id?Ld(e,t):e instanceof Rd?zd(e,t):n}function Pd(e,t){return e instanceof Bd?function(e){return gu(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Fd=class extends jd{},Id=class extends jd{constructor(e){super(),this.elements=e}};function Ld(e,t){let n=Hd(t);for(let t of e.elements)n.some((e=>cu(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Rd=class extends jd{constructor(e){super(),this.elements=e}};function zd(e,t){let n=Hd(t);for(let t of e.elements)n=n.filter((e=>!cu(e,t)));return{arrayValue:{values:n}}}var Bd=class extends jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Vd(e){return X(e.integerValue||e.doubleValue)}function Hd(e){return _u(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Ud(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Id&&t instanceof Id||e instanceof Rd&&t instanceof Rd?Qc(e.elements,t.elements,cu):e instanceof Bd&&t instanceof Bd?cu(e.Ae,t.Ae):e instanceof Fd&&t instanceof Fd}(e.transform,t.transform)}var Wd=class{constructor(e,t){this.version=e,this.transformResults=t}},Gd=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kd(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var qd=class{};function Jd(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new af(e.key,Gd.none()):new $d(e.key,e.data,Gd.none());{let n=e.data,r=wu.empty(),i=new Y(rl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new ef(e.key,r,new Bl(i.toArray()),Gd.none())}}function Yd(e,t,n){e instanceof $d?function(e,t,n){let r=e.value.clone(),i=nf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ef?function(e,t,n){if(!Kd(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=nf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xd(e,t,n,r){return e instanceof $d?function(e,t,n,r){if(!Kd(e.precondition,t))return n;let i=e.value.clone(),a=rf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ef?function(e,t,n,r){if(!Kd(e.precondition,t))return n;let i=rf(e.fieldTransforms,r,t),a=t.data;return a.setAll(tf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Kd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zd(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Pd(r.transform,e||null);i!=null&&(n===null&&(n=wu.empty()),n.set(r.field,i))}return n||null}function Qd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Qc(e,t,((e,t)=>Ud(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var $d=class extends qd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ef=class extends qd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function tf(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function nf(e,t,n){let r=new Map;z(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Nd(o,s,n[i]))}return r}function rf(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Md(e,a,t))}return r}var af=class extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},of=class extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},sf=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&Yd(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xd(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Xd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Sd();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=Jd(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(G.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Q())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,((e,t)=>Qd(e,t)))&&Qc(this.baseMutations,e.baseMutations,((e,t)=>Qd(e,t)))}},cf=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){z(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return wd}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},lf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},uf=class{constructor(e,t){this.count=e,this.unchangedNames=t}},df,$;function ff(e){switch(e){case V.OK:return R(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return R(15467,{code:e})}}function pf(e){if(e===void 0)return Nc(`GRPC error has no .code`),V.UNKNOWN;switch(e){case df.OK:return V.OK;case df.CANCELLED:return V.CANCELLED;case df.UNKNOWN:return V.UNKNOWN;case df.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case df.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case df.INTERNAL:return V.INTERNAL;case df.UNAVAILABLE:return V.UNAVAILABLE;case df.UNAUTHENTICATED:return V.UNAUTHENTICATED;case df.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case df.NOT_FOUND:return V.NOT_FOUND;case df.ALREADY_EXISTS:return V.ALREADY_EXISTS;case df.PERMISSION_DENIED:return V.PERMISSION_DENIED;case df.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case df.ABORTED:return V.ABORTED;case df.OUT_OF_RANGE:return V.OUT_OF_RANGE;case df.UNIMPLEMENTED:return V.UNIMPLEMENTED;case df.DATA_LOSS:return V.DATA_LOSS;default:return R(39323,{code:e})}}($=df||={})[$.OK=0]=`OK`,$[$.CANCELLED=1]=`CANCELLED`,$[$.UNKNOWN=2]=`UNKNOWN`,$[$.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,$[$.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,$[$.NOT_FOUND=5]=`NOT_FOUND`,$[$.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,$[$.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,$[$.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,$[$.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,$[$.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,$[$.ABORTED=10]=`ABORTED`,$[$.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,$[$.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,$[$.INTERNAL=13]=`INTERNAL`,$[$.UNAVAILABLE=14]=`UNAVAILABLE`,$[$.DATA_LOSS=15]=`DATA_LOSS`;var mf=null;function hf(){return new TextEncoder}var gf=new mc([4294967295,4294967295],0);function _f(e){let t=hf().encode(e),n=new hc;return n.update(t),new Uint8Array(n.digest())}function vf(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new mc([n,r],0),new mc([i,a],0)]}var yf=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bf(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new bf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new bf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=mc.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(mc.fromNumber(n)));return r.compare(gf)===1&&(r=new mc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=vf(_f(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=vf(_f(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},bf=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},xf=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Sf.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(G.min(),i,new q(U),vd(),Q())}},Sf=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Q(),Q(),Q())}},Cf=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},wf=class{constructor(e,t){this.targetId=e,this.Ce=t}},Tf=class{constructor(e,t,n=Hl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Ef=class{constructor(){this.ve=0,this.Fe=kf(),this.Me=Hl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Q(),t=Q(),n=Q();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R(38017,{changeType:i})}})),new Sf(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=kf()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,z(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Df=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=vd(),this.Je=Of(),this.He=Of(),this.Ye=new q(U)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:R(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if($u(i))if(n===0){let e=new W(i.path);this.et(t,e,Eu.newNoDocument(e,G.min()))}else z(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}mf?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=Gl(n).toUint8Array()}catch(e){if(e instanceof Vl)return Pc(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new yf(a,r,i)}catch(e){return Pc(e instanceof bf?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&$u(i.target)){let t=new W(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Eu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Q();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new xf(e,t,this.Ye,this.je,n);return this.je=vd(),this.Je=Of(),this.He=Of(),this.Ye=new q(U),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ef,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Y(U),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Y(U),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||L(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ef),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Of(){return new q(W.comparator)}function kf(){return new q(W.comparator)}var Af=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),jf=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Mf=(()=>({and:`AND`,or:`OR`}))(),Nf=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Pf(e,t){return e.useProto3Json||Ol(t)?t:{value:t}}function Ff(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function If(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Lf(e,t){return Ff(e,t.toTimestamp())}function Rf(e){return z(!!e,49232),G.fromTimestamp(function(e){let t=Wl(e);return new ml(t.seconds,t.nanos)}(e))}function zf(e,t){return Bf(e,t).canonicalString()}function Bf(e,t){let n=function(e){return new tl([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function Vf(e){let t=tl.fromString(e);return z(up(t),10190,{key:t.toString()}),t}function Hf(e,t){return zf(e.databaseId,t.path)}function Uf(e,t){let n=Vf(t);if(n.get(1)!==e.databaseId.projectId)throw new H(V.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(V.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new W(qf(n))}function Wf(e,t){return zf(e.databaseId,t)}function Gf(e){let t=Vf(e);return t.length===4?tl.emptyPath():qf(t)}function Kf(e){return new tl([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function qf(e){return z(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function Jf(e,t,n){return{name:Hf(e,t),fields:n.value.mapValue.fields}}function Yf(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:R(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(z(t===void 0||typeof t==`string`,58123),Hl.fromBase64String(t||``)):(z(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),Hl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Tf(r,i,a,o&&function(e){return new H(e.code===void 0?V.UNKNOWN:pf(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Uf(e,r.document.name),a=Rf(r.document.updateTime),o=r.document.createTime?Rf(r.document.createTime):G.min(),s=new wu({mapValue:{fields:r.document.fields}}),c=Eu.newFoundDocument(i,a,o,s);n=new Cf(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Uf(e,r.document),a=r.readTime?Rf(r.readTime):G.min(),o=Eu.newNoDocument(i,a);n=new Cf([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Uf(e,r.document);n=new Cf([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return R(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new uf(r,i),o=e.targetId;n=new wf(o,a)}}return n}function Xf(e,t){let n;if(t instanceof $d)n={update:Jf(e,t.key,t.value)};else if(t instanceof af)n={delete:Hf(e,t.key)};else if(t instanceof ef)n={update:Jf(e,t.key,t.data),updateMask:lp(t.fieldMask)};else{if(!(t instanceof of))return R(16599,{Vt:t.type});n={verify:Hf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Fd)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bd)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw R(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?R(27497):{exists:t.exists}:{updateTime:Lf(e,t.updateTime)}}(e,t.precondition)),n}function Zf(e,t){return e&&e.length>0?(z(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Rf(e.updateTime):Rf(t);return n.isEqual(G.min())&&(n=Rf(t)),new Wd(n,e.transformResults||[])}(e,t)))):[]}function Qf(e,t){return{documents:[Wf(e,t.path)]}}function $f(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=Wf(e,i);let a=function(e){if(e.length!==0)return cp(Pu.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:op(e.field),direction:rp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Pf(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ep(e){let t=Gf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){z(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=np(e);return t instanceof Pu&&Iu(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Au(sp(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Ol(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Du(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Du(e.values||[],t)}(n.endAt)),td(t,i,o,a,s,`F`,c,l)}function tp(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return R(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function np(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?R(30097,{filter:e}):function(e){return Pu.create(e.compositeFilter.filters.map((e=>np(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return R(1026)}}(e.compositeFilter.op))}(e):function(e){return Nu.create(sp(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return R(58110);default:return R(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=sp(e.unaryFilter.field);return Nu.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=sp(e.unaryFilter.field);return Nu.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=sp(e.unaryFilter.field);return Nu.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=sp(e.unaryFilter.field);return Nu.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return R(61313);default:return R(60726)}}(e)}function rp(e){return Af[e]}function ip(e){return jf[e]}function ap(e){return Mf[e]}function op(e){return{fieldPath:e.canonicalString()}}function sp(e){return rl.fromServerFormat(e.fieldPath)}function cp(e){return e instanceof Nu?function(e){if(e.op===`==`){if(yu(e.value))return{unaryFilter:{field:op(e.field),op:`IS_NAN`}};if(vu(e.value))return{unaryFilter:{field:op(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(yu(e.value))return{unaryFilter:{field:op(e.field),op:`IS_NOT_NAN`}};if(vu(e.value))return{unaryFilter:{field:op(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:op(e.field),op:ip(e.op),value:e.value}}}(e):e instanceof Pu?function(e){let t=e.getFilters().map((e=>cp(e)));return t.length===1?t[0]:{compositeFilter:{op:ap(e.op),filters:t}}}(e):R(54877,{filter:e})}function lp(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function up(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var dp=class e{constructor(e,t,n,r,i=G.min(),a=G.min(),o=Hl.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},fp=class{constructor(e){this.yt=e}};function pp(e){let t=ep({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?cd(t,t.limit,`L`):t}var mp=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(X(e.integerValue));else if(`doubleValue`in e){let n=X(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),kl(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Wl(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(Gl(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Cu(e)?this.Ft(t,2**53-1):xu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):R(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=ou,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(X(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),W.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};mp.Kt=new mp;var hp=class{constructor(){this.Cn=new gp}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(yl.min())}updateCollectionGroup(e,t,n){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}},gp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Y(tl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Y(tl.comparator)).toArray()}};new Uint8Array;var _p={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vp=41943040,yp=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};yp.DEFAULT_COLLECTION_PERCENTILE=10,yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yp.DEFAULT=new yp(vp,yp.DEFAULT_COLLECTION_PERCENTILE,yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yp.DISABLED=new yp(-1,0,0);var bp=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},xp=`LruGarbageCollector`,Sp=1048576;function Cp([e,t],[n,r]){let i=U(e,n);return i===0?U(t,r):i}var wp=class{constructor(e){this.Ir=e,this.buffer=new Y(Cp),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Cp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Tp=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){L(xp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Tl(e)?L(xp,`Ignoring IndexedDB error during garbage collection: `,e):await Cl(e)}await this.Vr(3e5)}))}},Ep=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(El.ce);let n=new wp(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L(`LruGarbageCollector`,`Garbage collection skipped; disabled`),K.resolve(_p)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(L(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_p):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(L(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),jc()<=M.DEBUG&&L(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Dp(e,t){return new Ep(e,t)}var Op=class{constructor(){this.changes=new gd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Eu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):K.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},kp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Ap=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&Xd(n.mutation,e,Bl.empty(),ml.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Q()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Q()){let r=xd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=bd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=xd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Q())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vd(),a=Cd(),o=function(){return Cd()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof ef)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Bl.empty()):(a.set(t.key,o.mutation.getFieldMask()),Xd(o.mutation,t,o.mutation.getFieldMask(),ml.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new kp(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Cd(),r=new q(((e,t)=>e-t)),i=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Bl.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Q()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Sd();c.forEach((e=>{if(!i.has(e)){let r=Jd(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return K.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):id(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):K.resolve(xd()),o=hl,s=i;return a.next((t=>K.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?K.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Q()))).next((e=>({batchId:o,changes:Z(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next((e=>{let t=bd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=bd();return this.indexManager.getCollectionParents(e,i).next((o=>K.forEach(o,(o=>{let s=function(e,t){return new ed(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Eu.newInvalidDocument(r)))}));let n=bd();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&Xd(a.mutation,r,Bl.empty(),ml.now()),fd(t,r)&&(n=n.insert(e,r))})),n}))}},jp=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Rf(e.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:pp(e.bundledQuery),readTime:Rf(e.readTime)}}(t)),K.resolve()}},Mp=class{constructor(){this.overlays=new q(W.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){let n=xd();return K.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),K.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),K.resolve()}getOverlaysForCollection(e,t,n){let r=xd(),i=t.length+1,a=new W(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return K.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new q(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=xd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=xd(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return K.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new lf(t,n));let i=this.qr.get(t);i===void 0&&(i=Q(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},Np=class{constructor(){this.sessionToken=Hl.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}},Pp=class{constructor(){this.Qr=new Y(Fp.$r),this.Ur=new Y(Fp.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new Fp(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new Fp(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new W(new tl([])),n=new Fp(t,e),r=new Fp(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new W(new tl([])),n=new Fp(t,e),r=new Fp(t,e+1),i=Q();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Fp(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Fp=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return W.comparator(e.key,t.key)||U(e.Yr,t.Yr)}static Kr(e,t){return U(e.Yr,t.Yr)||W.comparator(e.key,t.key)}},Ip=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Y(Fp.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new sf(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new Fp(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Dl:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Fp(t,0),r=new Fp(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Y(U);return t.forEach((e=>{let t=new Fp(e,0),r=new Fp(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),K.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(``));let a=new Fp(new W(i),0),o=new Y(U);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),K.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){z(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return K.forEach(t.mutations,(r=>{let i=new Fp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new Fp(t,0),r=this.Zr.firstAfterOrEqual(n);return K.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},Lp=class{constructor(e){this.ri=e,this.docs=function(){return new q(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return K.resolve(n?n.document.mutableCopy():Eu.newInvalidDocument(t))}getEntries(e,t){let n=vd();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Eu.newInvalidDocument(e))})),K.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vd(),a=t.path,o=new W(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||bl(vl(o),n)<=0||(r.has(o.key)||fd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,t,n,r){R(9500)}ii(e,t){return K.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Rp(this)}getSize(e){return K.resolve(this.size)}},Rp=class extends Op{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},zp=class{constructor(e){this.persistence=e,this.si=new gd((e=>Zu(e)),Qu),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=bp.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new bp(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,K.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),K.waitFor(i).next((()=>r))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return K.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),K.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),K.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return K.resolve(n)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}},Bp=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new El(0),this.li=!1,this.li=!0,this.hi=new Np,this.referenceDelegate=e(this),this.Pi=new zp(this),this.indexManager=new hp,this.remoteDocumentCache=function(e){return new Lp(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new fp(t),this.Ii=new jp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ip(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){L(`MemoryPersistence`,`Starting transaction:`,e);let r=new Vp(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return K.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},Vp=class extends Sl{constructor(e){super(),this.currentSequenceNumber=e}},Hp=class e{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw R(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),K.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(n=>{let r=W.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,G.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},Up=class e{constructor(e,t){this.persistence=e,this.pi=new gd((e=>Ml(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Dp(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?K.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,G.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hu(e.data.value)),t}br(e,t,n){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return K.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},Wp=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Q(),i=Q();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},Gp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},Kp=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mt()?8:wl(A())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new Gp;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(jc()<=M.DEBUG&&L(`QueryEngine`,`SDK will not create cache indexes for query:`,dd(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),K.resolve()):(jc()<=M.DEBUG&&L(`QueryEngine`,`Query:`,dd(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(jc()<=M.DEBUG&&L(`QueryEngine`,`The SDK decides to create cache indexes for query:`,dd(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,od(t))):K.resolve())}ys(e,t){if(rd(t))return K.resolve(null);let n=od(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=cd(t,null,`F`),n=od(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Q(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,cd(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return rd(t)||r.isEqual(G.min())?K.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?K.resolve(null):(jc()<=M.DEBUG&&L(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),dd(t)),this.vs(e,a,t,_l(r,hl)).next((e=>e)))}))}Ds(e,t){let n=new Y(md(e));return t.forEach(((t,r)=>{fd(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return jc()<=M.DEBUG&&L(`QueryEngine`,`Using full collection scan to execute query:`,dd(t)),this.ps.getDocumentsMatchingQuery(e,t,yl.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},qp=`LocalStore`,Jp=3e8,Yp=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new q(U),this.xs=new gd((e=>Zu(e)),Qu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ap(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function Xp(e,t,n,r){return new Yp(e,t,n,r)}async function Zp(e,t){let n=B(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Q();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Qp(e,t){let n=B(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=K.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);z(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Q();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function $p(e){let t=B(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function em(e,t){let n=B(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(Hl.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Jp?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=vd(),c=Q();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(tm(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(G.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return K.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function tm(e,t,n){let r=Q(),i=Q();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=vd();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(G.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):L(qp,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function nm(e,t){let n=B(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Dl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function rm(e,t){let n=B(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,K.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new dp(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function im(e,t,n){let r=B(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Tl(e))throw e;L(qp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function am(e,t,n){let r=B(e),i=G.min(),a=Q();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=B(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):K.resolve(r.Ms.get(i))}(r,e,od(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:G.min(),n?a:Q()))).next((e=>(om(r,pd(t),e),{documents:e,Qs:a})))))}function om(e,t,n){let r=e.Os.get(t)||G.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var sm=class{constructor(){this.activeTargetIds=Dd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},cm=class{constructor(){this.Mo=new sm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},lm=class{Oo(e){}shutdown(){}},um=`ConnectivityMonitor`,dm=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){L(um,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){L(um,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},fm=null;function pm(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,`0x`+fm.toString(16)}var mm=`RestConnection`,hm={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},gm=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===eu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=pm(),o=this.zo(e,t.toUriEncodedString());L(mm,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=et(c);return this.Jo(e,o,s,n,l).then((t=>(L(mm,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Pc(mm,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+kc}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=hm[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},_m=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},vm=`WebChannelConnection`,ym=class extends gm{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=pm();return new Promise(((i,o)=>{let s=new vc;s.setWithCredentials(!0),s.listenOnce(bc.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case xc.NO_ERROR:let t=s.getResponseJson();L(vm,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case xc.TIMEOUT:L(vm,`RPC '${e}' ${a} timed out`),o(new H(V.DEADLINE_EXCEEDED,`Request time out`));break;case xc.HTTP_ERROR:let n=s.getStatus();if(L(vm,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new H(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(V).indexOf(t)>=0?t:V.UNKNOWN}(t.status),t.message)):o(new H(V.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new H(V.UNAVAILABLE,`Connection failed.`));break;default:R(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{L(vm,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);L(vm,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=pm(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Tc(),o=wc(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);L(vm,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new _m({Yo:t=>{f?L(vm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(L(vm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),L(vm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,yc.EventType.OPEN,(()=>{f||(L(vm,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,yc.EventType.CLOSE,(()=>{f||(f=!0,L(vm,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,yc.EventType.ERROR,(t=>{f||(f=!0,Pc(vm,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new H(V.UNAVAILABLE,`The operation could not be completed`)))})),m(u,yc.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];z(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){L(vm,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=df[e];if(t!==void 0)return pf(t)}(t),i=a.message;n===void 0&&(n=V.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new H(n,i)),u.close()}else L(vm,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Cc.STAT_EVENT,(t=>{t.stat===Sc.PROXY?L(vm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Sc.NOPROXY&&L(vm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function bm(){return typeof document<`u`?document:null}function xm(e){return new Nf(e,!0)}var Sm=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&L(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},Cm=`PersistentStream`,wm=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sm(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===V.RESOURCE_EXHAUSTED?(Nc(t.toString()),Nc(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new H(V.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return L(Cm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(L(Cm,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Tm=class extends wm{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=Yf(this.serializer,e),n=function(e){if(!(`targetChange`in e))return G.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?G.min():t.readTime?Rf(t.readTime):G.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=Kf(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=$u(r)?{documents:Qf(e,r)}:{query:$f(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=If(e,t.resumeToken);let r=Pf(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(G.min())>0){n.readTime=Ff(e,t.snapshotVersion.toTimestamp());let r=Pf(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=tp(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=Kf(this.serializer),t.removeTarget=e,this.q_(t)}},Em=class extends wm{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return z(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,z(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){z(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=Zf(e.writeResults,e.commitTime),n=Rf(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=Kf(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>Xf(this.serializer,e)))};this.q_(t)}},Dm=class{},Om=class extends Dm{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new H(V.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Bf(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new H(V.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,Bf(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new H(V.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},km=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nc(t),this.aa=!1):L(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},Am=`RemoteStore`,jm=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{Bm(this)&&(L(Am,`Restarting streams for network reachability change.`),await async function(e){let t=B(e);t.Ea.add(4),await Nm(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await Mm(t)}(this))}))})),this.Ra=new km(n,r)}};async function Mm(e){if(Bm(e))for(let t of e.da)await t(!0)}async function Nm(e){for(let t of e.da)await t(!1)}function Pm(e,t){let n=B(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),zm(n)?Rm(n):ah(n).O_()&&Im(n,t))}function Fm(e,t){let n=B(e),r=ah(n);n.Ia.delete(t),r.O_()&&Lm(n,t),n.Ia.size===0&&(r.O_()?r.L_():Bm(n)&&n.Ra.set(`Unknown`))}function Im(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(G.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ah(e).Y_(t)}function Lm(e,t){e.Va.Ue(t),ah(e).Z_(t)}function Rm(e){e.Va=new Df({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ah(e).start(),e.Ra.ua()}function zm(e){return Bm(e)&&!ah(e).x_()&&e.Ia.size>0}function Bm(e){return B(e).Ea.size===0}function Vm(e){e.Va=void 0}async function Hm(e){e.Ra.set(`Online`)}async function Um(e){e.Ia.forEach(((t,n)=>{Im(e,t)}))}async function Wm(e,t){Vm(e),zm(e)?(e.Ra.ha(t),Rm(e)):e.Ra.set(`Unknown`)}async function Gm(e,t,n){if(e.Ra.set(`Online`),t instanceof Tf&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){L(Am,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await Km(e,n)}else if(t instanceof Cf?e.Va.Ze(t):t instanceof wf?e.Va.st(t):e.Va.tt(t),!n.isEqual(G.min()))try{let t=await $p(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(Hl.EMPTY_BYTE_STRING,r.snapshotVersion)),Lm(e,t),Im(e,new dp(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){L(Am,`Failed to raise snapshot:`,t),await Km(e,t)}}async function Km(e,t,n){if(!Tl(t))throw t;e.Ea.add(1),await Nm(e),e.Ra.set(`Offline`),n||=()=>$p(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{L(Am,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Mm(e)}))}function qm(e,t){return t().catch((n=>Km(e,n,t)))}async function Jm(e){let t=B(e),n=oh(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dl;for(;Ym(t);)try{let e=await nm(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,Xm(t,e)}catch(e){await Km(t,e)}Zm(t)&&Qm(t)}function Ym(e){return Bm(e)&&e.Ta.length<10}function Xm(e,t){e.Ta.push(t);let n=oh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Zm(e){return Bm(e)&&!oh(e).x_()&&e.Ta.length>0}function Qm(e){oh(e).start()}async function $m(e){oh(e).ra()}async function eh(e){let t=oh(e);for(let n of e.Ta)t.ea(n.mutations)}async function th(e,t,n){let r=e.Ta.shift(),i=cf.from(r,t,n);await qm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Jm(e)}async function nh(e,t){t&&oh(e).X_&&await async function(e,t){if(function(e){return ff(e)&&e!==V.ABORTED}(t.code)){let n=e.Ta.shift();oh(e).B_(),await qm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Jm(e)}}(e,t),Zm(e)&&Qm(e)}async function rh(e,t){let n=B(e);n.asyncQueue.verifyOperationInProgress(),L(Am,`RemoteStore received new credentials`);let r=Bm(n);n.Ea.add(3),await Nm(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mm(n)}async function ih(e,t){let n=B(e);t?(n.Ea.delete(2),await Mm(n)):t||(n.Ea.add(2),await Nm(n),n.Ra.set(`Unknown`))}function ah(e){return e.ma||(e.ma=function(e,t,n){let r=B(e);return r.sa(),new Tm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Hm.bind(null,e),t_:Um.bind(null,e),r_:Wm.bind(null,e),H_:Gm.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),zm(e)?Rm(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),Vm(e))}))),e.ma}function oh(e){return e.fa||(e.fa=function(e,t,n){let r=B(e);return r.sa(),new Em(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:$m.bind(null,e),r_:nh.bind(null,e),ta:eh.bind(null,e),na:th.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Jm(e)):(await e.fa.stop(),e.Ta.length>0&&(L(Am,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var sh=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(V.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ch(e,t){if(Nc(`AsyncQueue`,`${t}: ${e}`),Tl(e))return new H(V.UNAVAILABLE,`${t}: ${e}`);throw e}var lh=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||W.comparator(t.key,n.key):(e,t)=>W.comparator(e.key,t.key),this.keyedMap=bd(),this.sortedSet=new q(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},uh=class{constructor(){this.ga=new q(W.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):R(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},dh=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,lh.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},fh=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},ph=class{constructor(){this.queries=mh(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=B(e),r=n.queries;n.queries=mh(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new H(V.ABORTED,`Firestore shutting down`))}};function mh(){return new gd((e=>ud(e)),ld)}async function hh(e,t){let n=B(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new fh,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=ch(e,`Initialization of query '${dd(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&yh(n)}async function gh(e,t){let n=B(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _h(e,t){let n=B(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&yh(n)}function vh(e,t,n){let r=B(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function yh(e){e.Ca.forEach((e=>{e.next()}))}var bh,xh;(xh=bh||={}).Ma=`default`,xh.Cache=`cache`;var Sh=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new dh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bh.Cache}},Ch=class{constructor(e){this.key=e}},wh=class{constructor(e){this.key=e}},Th=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Q(),this.mutatedKeys=Q(),this.eu=md(e),this.tu=new lh(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new uh,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=fd(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new dh(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Q(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new wh(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Ch(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Q();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Eh=`SyncEngine`,Dh=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Oh=class{constructor(e){this.key=e,this.hu=!1}},kh=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new gd((e=>ud(e)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new q(W.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=bp.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function Ah(e,t,n=!0){let r=Qh(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Mh(r,t,n,!0),i}async function jh(e,t){await Mh(Qh(e),t,!0,!1)}async function Mh(e,t,n,r){let i=await rm(e.localStore,od(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await Nh(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&Pm(e.remoteStore,i),s}async function Nh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await am(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Kh(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await am(e.localStore,t,!0),o=new Th(t,a.Qs),s=o.ru(a.documents),c=Sf.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);Kh(e,n,l.au);let u=new Dh(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Ph(e,t,n){let r=B(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!ld(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fm(r.remoteStore,i.targetId),Wh(r,i.targetId)})).catch(Cl)):(Wh(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function Fh(e,t){let n=B(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fm(n.remoteStore,r.targetId))}async function Ih(e,t,n){let r=$h(e);try{let e=await function(e,t){let n=B(e),r=ml.now(),i=t.reduce(((e,t)=>e.add(t.key)),Q()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=vd(),c=Q();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=Zd(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new ef(e.key,t,Tu(t.value.mapValue),Gd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Z(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new q(U),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Yh(r,e.changes),await Jm(r.remoteStore)}catch(e){let t=ch(e,`Failed to persist write`);n.reject(t)}}async function Lh(e,t){let n=B(e);try{let e=await em(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(z(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?z(r.hu,14607):e.removedDocuments.size>0&&(z(r.hu,42227),r.hu=!1))})),await Yh(n,e,t)}catch(e){await Cl(e)}}function Rh(e,t,n){let r=B(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=B(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&yh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zh(e,t,n){let r=B(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new q(W.comparator);e=e.insert(a,Eu.newNoDocument(a,G.min()));let n=Q().add(a);await Lh(r,new xf(G.min(),new Map,new q(U),e,n)),r.du=r.du.remove(a),r.Au.delete(t),Jh(r)}else await im(r.localStore,t,!1).then((()=>Wh(r,t,n))).catch(Cl)}async function Bh(e,t){let n=B(e),r=t.batch.batchId;try{let e=await Qp(n.localStore,t);Uh(n,r,null),Hh(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await Yh(n,e)}catch(e){await Cl(e)}}async function Vh(e,t,n){let r=B(e);try{let e=await function(e,t){let n=B(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(z(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Uh(r,t,n),Hh(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await Yh(r,e)}catch(e){await Cl(e)}}function Hh(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function Uh(e,t,n){let r=B(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Wh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||Gh(e,t)}))}function Gh(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(Fm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Jh(e))}function Kh(e,t,n){for(let r of n)r instanceof Ch?(e.Ru.addReference(r.key,t),qh(e,r)):r instanceof wh?(L(Eh,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Gh(e,r.key)):R(19791,{wu:r})}function qh(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(L(Eh,`New document in limbo: `+n),e.Eu.add(r),Jh(e))}function Jh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new W(tl.fromString(t)),r=e.fu.next();e.Au.set(r,new Oh(n)),e.du=e.du.insert(n,r),Pm(e.remoteStore,new dp(od(nd(n.path)),r,`TargetPurposeLimboResolution`,El.ce))}}async function Yh(e,t,n){let r=B(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=Wp.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=B(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>K.forEach(t,(t=>K.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>K.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Tl(e))throw e;L(qp,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function Xh(e,t){let n=B(e);if(!n.currentUser.isEqual(t)){L(Eh,`User change. New user:`,t.toKey());let e=await Zp(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new H(V.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Yh(n,e.Ls)}}function Zh(e,t){let n=B(e),r=n.Au.get(t);if(r&&r.hu)return Q().add(r.key);{let e=Q(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Qh(e){let t=B(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zh.bind(null,t),t.Pu.H_=_h.bind(null,t.eventManager),t.Pu.yu=vh.bind(null,t.eventManager),t}function $h(e){let t=B(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vh.bind(null,t),t}var eg=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Xp(this.persistence,new Kp,e.initialUser,this.serializer)}Cu(e){return new Bp(Hp.mi,this.serializer)}Du(e){return new cm}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};eg.provider={build:()=>new eg};var tg=class extends eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){z(this.persistence.referenceDelegate instanceof Up,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Tp(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?yp.DEFAULT:yp.withCacheSize(this.cacheSizeBytes);return new Bp((e=>Up.mi(e,t)),this.serializer)}},ng=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xh.bind(null,this.syncEngine),await ih(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ph}()}createDatastore(e){let t=xm(e.databaseInfo.databaseId),n=function(e){return new ym(e)}(e.databaseInfo);return function(e,t,n,r){return new Om(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new jm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Rh(this.syncEngine,e,0)),function(){return dm.v()?new dm:new lm}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new kh(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=B(e);L(Am,`RemoteStore shutting down.`),t.Ea.add(5),await Nm(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};ng.provider={build:()=>new ng};var rg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nc(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},ig=`FirestoreClient`,ag=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Oc.UNAUTHENTICATED,this.clientId=qc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{L(ig,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(L(ig,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Lc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=ch(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function og(e,t){e.asyncQueue.verifyOperationInProgress(),L(ig,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Zp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function sg(e,t){e.asyncQueue.verifyOperationInProgress();let n=await cg(e);L(ig,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>rh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>rh(t.remoteStore,n))),e._onlineComponents=t}async function cg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){L(ig,`Using user provided OfflineComponentProvider`);try{await og(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===V.FAILED_PRECONDITION||e.code===V.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Pc(`Error using user provided cache. Falling back to memory cache: `+n),await og(e,new eg)}}else L(ig,`Using default OfflineComponentProvider`),await og(e,new tg(void 0));return e._offlineComponents}async function lg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(L(ig,`Using user provided OnlineComponentProvider`),await sg(e,e._uninitializedComponentsProvider._online)):(L(ig,`Using default OnlineComponentProvider`),await sg(e,new ng))),e._onlineComponents}function ug(e){return lg(e).then((e=>e.syncEngine))}async function dg(e){let t=await lg(e),n=t.eventManager;return n.onListen=Ah.bind(null,t.syncEngine),n.onUnlisten=Ph.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fh.bind(null,t.syncEngine),n}function fg(e,t,n={}){let r=new Lc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new rg({next:s=>{a.Nu(),t.enqueueAndForget((()=>gh(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new H(V.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new H(V.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new Sh(nd(n.path),a,{includeMetadataChanges:!0,qa:!0});return hh(e,o)}(await dg(e),e.asyncQueue,t,n,r))),r.promise}function pg(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var mg=new Map,hg=`firestore.googleapis.com`,gg=!0,_g=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(V.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=hg,this.ssl=gg}else this.host=e.host,this.ssl=e.ssl??gg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vp;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sp)throw new H(V.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}al(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pg(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vg=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new _g({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new H(V.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new H(V.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new _g(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new zc;switch(e.type){case`firstParty`:return new Uc(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new H(V.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=mg.get(e);t&&(L(`ComponentProvider`,`Removing Datastore`),mg.delete(e),t.terminate())}(this),Promise.resolve()}};function yg(e,t,n,r={}){e=ll(e,vg);let i=et(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(tt(`https://${s}`),st(`Firestore`,!0)),a.host!==hg&&a.host!==s&&Pc(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Ct(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Oc.MOCK_USER;else{t=nt(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new H(V.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Oc(i)}e._authCredentials=new Bc(new Rc(t,n))}}var bg=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},xg=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(dl(n,e._jsonSchema))return new e(t,r||null,new W(tl.fromString(n.referencePath)))}};xg._jsonSchemaVersion=`firestore/documentReference/1.0`,xg._jsonSchema={type:ul(`string`,xg._jsonSchemaVersion),referencePath:ul(`string`)};var Sg=class e extends bg{constructor(e,t,n){super(e,t,nd(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xg(this.firestore,null,new W(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Cg(e,t,...n){if(e=Mt(e),arguments.length===1&&(t=qc.newId()),il(`doc`,`path`,t),e instanceof vg){let r=tl.fromString(t,...n);return ol(r),new xg(e,null,new W(r))}{if(!(e instanceof xg||e instanceof Sg))throw new H(V.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(tl.fromString(t,...n));return ol(r),new xg(e.firestore,e instanceof Sg?e.converter:null,new W(r))}}var wg=`AsyncQueue`,Tg=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sm(this,`async_queue_retry`),this._c=()=>{let e=bm();e&&L(wg,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=bm();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=bm();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Lc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;L(wg,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Nc(`INTERNAL UNHANDLED ERROR: `,Eg(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=sh.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&R(47125,{Pc:Eg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Eg(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var Dg=class extends vg{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Tg,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Tg(e),this._firestoreClient=void 0,await e}}};function Og(e,t){let n=typeof e==`object`?e:ar(),r=typeof e==`string`?e:t||eu,i=$n(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Xe(`firestore`);e&&yg(i,...e)}return i}function kg(e){if(e._terminated)throw new H(V.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||Ag(e),e._firestoreClient}function Ag(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new $l(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pg(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new ag(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var jg=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(Hl.fromBase64String(t))}catch(e){throw new H(V.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(Hl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(dl(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};jg._jsonSchemaVersion=`firestore/bytes/1.0`,jg._jsonSchema={type:ul(`string`,jg._jsonSchemaVersion),bytes:ul(`string`)};var Mg=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new rl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},Ng=class{constructor(e){this._methodName=e}},Pg=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(V.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new H(V.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return U(this._lat,e._lat)||U(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(dl(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};Pg._jsonSchemaVersion=`firestore/geoPoint/1.0`,Pg._jsonSchema={type:ul(`string`,Pg._jsonSchemaVersion),latitude:ul(`number`),longitude:ul(`number`)};var Fg=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(dl(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new H(V.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};Fg._jsonSchemaVersion=`firestore/vectorValue/1.0`,Fg._jsonSchema={type:ul(`string`,Fg._jsonSchemaVersion),vectorValues:ul(`object`)};var Ig=/^__.*__$/,Lg=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new $d(e,this.data,t,this.fieldTransforms):new ef(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Rg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R(40011,{Ac:e})}}var zg=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(Rg(this.Ac)&&Ig.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},Bg=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xm(e)}Cc(e,t,n,r=!1){return new zg({Ac:e,methodName:t,Dc:n,path:rl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vg(e){let t=e._freezeSettings(),n=xm(e._databaseId);return new Bg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hg(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);Kg(`Data must be an object, but it was:`,o,r);let s=Wg(r,o),c,l;if(a.merge)c=new Bl(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=qg(t,r,n);if(!o.contains(i))throw new H(V.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Zg(e,i)||e.push(i)}c=new Bl(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Lg(new wu(s),c,l)}function Ug(e,t){if(Gg(e=Mt(e)))return Kg(`Unsupported field value:`,t,e),Wg(e,t);if(e instanceof Ng)return function(e,t){if(!Rg(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=Ug(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Mt(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Ad(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=ml.fromDate(e);return{timestampValue:Ff(t.serializer,n)}}if(e instanceof ml){let n=new ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ff(t.serializer,n)}}if(e instanceof Pg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jg)return{bytesValue:If(t.serializer,e._byteString)};if(e instanceof xg){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:zf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Fg)return function(e,t){return{mapValue:{fields:{[nu]:{stringValue:au},[ou]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return Od(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${cl(e)}`)}(e,t)}function Wg(e,t){let n={};return Ll(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Il(e,((e,r)=>{let i=Ug(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function Gg(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof ml||e instanceof Pg||e instanceof jg||e instanceof xg||e instanceof Ng||e instanceof Fg)}function Kg(e,t,n){if(!Gg(n)||!sl(n)){let r=cl(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function qg(e,t,n){if((t=Mt(t))instanceof Mg)return t._internalPath;if(typeof t==`string`)return Yg(e,t);throw Xg(`Field path arguments must be of type string or `,e,!1,void 0,n)}var Jg=RegExp(`[~\\*/\\[\\]]`);function Yg(e,t,n){if(t.search(Jg)>=0)throw Xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Mg(...t.split(`.`))._internalPath}catch{throw Xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xg(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new H(V.INVALID_ARGUMENT,s+e+c)}function Zg(e,t){return e.some((e=>e.isEqual(t)))}var Qg=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xg(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $g(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(e_(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$g=class extends Qg{data(){return super.data()}};function e_(e,t){return typeof t==`string`?Yg(e,t):t instanceof Mg?t._internalPath:t._delegate._internalPath}var t_=class{convertValue(e,t=`none`){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return X(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw R(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Il(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[ou].arrayValue?.values?.map((e=>X(e.doubleValue)));return new Fg(t)}convertGeoPoint(e){return new Pg(X(e.latitude),X(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=Zl(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){let t=Wl(e);return new ml(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=tl.fromString(e);z(up(n),9688,{name:e});let r=new tu(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||Nc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function n_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var r_=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},i_=class e extends Qg{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new a_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(e_(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(V.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};i_._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,i_._jsonSchema={type:ul(`string`,i_._jsonSchemaVersion),bundleSource:ul(`string`,`DocumentSnapshot`),bundleName:ul(`string`),bundle:ul(`string`)};var a_=class extends i_{data(e={}){return super.data(e)}},o_=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new r_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new a_(this._firestore,this._userDataWriter,n.key,n,new r_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(V.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new a_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new r_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new a_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new r_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:s_(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(V.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=qc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function s_(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return R(61501,{type:e})}}function c_(e){e=ll(e,xg);let t=ll(e.firestore,Dg);return fg(kg(t),e._key).then((n=>f_(t,e,n)))}o_._jsonSchemaVersion=`firestore/querySnapshot/1.0`,o_._jsonSchema={type:ul(`string`,o_._jsonSchemaVersion),bundleSource:ul(`string`,`QuerySnapshot`),bundleName:ul(`string`),bundle:ul(`string`)};var l_=class extends t_{constructor(e){super(),this.firestore=e}convertBytes(e){return new jg(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xg(this.firestore,null,t)}};function u_(e,t,n){e=ll(e,xg);let r=ll(e.firestore,Dg),i=n_(e.converter,t,n);return d_(r,[Hg(Vg(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,Gd.none())])}function d_(e,t){return function(e,t){let n=new Lc;return e.asyncQueue.enqueueAndForget((async()=>Ih(await ug(e),t,n))),n.promise}(kg(e),t)}function f_(e,t,n){let r=n.docs.get(t._key);return new i_(e,new l_(e),t._key,r,new r_(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(e){kc=e})(rr),Qn(new Nt(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Dg(new Vc(e.getProvider(`auth-internal`)),new Gc(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new H(V.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new tu(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),sr(Ec,Dc,e),sr(Ec,Dc,`esm2020`)})();var p_=()=>{let[e,t]=(0,C.useState)(null),[n,r]=(0,C.useState)(null),[i,a]=(0,C.useState)(null),[o,s]=(0,C.useState)(!1);(0,C.useEffect)(()=>{Mc(`debug`);let e=or().length===0?ir({apiKey:`AIzaSyByiOkhjMRmhg_Y5l2byzhnWKxdY0SXFUw`,authDomain:`newidolgame.firebaseapp.com`,projectId:`newidolgame`,storageBucket:`newidolgame.appspot.com`,messagingSenderId:`167024582833`,appId:`1:167024582833:web:3e37558077a853e7ba8290`,measurementId:`G-CDMTML8QW6`}):or()[0],n=Og(e),i=uc(e);t(n),r(i);let o=to(i,async e=>{if(e)console.log(` Authenticated:`,e.uid),a(e.uid);else try{let e=await qa(i);console.log(` Signed in anonymously:`,e.user.uid),a(e.user.uid)}catch(e){console.error(` Auth failed:`,e)}s(!0)});return()=>o()},[]);let c=(0,C.useCallback)(t=>!t||!e?null:Cg(e,`artifacts/${typeof __app_id<`u`?__app_id:`default-app-id`}/users/${t}/game_data/save_slot`),[e]),[l,u]=(0,C.useState)(!1),[d,f]=(0,C.useState)(``),[p,m]=(0,C.useState)(5e4),[h,g]=(0,C.useState)(1),[_,v]=(0,C.useState)([]),[y,b]=(0,C.useState)(null),[x,S]=(0,C.useState)(``),[w,T]=(0,C.useState)(1e3),[ee,te]=(0,C.useState)(`members`),[ne,re]=(0,C.useState)(!1),[ie,ae]=(0,C.useState)([]),[oe,se]=(0,C.useState)([]),[ce,le]=(0,C.useState)([]),[E,D]=(0,C.useState)([{id:1,name:`A1 'Party ga Hajimaru yo'`,theme:`classic`,difficulty:100},{id:2,name:`K2 'Aitakatta'`,theme:`classic`,difficulty:120},{id:3,name:`H3 'Mokugekisha'`,theme:`dance`,difficulty:150},{id:4,name:`B4 'Idol no Yoake'`,theme:`vocal`,difficulty:140}]),[ue,de]=(0,C.useState)({theater:!1,practiceRooms:{vocal:0,dance:0,variety:0}}),[fe,pe]=(0,C.useState)([]),[me,O]=(0,C.useState)([]),[he,ge]=(0,C.useState)([]),[_e,ve]=(0,C.useState)([]),[ye,be]=(0,C.useState)([]),[xe,Se]=(0,C.useState)([]),[Ce,we]=(0,C.useState)(null),[Te,Ee]=(0,C.useState)(`local`),[De,Oe]=(0,C.useState)({asia:!1,west:!1}),[ke,Ae]=(0,C.useState)([]),[je,Me]=(0,C.useState)([]),[Ne,Pe]=(0,C.useState)(null),[Fe,Ie]=(0,C.useState)([]),[Le,Re]=(0,C.useState)([]),[ze,Be]=(0,C.useState)([]),[Ve,He]=(0,C.useState)([]),[k,Ue]=(0,C.useState)([]),[We,Ge]=(0,C.useState)([]),[Ke,qe]=(0,C.useState)({totalRevenue:0,totalConcerts:0,totalSongs:0,revenueHistory:[]}),[Je,Ye]=(0,C.useState)(null),[Xe,Ze]=(0,C.useState)(null),[Qe,$e]=(0,C.useState)(null),[et,tt]=(0,C.useState)(`Guest`),[nt,rt]=(0,C.useState)(`list`),[it,at]=(0,C.useState)({photos:0,towels:0,lightsticks:0}),[ot]=(0,C.useState)({photos:1500,towels:2500,lightsticks:3500}),[st]=(0,C.useState)({photos:500,towels:1e3,lightsticks:1500}),[A,ct]=(0,C.useState)(null),[lt,ut]=(0,C.useState)([{id:1,name:`Local Theater (Own)`,capacity:250,cost:0,maintenance:5e3},{id:2,name:`Small Hall (1K)`,capacity:1e3,cost:5e4,maintenance:1e4},{id:3,name:`City Arena (5K)`,capacity:5e3,cost:25e4,maintenance:3e4},{id:4,name:`Dome (50K)`,capacity:5e4,cost:5e6,maintenance:1e5}]),[dt,ft]=(0,C.useState)([]),pt=[{label:`Debut Stage`,category:`Official`,cost:1e4,fanImpact:.1,skillImpact:.1,staminaDrain:20,desc:`The official first performance to introduce the group.`},{label:`Comeback Stage`,category:`Official`,cost:2e4,fanImpact:.2,skillImpact:.15,staminaDrain:30,desc:`Performance for new album/single promotions.`},{label:`Music Show Performance`,category:`Official`,cost:15e3,fanImpact:.15,skillImpact:.1,staminaDrain:25,desc:`Weekly appearance on a major music program.`},{label:`Award Show Stage`,category:`Official`,cost:5e4,fanImpact:.3,skillImpact:.2,staminaDrain:40,desc:`A high-profile stage at a year-end award show.`},{label:`Special Stage`,category:`Official`,cost:3e4,fanImpact:.25,skillImpact:.15,staminaDrain:35,desc:`One-off collaborative or unique concept stage.`},{label:`Anniversary Stage`,category:`Official`,cost:4e4,fanImpact:.25,skillImpact:.1,staminaDrain:30,desc:`A celebratory performance marking an anniversary.`},{label:`Road Show`,category:`Promotional`,cost:5e3,fanImpact:.05,skillImpact:.05,staminaDrain:15,desc:`Outdoor public performance to attract local fans.`},{label:`Busking`,category:`Promotional`,cost:2e3,fanImpact:.02,skillImpact:.05,staminaDrain:10,desc:`Street performance, low cost, small local gains.`},{label:`Fanmeeting Stage`,category:`Promotional`,cost:15e3,fanImpact:.1,skillImpact:.05,staminaDrain:20,desc:`Performance for official fan club members.`},{label:`Campus Festival`,category:`Promotional`,cost:8e3,fanImpact:.1,skillImpact:.05,staminaDrain:20,desc:`Performing at a university event, popular with youth.`},{label:`Corporate Event`,category:`Promotional`,cost:25e3,fanImpact:.05,skillImpact:.1,staminaDrain:25,desc:`Paid performance for a private business event. High revenue, low fans.`},{label:`TV Appearance`,category:`Promotional`,cost:12e3,fanImpact:.15,skillImpact:.1,staminaDrain:20,desc:`Non-music TV guest slot with a short performance segment.`},{label:`Concert Tour`,category:`Touring`,cost:1e5,fanImpact:.4,skillImpact:.3,staminaDrain:50,desc:`A series of major performances across cities. High investment/high reward.`},{label:`Showcase`,category:`Touring`,cost:3e4,fanImpact:.2,skillImpact:.15,staminaDrain:30,desc:`Short series of performances focusing on album track B-sides.`},{label:`Music Festival`,category:`Touring`,cost:35e3,fanImpact:.3,skillImpact:.2,staminaDrain:45,desc:`Performing alongside other major artists at a festival.`},{label:`Overseas Promotion Stage`,category:`Touring`,cost:6e4,fanImpact:.35,skillImpact:.2,staminaDrain:40,desc:`Targeting international markets.`},{label:`Practice Room Performance`,category:`Internal`,cost:500,fanImpact:.01,skillImpact:.05,staminaDrain:5,desc:`Casual practice/upload for minor buzz.`},{label:`Company Evaluation Stage`,category:`Internal`,cost:1e3,fanImpact:0,skillImpact:.15,staminaDrain:10,desc:`Internal stage for skill feedback. No fan change, high skill gain.`},{label:`V-Live/YouTube Stage`,category:`Internal`,cost:1500,fanImpact:.05,skillImpact:.05,staminaDrain:10,desc:`Streaming performance online for immediate fan engagement.`},{label:`Charity Stage`,category:`Internal`,cost:5e3,fanImpact:.1,skillImpact:.05,staminaDrain:15,desc:`Goodwill event. Boosts group morale slightly.`},{label:`Surprise Performance`,category:`Internal`,cost:1e4,fanImpact:.15,skillImpact:.1,staminaDrain:20,desc:`Unexpected pop-up event for maximum hype.`}],mt=async(t,n)=>{let r=n||i;if(!o||!e||!r){S(`System not ready. Please wait for Firebase connection.`),console.warn(` Save aborted  Firebase not ready yet.`);return}let a={groupName:d,money:p,week:h,members:JSON.stringify(_),totalFans:w,songs:JSON.stringify(oe),teams:JSON.stringify(ce),allSetlists:JSON.stringify(E),buildings:JSON.stringify(ue),sisterGroups:JSON.stringify(fe),rivalGroups:JSON.stringify(me),achievements:JSON.stringify(he),hallOfFame:JSON.stringify(_e),events:JSON.stringify(ye),sponsorships:JSON.stringify(xe),difficulty:Te,internationalMarkets:JSON.stringify(De),outfits:JSON.stringify(ke),tours:JSON.stringify(je),activeTour:JSON.stringify(Ne),musicVideos:JSON.stringify(Fe),varietyShows:JSON.stringify(Le),photoBooks:JSON.stringify(ze),documentaries:JSON.stringify(Ve),collaborations:JSON.stringify(k),scandals:JSON.stringify(We),statistics:JSON.stringify(Ke),merchInventory:JSON.stringify(it),activeTrainingCamp:JSON.stringify(A),username:t,venues:JSON.stringify(lt),performanceHistory:JSON.stringify(dt),timestamp:Date.now()};try{let e=c(r);if(!e)throw Error(`Could not determine save path.`);await u_(e,a),S(` Game saved successfully for ${t}!`),we(null),tt(t),console.log(` Game saved for user:`,r)}catch(e){console.error(` Error saving game:`,e),S(`Error saving game: ${e.message}`)}},ht=async(t,n,r,a)=>{let s=n||i;if(!o||!e||!s){S(`System not ready. Please wait for Firebase connection.`),console.warn(` Load aborted  Firebase not ready yet.`);return}try{let e=c(s);if(!e)throw Error(`Could not determine load path.`);let n=await c_(e);if(n.exists()){let e=n.data();f(e.groupName||``),m(e.money||0),g(e.week||1),v(e.members?JSON.parse(e.members):[]),u(!0),S(` Game loaded for ${e.username||t}!`),we(null)}else S(` No save file found for ${t}.`)}catch(e){console.error(` Error loading game:`,e),S(`Error loading game: ${e.message}`)}},gt=()=>{let e=[`Yui`,`Sakura`,`Miku`,`Haruka`,`Rina`,`Nana`,`Akari`,`Yuki`,`Aoi`,`Hana`,`Karin`,`Miyu`,`Saki`,`Hinata`,`Riko`,`Ayaka`,`Mei`,`Eri`,`Mio`,`Yuna`],t=[`Tanaka`,`Sato`,`Suzuki`,`Takahashi`,`Watanabe`,`Yamamoto`,`Kobayashi`,`Nakamura`,`Ito`,`Kato`,`Yoshida`,`Yamada`];return`${e[Math.floor(Math.random()*e.length)]} ${t[Math.floor(Math.random()*t.length)]}`},_t=()=>{let e=[`Yui`,`Sakura`,`Miku`,`Haruka`,`Rina`,`Nana`,`Akari`,`Yuki`,`Aoi`,`Hana`,`Karin`,`Miyu`,`Saki`,`Hinata`,`Riko`,`Ayaka`],t=[`Tanaka`,`Sato`,`Suzuki`,`Takahashi`,`Watanabe`,`Yamamoto`,`Kobayashi`,`Nakamura`];return Array.from({length:8},(n,r)=>({id:r+1,name:`${e[r]} ${t[r%4]}`,nickname:e[r]+`-chan`,singing:Math.floor(Math.random()*30)+20,dancing:Math.floor(Math.random()*30)+20,variety:Math.floor(Math.random()*30)+20,stamina:100,morale:80,fans:Math.floor(Math.random()*200)+100,position:r===0?`center`:r<3?`front`:`back`,talent:[`vocal`,`dance`,`variety`][r%3],personality:[`cheerful`,`shy`,`confident`][r%3],relationships:{},birthday:{month:r%12+1,day:r*3+1},equippedOutfit:null,socialFollowers:Math.floor(Math.random()*5e3)+1e3,scandals:0,age:16+r,yearsActive:0,graduated:!1,homeGroup:`main`,kenninGroups:[],singlesParticipation:[],songsParticipation:[],centerHistory:[],isAvailable:!0}))},vt=(e,t)=>{if(t.trim()&&e.trim()){let n=_t();v(n),f(t),tt(e),O([{id:1,name:`Starlight48`,fans:5e3,power:300},{id:2,name:`Dream Girls`,fans:4e3,power:250}]),u(!0),S(`Welcome to ${t}, Producer ${e}!`),n.forEach(e=>{n.forEach(t=>{t.id!==e.id&&(e.relationships[t.id]={level:50+Math.floor(Math.random()*30),type:`friend`})})}),we(null),fe.length>0&&Ze(fe[0].id)}},yt=()=>{let e=[..._];return(fe||[]).forEach(t=>{(t.members||[]).forEach(n=>{(n.kenninGroups||[]).includes(`main`)&&n.isAvailable&&e.push({...n,id:`sg-${t.id}-${n.id}`,name:`${n.name} (K: ${t.name})`,isSister:!0,groupId:t.id,isKennin:!0})})}),e.sort((e,t)=>(t.fans||0)-(e.fans||0))},bt=(e=!1)=>{let t=[..._];return e&&(fe||[]).forEach(e=>{e.members&&(e.members||[]).forEach(n=>{t.push({...n,id:`sg-${e.id}-${n.id}`,name:`${n.name} (${e.name})`,homeGroup:e.name,isSister:!0,groupId:e.id})})}),t.filter(e=>e.isAvailable)},xt=e=>{if(String(e).startsWith(`sg-`)){let t=String(e).split(`-`),n=parseInt(t[1]),r=parseInt(t[2]),i=(fe||[]).find(e=>e.id===n),a=(i?.members||[]).find(e=>e.id===r);if(a&&i)return{...a,id:e,name:`${a.name} (${i.name})`,isSister:!0,groupId:n}}return _.find(t=>String(t.id)===String(e))},St=(e,t)=>{if(!String(e).startsWith(`sg-`))v(n=>n.map(n=>String(n.id)===String(e)?t(n):n));else{let n=String(e).split(`-`),r=parseInt(n[1]),i=parseInt(n[2]);pe(e=>e.map(e=>e.id===r?{...e,members:(e.members||[]).map(e=>e.id===i?t(e):e)}:e))}},Ct=e=>{let t=[];return e.isAvailable?e.homeGroup&&e.homeGroup!==`main`?t.push(`Group: ${e.homeGroup}`):t.push(`Group: ${d}`):t.push(`On Assignment`),e.kenninGroups?.length>0&&t.push(`Kennin: ${e.kenninGroups.join(`, `)}`),t.join(` | `)},wt=e=>[..._||[]].sort((e,t)=>(t.fans||0)-(e.fans||0)).findIndex(t=>t.id===e.id)+1,Tt=(e,t)=>{ae(n=>[{id:Date.now(),title:e,content:t,week:h},...n].slice(0,20))},Et=e=>e===`singing`?`vocal`:e===`dancing`?`dance`:e===`variety`?`variety`:null,Dt=(e,t)=>{if(p<500)return S(`Not enough money!`);let n=xt(e);if(!n||!n.isAvailable)return S(n?`${n.name} is unavailable.`:`Member not found.`);let r=Et(t);if(!r)return S(`Invalid skill.`);let i=5+(ue.practiceRooms[r]||0)*2;St(e,e=>({...e,[t]:Math.min(100,(e[t]||0)+i),stamina:Math.max(0,(e.stamina||0)-15)})),m(e=>e-500),S(`Training completed! ${n.name}'s ${t} increased by ${i}.`)},Ot=e=>{let t=xt(e);if(!t||!t.isAvailable)return S(t?`${t.name} is unavailable.`:`Member not found.`);St(e,e=>({...e,stamina:Math.min(100,(e.stamina||0)+30),morale:Math.min(100,(e.morale||0)+10)})),S(`${t.name} is rested.`)},kt=()=>{v(e=>e.map(e=>e.stamina<50&&e.isAvailable?{...e,stamina:Math.min(100,e.stamina+30)}:e)),S(`All tired, available main group members rested!`)},At=()=>{let e=1e5;if(p<e)return S(`Need 100,000 to build the theater!`);m(t=>t-e),de(e=>({...e,theater:!0})),S(`Theater built! You can now create teams and hold theater shows.`)},jt=e=>{let t=e===`vocal`?`vocal`:e,n=ue.practiceRooms[e],r=25e3+n*15e3;if(p<r)return S(`Need ${r.toLocaleString()} to upgrade the ${e} room (Lvl ${n+1})!`);if(n>=5)return S(`Maximum room level (5) reached.`);m(e=>e-r),de(t=>({...t,practiceRooms:{...t.practiceRooms,[e]:n+1}})),S(`Upgraded ${e} room to level ${n+1}! Training in ${t} is now easier.`)},Mt=()=>{let e=3e4;if(!ue.theater)return S(`You need a theater to organize tours.`);if(_.length<5)return S(`Need at least 5 members for a tour.`);if(p<e)return S(`Tours cost ${e.toLocaleString()}.`);m(t=>t-e),Pe({name:`${d} National Tour`,weeksLeft:4,cities:4,revenue:0}),S(`Tour started! It will run for 4 weeks. Use 'Advance Tour' to progress the tour.`)},Nt=()=>{if(!Ne)return;let e=Ne,t=_.filter(e=>e.isAvailable).length,n=_.reduce((e,t)=>e+((t.singing||0)+(t.dancing||0)),0)/2,r=Math.floor(n*t*5),i=Math.floor(n*t/100);m(e=>(e||0)+r),T(e=>(e||0)+i),v(e=>e.map(e=>e.isAvailable?{...e,stamina:Math.max(0,(e.stamina||0)-40),morale:Math.max(0,(e.morale||0)-10)}:e));let a=e.weeksLeft-1;a<=0?(S(`Tour concluded! Total Revenue: ${(e.revenue+r).toLocaleString()}.`),Pe(null)):(Pe(e=>({...e,weeksLeft:a,revenue:(e.revenue||0)+r})),S(`Tour week ${e.weeksLeft} finished. Revenue: ${r.toLocaleString()}. Remaining: ${a} weeks.`))},Pt=()=>{if(!ue.theater)return S(`Build the theater first to create teams!`);we(`createTeam`)},Ft=e=>{let t={id:Math.max(...(ce||[]).map(e=>e.id),0)+1,name:e.name,members:e.members.map(String),currentSetlistId:e.setlistId};le(e=>[...e,t]),S(`Team "${e.name}" created with ${e.members.length} members!`),we(null)},It=e=>{let t=(ce||[]).find(t=>t.id===e);if(!t)return S(`Team not found.`);Ye(t),we(`editTeam`)},Lt=e=>{le(t=>t.map(t=>t.id===e.id?{...t,name:e.name,members:e.members.map(String),currentSetlistId:e.setlistId}:t)),S(`Team "${e.name}" updated!`),we(null)},Rt=e=>{let t=(ce||[]).find(t=>t.id===e);t&&(le(t=>t.filter(t=>t.id!==e)),Qe===e&&$e(null),S(`Team ${t.name} disbanded!`))},j=()=>{if(!ue.theater)return S(`Build the theater first to create teams!`);if(Qe){let e=(ce||[]).find(e=>e.id===Qe);if(!e)return $e(null),S(`Selected team no longer exists. Please select 'All Members' or a new team.`);if(e.members.length===0)return S(`${e.name} has no members!`);if(!e.currentSetlistId)return S(`${e.name} needs a setlist!`)}else if(_.filter(e=>e.isAvailable).length===0)return S(`No members are available to perform.`);we(`theaterShowPrep`)},M=()=>S(`Major Concerts are now scheduled via the 'Schedule Performance' button, under the 'Touring' category.`),zt=e=>{let t=xt(e);if(t){if(t.isSister){let t=String(e).split(`-`),n=parseInt(t[1]);pe(t=>t.map(t=>{if(t.id===n){let n=parseInt(String(e).split(`-`)[2]);return{...t,members:t.members.filter(e=>e.id!==n)}}return t}))}else v(t=>t.filter(t=>String(t.id)!==String(e)));ve(e=>[...e||[],{name:t.name,years:t.yearsActive,group:t.homeGroup,week:h}]),S(`${t.name} has graduated!`),b(null)}},Bt=e=>{we(null);let t=_.filter(e=>e.isAvailable),n=(ce||[]).find(e=>e.id===Qe),r=(E||[]).find(e=>e.id===n?.currentSetlistId),i=n?t.filter(e=>n.members.includes(e.id)):t;if(i.length===0)return S(n?`${n.name} has no available members!`:`No available members in the group!`);if(i.reduce((e,t)=>e+(t.stamina||0),0)/i.length<30)return S(`Performing members are too tired!`);let a=1;r&&r.theme===e?a=1.5:r&&(a=.8);let o=i.reduce((e,t)=>e+((t.singing||0)+(t.dancing||0))*((t.stamina||0)/100),0)*a,s=Math.floor(o/10),c=Math.floor(o*50*(ue.theater?1:.5)),l=0,u={photos:0,towels:0,lightsticks:0},d=Math.floor(w/200);Object.keys(it).forEach(e=>{let t=Math.min(it[e],d+Math.floor(Math.random()*d));l+=t*ot[e],u[e]=t}),at(e=>({photos:(e.photos||0)-u.photos,towels:(e.towels||0)-u.towels,lightsticks:(e.lightsticks||0)-u.lightsticks}));let f=c+l;v(e=>e.map(e=>({...e,stamina:i.find(t=>String(t.id)===String(e.id))?Math.max(0,(e.stamina||0)-20):e.stamina||0,fans:i.find(t=>String(t.id)===String(e.id))?(e.fans||0)+Math.floor(s/i.length):e.fans||0}))),T(e=>(e||0)+s),m(e=>(e||0)+f),qe(e=>({...e,totalRevenue:(e.totalRevenue||0)+f,totalConcerts:(e.totalConcerts||0)+1}));let p=`Theater Show success! ${n?n.name:`All members`} performed!`;a>1&&(p+=` (Theme Bonus!)`),a<1&&(p+=` (Theme Mismatch!)`),p+=` +${s} fans. Tickets: ${c.toLocaleString()}. Merch: ${l.toLocaleString()}.`,S(p)},Vt=e=>{let t=fe.find(t=>t.id===e);if(!t)return;let n=t.members.filter(e=>e.isAvailable);if(n.length<3)return S(`${t.name} needs at least 3 available members for a show.`);let r=1e4;if(p<r)return S(`Show costs ${r.toLocaleString()}.`);let i=n.reduce((e,t)=>e+((t.singing||0)+(t.dancing||0)),0)/2,a=Math.floor(i*25)-r,o=Math.floor(i/50);m(e=>e+a),pe(t=>t.map(t=>t.id===e?{...t,fans:t.fans+o,members:t.members.map(e=>e.isAvailable?{...e,stamina:Math.max(0,e.stamina-20)}:e)}:t)),S(`${t.name} held a show. Profit: ${a.toLocaleString()}. +${o} fans to ${t.name}.`)},Ht=()=>{},Ut=()=>{if(p<5e3)return S(`Elections cost 5,000!`);let e=yt().filter(e=>!e.isSister).sort((e,t)=>(t.fans||0)-(e.fans||0));v(t=>t.map(t=>{let n=e.findIndex(e=>e.id===t.id),r;return r=n===0?`center`:n<3?`front`:n<7?`middle`:n<16?`back`:`under`,{...t,position:r}})),m(e=>e-5e3),Tt(`Election`,`New center: ${e[0]?.name||`Unknown`}!`),S(`New center: ${e[0]?.name||`Unknown`}!`)},Wt=()=>{Ye({targetGroupId:`main`}),we(`createSong`)},Gt=()=>{we(`customSetlist`)},Kt=e=>{let t={id:Math.max(...(E||[]).map(e=>e.id),0)+1,name:e.name,theme:e.theme,difficulty:parseInt(e.difficulty)};D(e=>[...e,t]),S(`Custom Setlist "${e.name}" created!`),we(null)},qt=e=>{let t=1e4;if(p<t)return S(`Songs cost 10,000!`);if(!e.tracks[0]||e.tracks[0].members.length===0)return S(`The title track must have at least one member!`);let n=e.targetGroupId!==`main`,r=e.targetGroupId,i=n?fe.find(e=>e.name===r):{members:_,name:d,songs:oe,id:`main`};if(!i)return S(`Target group not found.`);let a=e.tracks[0],o=bt(!0),s=a.members,c=s.reduce((e,t)=>{let n=o.find(e=>String(e.id)===String(t));return e+(n?((n.singing||0)+(n.dancing||0))/2:0)},0)/(s.length||1),l=Math.floor(c*1e3),u=l*15,f=Math.floor(l/10),g={id:(i.songs?.length||0)+1+(n?0:fe.reduce((e,t)=>e+(t.songs?.length||0),0)),name:e.songName,tracks:e.tracks,sales:l,revenue:u,hasVideo:!1,targetGroup:r,releaseWeek:h,totalTracks:e.tracks.length,salesHistory:[{week:h,sales:l}],trackCountHistory:[{week:h,count:e.tracks.length}]},y=(t,n=null)=>{let r=n?`sg-${n.id}-${t.id}`:String(t.id),i=n?n.name:d;if(!e.tracks.some(e=>(e.members||[]).some(e=>String(e)===r)))return t;let o=e.tracks.filter(e=>(e.members||[]).some(e=>String(e)===r)),s=[];o.forEach(t=>{String(t.center)===r&&s.push({week:h,singleName:e.songName,songName:t.name,group:i})});let c=o.find(e=>e.type===`title`),l=String(a.center)===r,u=t.singlesParticipation||[];return c&&(u=[...u,{singleId:g.id,singleName:e.songName,tracks:o.map(e=>e.name),week:h,isCenter:l,isTitleTrackSenbatsu:!0,group:i}]),{...t,singlesParticipation:u,songsParticipation:[...t.songsParticipation||[],...o.map(t=>({songName:t.name,singleName:e.songName,week:h,type:t.type,isCenter:String(t.center)===r,group:i}))],centerHistory:[...t.centerHistory||[],...s]}};n?pe(e=>(e||[]).map(e=>e.name===r?{...e,songs:[...e.songs||[],g],fans:(e.fans||0)+f,members:(e.members||[]).map(t=>y(t,e))}:e)):(se(e=>[...e||[],g]),T(e=>(e||0)+f),v(e=>(e||[]).map(e=>y(e))),pe(t=>(t||[]).map(t=>t.members.some(n=>e.tracks.some(e=>(e.members||[]).some(e=>String(e)===`sg-${t.id}-${n.id}`)))?{...t,members:(t.members||[]).map(e=>y(e,t))}:t))),m(e=>(e||0)-t+u),S(`Song "${e.songName}" released by ${r}! ${e.tracks.length} tracks, +${f} fans, ${u.toLocaleString()} revenue!`),we(null)},Jt=(e,t,n)=>{if(!t)return S(`Must select a setlist.`);if(n.length===0)return S(`Must select at least one member to perform.`);let r=n.map(xt).filter(e=>e&&e.isAvailable);if(r.length===0)return S(`No selected members are available to perform.`);let i=e.cost+e.maintenance;if(p<i)return S(`Insufficient funds! Concert costs ${i.toLocaleString()}.`);let a=r.reduce((e,t)=>t.singing+t.dancing,0)/(r.length*200),o=5e3+e.capacity/100,s=Math.min(1,w/5/e.capacity),c=Math.floor(e.capacity*s*(1+a*.5)),l=c*o,u=Math.floor(c*(.01+a*.05)),d=10+Math.floor(a*10),f=l-i;m(e=>e+f),T(e=>(e||0)+u),qe(e=>({...e,totalRevenue:(e.totalRevenue||0)+l,totalConcerts:(e.totalConcerts||0)+1}));let g=r.map(e=>e.id),_=e=>g.some(t=>String(t)===String(e.id))?{...e,stamina:Math.max(0,e.stamina-60),morale:Math.min(100,e.morale+10),singing:Math.min(100,e.singing+Math.floor(d*.5)),dancing:Math.min(100,e.dancing+Math.floor(d*.5)),fans:e.fans+Math.floor(u/r.length)}:e;v(e=>e.map(_)),pe(e=>e.map(e=>({...e,members:e.members.map(e=>_(e))})));let y={id:Date.now(),name:`${e.name} Concert`,category:`Major Concert`,week:h,cost:i,revenue:l,members:r.map(e=>e.name),tracks:[t.name]};ft(e=>[y,...e]),S(`Major Concert at ${e.name} successful! Sold ${c.toLocaleString()} tickets. Profit: ${f.toLocaleString()}. +${u.toLocaleString()} fans!`),we(null)},Yt=(e,t,n)=>{if(t.length===0)return S(`Must select at least one song to perform.`);if(n.length===0)return S(`Must select at least one member to perform.`);let r=e.cost;if(p<r)return S(`Insufficient funds! This performance costs ${r.toLocaleString()}.`);let i=n.map(xt).filter(e=>e&&e.isAvailable);if(i.length===0)return S(`No selected members are available to perform.`);let a=i.reduce((e,t)=>t.singing+t.dancing,0)/(i.length*200),o=w*e.fanImpact*(1+a),s=Math.floor(o),c=e.skillImpact*10,l=e.cost*(e.category===`Internal`?1:1.5)*(1+a*.5),u=l-r;m(e=>e+u),T(e=>(e||0)+s),qe(e=>({...e,totalRevenue:(e.totalRevenue||0)+l,totalConcerts:(e.totalConcerts||0)+1}));let d=i.map(e=>e.id),f=t=>d.some(e=>String(e)===String(t.id))?{...t,stamina:Math.max(0,t.stamina-e.staminaDrain),morale:Math.min(100,t.morale+(e.category===`Charity Stage`?15:5)),singing:Math.min(100,t.singing+Math.floor(c*.5)),dancing:Math.min(100,t.dancing+Math.floor(c*.5)),fans:t.fans+Math.floor(s/i.length)}:t;v(e=>e.map(f)),pe(e=>e.map(e=>({...e,members:e.members.map(e=>f(e))})));let g={id:Date.now(),name:e.label,category:e.category,week:h,cost:e.cost,revenue:l,members:i.map(e=>e.name),tracks:t.map(e=>e.name)};ft(e=>[g,...e]),S(`Performance: "${e.label}" successful! +${s.toLocaleString()} fans, Profit: ${u.toLocaleString()}.`),we(null)},Xt=()=>{if(oe.length===0&&fe.every(e=>(e.songs||[]).length===0))return S(`You need to release at least one single track before scheduling a performance.`);we(`performancePrep`)},Zt=(e,t)=>{if(!e.isSister)return S(`This action is only for Sister Group members.`);let n=5e4;if(p<n)return S(`Transfer/Kennin costs ${n.toLocaleString()}!`);m(e=>e-n),we(null);let r=String(e.id).split(`-`),i=parseInt(r[1]),a=parseInt(r[2]),o=e.homeGroup;if(t===`transfer`){pe(e=>e.map(e=>e.id===i?{...e,members:e.members.filter(e=>e.id!==a)}:e));let t=Math.max(0,..._.map(e=>e.id))+1,r={...e,id:t,name:e.name.replace(` (K: ${o})`,``).replace(` (${o})`,``),homeGroup:`main`,isSister:!1,groupId:void 0,kenninGroups:[]};v(e=>[...e,r]),S(`${e.name} successfully transferred to ${d}! (${n.toLocaleString()})`),b(r)}else t===`kennin`&&(pe(e=>e.map(e=>e.id===i?{...e,members:(e.members||[]).map(e=>e.id===a?{...e,kenninGroups:[...(e.kenninGroups||[]).filter(e=>e!==`main`),`main`]}:e)}:e)),b(e=>e?{...e,kenninGroups:[...(e.kenninGroups||[]).filter(e=>e!==`main`),`main`]}:null),S(`${e.name} is now a Kennin member of ${d} (${n.toLocaleString()}).`));we(null)},Qt=()=>{if(p<2e4||_.length>=50)return S(`Cost 20K, max 50 members!`);let e=Math.max(..._.map(e=>e.id),0)+1,t=gt(),n={id:e,name:t,nickname:t.split(` `)[0]+`-chan`,singing:20,dancing:20,variety:20,stamina:100,morale:90,fans:50,position:`under`,talent:`vocal`,personality:`cheerful`,relationships:{},birthday:{month:1,day:1},equippedOutfit:null,socialFollowers:500,scandals:0,age:16,yearsActive:0,graduated:!1,homeGroup:`main`,kenninGroups:[],singlesParticipation:[],songsParticipation:[],centerHistory:[],isAvailable:!0};v(e=>[...e||[],n]),m(e=>e-2e4),S(`${n.name} recruited!`)},$t=e=>{let t=1e4,n=fe.find(t=>t.id===e);if(p<t)return S(`Cost 10K, not enough money!`);if(!n)return S(`Sister Group not found.`);if(n.members.length>=30)return S(`${n.name} roster is full (max 30).`);let r=Math.max(0,...(n.members||[]).map(e=>e.id))+1,i=gt(),a={id:r,name:i,nickname:i.split(` `)[0]+`-chan`,singing:Math.floor(Math.random()*15)+10,dancing:Math.floor(Math.random()*15)+10,variety:Math.floor(Math.random()*10)+5,stamina:100,morale:90,fans:50,position:`back`,talent:`vocal`,personality:`cheerful`,relationships:{},birthday:{month:1,day:1},equippedOutfit:null,socialFollowers:500,scandals:0,age:16,yearsActive:0,graduated:!1,homeGroup:n.name,kenninGroups:[],singlesParticipation:[],songsParticipation:[],centerHistory:[],isAvailable:!0};pe(t=>t.map(t=>t.id===e?{...t,members:[...t.members||[],a]}:t)),m(e=>e-t),S(`${a.name} recruited into ${n.name} for ${t.toLocaleString()}.`)},en=(e,t=!1)=>{let n=fe.find(t=>t.id===e);n&&(v(e=>e.map(e=>({...e,kenninGroups:(e.kenninGroups||[]).filter(e=>e!==n.name)}))),pe(t=>t.filter(t=>t.id!==e)),t?(Tt(`Independence`,`${n.name} has gone independent!`),S(`${n.name} has gone independent and is now a rival group.`)):(Tt(`Disbandment`,`${n.name} has been disbanded.`),S(`${n.name} has been disbanded. All members are now free agents.`)),Xe===e&&Ze(null),we(null))},tn=(e,t)=>{let n=st[e]*t;if(p<n)return S(`Not enough money! Cost: ${n.toLocaleString()}`);m(e=>e-n),at(n=>({...n,[e]:(n[e]||0)+t})),S(`Produced ${t} ${e}.`)},nn=()=>{let e=5e4;if(p<e)return S(`Handshake events cost ${e.toLocaleString()}!`);m(t=>t-e);let t=Math.floor((w||0)*.1);T(e=>(e||0)+t),v(e=>(e||[]).map(e=>e.isAvailable?{...e,stamina:Math.max(0,(e.stamina||0)-40),morale:Math.max(0,(e.morale||0)-25)}:e)),S(`Handshake event success! +${t} fans, but members are exhausted.`)},rn=(e,t)=>{let n=75e3;if(p<n)return S(`Special camp costs ${n.toLocaleString()}!`);let r=xt(e);if(!r||!r.isAvailable)return S(r?`${r.name} is already on assignment.`:`Member not found.`);m(e=>e-n),St(e,e=>({...e,isAvailable:!1})),ct({memberId:e,skill:t,weeksLeft:2}),S(`${r.name} has left for a 2-week special ${t} camp.`),we(null)},an=()=>{let e=xt(A.memberId),t=A.skill;St(A.memberId,e=>({...e,isAvailable:!0,[t]:Math.min(100,(e[t]||0)+15)}));let n=`${e?.name||`A member`} has returned from ${t} camp with a huge skill boost!`;return ct(null),n};return{gameStarted:l,setGameStarted:u,groupName:d,money:p,week:h,members:_,setMembers:v,selectedMember:y,setSelectedMember:b,message:x,setMessage:S,totalFans:w,setTotalFans:T,currentTab:ee,setCurrentTab:te,showNotifications:ne,setShowNotifications:re,notifications:ie,setNotifications:ae,songs:oe,setSongs:se,teams:ce,setTeams:le,allSetlists:E,setAllSetlists:D,buildings:ue,setBuildings:de,sisterGroups:fe,setSisterGroups:pe,rivalGroups:me,setRivalGroups:O,achievements:he,hallOfFame:_e,events:ye,sponsorships:xe,showModal:Ce,setShowModal:we,modalData:Je,setModalData:Ye,selectedSisterGroup:Xe,setSelectedSisterGroup:Ze,selectedTheaterTeam:Qe,setSelectedTheaterTeam:$e,username:et,setUsername:tt,memberView:nt,setMemberView:rt,merchInventory:it,setMerchInventory:at,merchPrices:ot,merchProdCost:st,activeTour:Ne,setActiveTour:Pe,venues:lt,setVenues:ut,performanceHistory:dt,setPerformanceHistory:ft,performanceTypes:pt,db:e,auth:n,userId:i,isAuthReady:o,saveGame:mt,loadGame:ht,startGame:vt,getAllAvailableMembers:bt,getMemberById:xt,updateMemberState:St,generateRandomName:gt,getMemberGroupStatus:Ct,getMemberRank:wt,addNotification:Tt,getMainGroupRoster:yt,trainMember:Dt,restMember:Ot,restAllTired:kt,buildTheater:At,upgradePracticeRoom:jt,startTour:Mt,progressTour:Nt,createTeam:Pt,editTeam:It,deleteTeam:Rt,startTheaterShowPrep:j,startLargeConcertPrep:M,graduateMember:zt,holdTheaterShow:Bt,holdSisterGroupShow:Vt,holdLargeConcert:Ht,holdElection:Ut,createSong:Wt,createCustomSetlist:Gt,confirmCreateSetlist:Kt,confirmCreateSong:qt,recruitMember:Qt,recruitSisterGroupMember:$t,handleDisbandSisterGroup:en,produceMerch:tn,startHandshakeEvent:nn,startTrainingCamp:rn,startMediaJob:(e,t)=>{let n=xt(e);if(!n||!n.isAvailable)return S(n?`${n.name} is unavailable.`:`Member not found.`);let r=1e3;if(p<r)return S(`Media appearances cost ${r.toLocaleString()}.`);m(e=>e-r),St(e,e=>({...e,stamina:Math.max(0,(e.stamina||0)-10)}));let i=(n.variety||0)/100;if(t===`safe`&&(i+=.2),t===`risky`&&(i-=.1),Math.random()<i){let r=500+Math.floor((n.variety||0)*10);t===`risky`&&(r*=2),t===`safe`&&(r*=.5),St(e,e=>({...e,socialFollowers:(e.socialFollowers||0)+r})),S(`Success! ${n.name}'s media job gained ${r} followers.`)}else{let r=100;t===`risky`&&(r=1e3),St(e,e=>({...e,socialFollowers:Math.max(0,(e.socialFollowers||0)-r)})),S(`Failure! ${n.name}'s media job was poorly received. Lost ${r} followers.`)}we(null)},startGroupMediaJob:e=>{let t=2e4;if(p<t)return S(`This job costs ${t.toLocaleString()}.`);let n=_.filter(e=>e.isAvailable).length,r=0,i=1,a=`Success! `;switch(e){case`music_show`:i=1.5,r=7,a+=`Performance was well-received on the music show.`;break;case`awards_show`:i=3,r=16,a+=`Group appearance at the Awards Show generated major buzz.`;break;case`variety_program`:i=1,r=5,a+=`Group variety appearance was a hit!`;break;default:return S(`Invalid job type.`)}if(n<r)return S(`Job requires ${r} available members. Only ${n} available.`);m(e=>e-t);let o=_.filter(e=>e.isAvailable).reduce((e,t)=>e+(t.variety||0),0)/n/100;if(v(e=>(e||[]).map(e=>e.isAvailable?{...e,stamina:Math.max(0,(e.stamina||0)-20),morale:Math.max(0,(e.morale||0)-15)}:e)),Math.random()<o){let e=Math.floor((w||0)*.05*i);T(t=>(t||0)+e),S(`${a} +${e.toLocaleString()} new fans!`)}else{let e=Math.floor((w||0)*.01);T(t=>Math.max(100,(t||0)-e)),S(`Failure! The group appearance was criticized. Lost fans and morale.`)}we(null)},nextWeek:()=>{if(Ne)return Nt();if(Math.random()<.05&&_.length>0){let e=_[Math.floor(Math.random()*_.length)],t=[`Paparazzi Date`,`Social Media Gaffe`,`Bad Behavior`][Math.floor(Math.random()*3)];Ye({member:e,type:t}),we(`scandal`);return}let e=Math.floor((w||0)*2),t=(fe||[]).reduce((e,t)=>e+(t.income||0),0),n=(Le||[]).reduce((e,t)=>e+(t.income||0),0),r=e+t+n;m(e=>(e||0)+r),T(e=>Math.floor((e||0)*1.02)),g(e=>(e||0)+1);let i=``;A&&(A.weeksLeft<=1?i=an():(ct(e=>({...e,weeksLeft:e.weeksLeft-1})),i=`Training camp for ${xt(A.memberId)?.name||`a member`} continues for ${A.weeksLeft-1} more week(s).`)),v(e=>(e||[]).map(e=>e.isAvailable?{...e,stamina:Math.min(100,(e.stamina||0)+20),morale:Math.min(100,(e.morale||0)+5),yearsActive:Math.floor((h+1)/52)}:e)),pe(e=>(e||[]).map(e=>({...e,members:(e.members||[]).map(e=>e.isAvailable?{...e,stamina:Math.min(100,(e.stamina||0)+20),morale:Math.min(100,(e.morale||0)+5),yearsActive:Math.floor((h+1)/52)}:e)}))),S(`Week ${h+1}: +${r.toLocaleString()}. ${i}`)},confirmCreateSisterGroup:e=>{let t=25e4;if(p<t)return S(`Need ${t.toLocaleString()} to establish a new sister group.`);let n=Math.max(0,...(fe||[]).map(e=>e.id||0))+1,r=Array.from({length:5},(t,n)=>{let r=gt();return{id:n+1,name:r,nickname:r.split(` `)[0],singing:15,dancing:15,variety:10,stamina:100,morale:80,fans:50,position:n===0?`center`:`back`,homeGroup:e.groupName,isAvailable:!0,songsParticipation:[],singlesParticipation:[],centerHistory:[],kenninGroups:[],age:15+n,yearsActive:0,socialFollowers:300}}),i={id:n,name:e.groupName,location:e.location,fans:500,power:50,members:r,songs:[],income:1e3};pe(e=>[...e||[],i]),m(e=>e-t),S(`Successfully established ${e.groupName} in ${e.location}!`),we(null),Ze(n)},handleSisterMemberTransfer:Zt,recordPerformance:Yt,startPerformancePrep:Xt,confirmCreateTeam:Ft,confirmEditTeam:Lt,holdMajorConcert:Jt}},m_=()=>{let{gameStarted:e,setGameStarted:t,groupName:n,money:r,week:i,members:a,setMembers:o,selectedMember:s,setSelectedMember:c,message:l,setMessage:u,totalFans:d,setTotalFans:f,currentTab:p,setCurrentTab:m,showNotifications:h,setShowNotifications:g,notifications:_,setNotifications:v,songs:y,setSongs:b,teams:x,setTeams:S,allSetlists:w,setAllSetlists:T,buildings:Ie,setBuildings:Le,sisterGroups:Re,setSisterGroups:ze,rivalGroups:Be,setRivalGroups:Ve,showModal:He,setShowModal:k,modalData:Ue,setModalData:We,selectedSisterGroup:Ge,setSelectedSisterGroup:Ke,selectedTheaterTeam:qe,setSelectedTheaterTeam:Je,username:Ye,setUsername:Xe,memberView:Ze,setMemberView:Qe,merchInventory:$e,merchPrices:et,merchProdCost:tt,activeTour:nt,venues:rt,performanceHistory:it,performanceTypes:at,db:ot,userId:st,isAuthReady:A,saveGame:ct,loadGame:lt,startGame:ut,getAllAvailableMembers:dt,getMemberById:ft,updateMemberState:pt,generateRandomName:mt,getMemberGroupStatus:ht,getMemberRank:gt,addNotification:_t,getMainGroupRoster:vt,trainMember:yt,restMember:bt,restAllTired:xt,buildTheater:St,upgradePracticeRoom:Ct,startTour:wt,progressTour:Tt,createTeam:Et,editTeam:Dt,deleteTeam:Ot,startTheaterShowPrep:kt,startLargeConcertPrep:At,graduateMember:jt,holdTheaterShow:Mt,holdSisterGroupShow:Nt,holdLargeConcert:Pt,holdElection:Ft,createSong:It,createCustomSetlist:Lt,confirmCreateSetlist:Rt,confirmCreateSong:j,recruitMember:M,recruitSisterGroupMember:zt,handleDisbandSisterGroup:Bt,produceMerch:Vt,startHandshakeEvent:Ht,startTrainingCamp:Ut,startMediaJob:Wt,startGroupMediaJob:Gt,nextWeek:Kt,confirmCreateSisterGroup:qt,handleSisterMemberTransfer:Jt,recordPerformance:Yt,startPerformancePrep:Xt,confirmCreateTeam:Zt,confirmEditTeam:Qt,holdMajorConcert:$t}=p_(),[en,tn]=(0,C.useState)(``),[nn,rn]=(0,C.useState)(``),an=()=>{let e=[`Star`,`Dream`,`Future`,`Cherry`,`Rainbow`,`Crystal`,`Galaxy`,`Sakura`,`Shining`],t=[`48`,`N46`,`Key`,`Girls`,`Project`,`Idols`,`Stars`,`Z`],n=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)];rn(`${n}${r}`)},on=()=>ut(en,nn),sn=e=>ct(e,st),cn=e=>lt(e,st,tn,rn),ln=({members:e,selectedIds:t,toggleMember:n,disabled:r=!1})=>(0,N.jsx)(`div`,{className:`max-h-40 overflow-y-auto border p-2 rounded bg-gray-50`,children:(e||[]).map(e=>(0,N.jsxs)(`div`,{className:`p-1 text-sm flex justify-between items-center cursor-pointer rounded 
            bg-white dark:bg-gray-800 
            text-gray-800 dark:text-gray-100 
            hover:bg-gray-100 dark:hover:bg-gray-700 
            ${t.map(String).includes(String(e.id))?`bg-blue-100 dark:bg-blue-900`:``} 
            ${e.isSister?`italic text-gray-700 dark:text-gray-300`:``}`,onClick:()=>!r&&n(e.id),children:[(0,N.jsxs)(`span`,{children:[e.name,` `,e.isSister&&!e.isKennin?`(${e.homeGroup})`:``,` `,e.isKennin?`(Kennin)`:``]}),t.map(String).includes(String(e.id))?(0,N.jsx)(ae,{size:16,className:`text-blue-600`}):(0,N.jsx)(Se,{size:16,className:`text-gray-400`})]},e.id))}),un=({title:e,children:t,maxWidth:n=`max-w-md`})=>(0,N.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`,children:(0,N.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg p-6 w-full ${n} max-h-[90vh] overflow-y-auto shadow-2xl dark:shadow-lg animate-in fade-in slide-in-from-bottom-4 transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-start mb-4`,children:[(0,N.jsx)(`h3`,{className:`text-2xl font-bold`,children:e}),(0,N.jsx)(`button`,{onClick:()=>k(null),className:`text-gray-500 hover:text-gray-800`,children:(0,N.jsx)(Pe,{size:24})})]}),t]})}),dn=()=>{let[e,t]=(0,C.useState)(``),[n,r]=(0,C.useState)(`classic`),[i,a]=(0,C.useState)(100);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(Se,{size:20,className:`mr-2`}),` Create Custom Setlist`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Design a new theater show setlist for your teams.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Setlist Name`}),(0,N.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`e.g., 'B5 Boku no Taiyou'`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Theme/Concept`}),(0,N.jsx)(`select`,{value:n,onChange:e=>r(e.target.value),className:`w-full p-2 border rounded mb-3`,children:[{id:`classic`,name:`Classic Idol`},{id:`vocal`,name:`Vocal Focus`},{id:`dance`,name:`Dance Focus`},{id:`cool`,name:`Cool/Edgy`}].map(e=>(0,N.jsx)(`option`,{value:e.id,children:e.name},e.id))}),(0,N.jsxs)(`h4`,{className:`font-semibold mb-1`,children:[`Difficulty Score (`,i,`)`]}),(0,N.jsx)(`p`,{className:`text-xs text-gray-500 mb-2`,children:`Higher difficulty increases performance potential but requires stronger teams (Min 50).`}),(0,N.jsx)(`input`,{type:`range`,min:`50`,max:`500`,step:`10`,value:i,onChange:e=>a(parseInt(e.target.value)),className:`w-full`}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!e.trim()||i<50)return u(`Setlist needs a name and difficulty (min 50).`);Rt({name:e.trim(),theme:n,difficulty:i})},disabled:!e.trim(),className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Create Setlist`})]})]})},fn=()=>{let{member:e,type:t}=Ue;if(!e)return null;let n=n=>{let r=``,i=0,a=0;switch(n){case`apologize`:i=-Math.floor((e.fans||0)*.05),a=-15,pt(e.id,e=>({...e,fans:Math.max(100,(e.fans||0)+i),morale:Math.max(10,(e.morale||0)+a),scandals:(e.scandals||0)+1})),f(e=>Math.max(1e3,(e||0)+i)),r=`${e.name} sincerely apologized. Fan loss minimized, but morale is low. (-5% fans)`;break;case`deny`:let t=Math.random()>.6;i=t?-Math.floor((e.fans||0)*.01):-Math.floor((e.fans||0)*.2),a=t?0:-10,pt(e.id,e=>({...e,fans:Math.max(100,(e.fans||0)+i),morale:Math.max(10,(e.morale||0)+a),scandals:(e.scandals||0)+1})),f(e=>Math.max(1e3,(e||0)+i)),r=t?`Denial worked! Minor fan dip. (-1% fans)`:`The media exposed the truth! Major fan backlash. (-20% fans)`;break;case`ignore`:i=-Math.floor((e.fans||0)*.1),a=-5,pt(e.id,e=>({...e,fans:Math.max(100,(e.fans||0)+i),morale:Math.max(10,(e.morale||0)+a),scandals:(e.scandals||0)+1})),f(e=>Math.max(1e3,(e||0)+i)),r=`The scandal was ignored. It will linger in the public eye. (-10% fans)`;break}_t(`SCANDAL ALERT`,`${e.name} involved in ${t}. Result: ${r}`),u(r),k(null)};return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center text-red-600`,children:[(0,N.jsx)(ce,{size:24,className:`mr-2`}),` SCANDAL ALERT!`]}),maxWidth:`max-w-xl`,children:[(0,N.jsxs)(`h4`,{className:`text-xl font-bold mb-4`,children:[`Member: `,e.name]}),(0,N.jsxs)(`p`,{className:`mb-4 text-gray-700`,children:[`A serious issue has come to light: `,(0,N.jsxs)(`span`,{className:`font-semibold italic text-red-500`,children:[`"`,t,`"`]}),`. This requires immediate management action. Your decision will affect her fans and morale, and the group's reputation.`]}),(0,N.jsx)(`h5`,{className:`font-semibold mb-2`,children:`Choose your action:`}),(0,N.jsxs)(`div`,{className:`grid grid-cols-1 gap-3`,children:[(0,N.jsx)(`button`,{onClick:()=>n(`apologize`),className:`p-3 bg-red-100 text-red-800 rounded font-bold border-l-4 border-red-500 hover:bg-red-200 transition-colors`,children:`1. Public Apology & Punishment (Minimizes fan loss, but heavy morale hit.)`}),(0,N.jsx)(`button`,{onClick:()=>n(`deny`),className:`p-3 bg-blue-100 text-blue-800 rounded font-bold border-l-4 border-blue-500 hover:bg-blue-200 transition-colors`,children:`2. Strong Denial (High risk: if proven false, major fan loss; if successful, minor fan loss.)`}),(0,N.jsx)(`button`,{onClick:()=>n(`ignore`),className:`p-3 bg-gray-100 text-gray-800 rounded font-bold border-l-4 border-gray-500 hover:bg-gray-200 transition-colors`,children:`3. Ignore It (Moderate fan loss guaranteed, low morale hit.)`})]}),(0,N.jsx)(`p`,{className:`text-xs text-red-500 mt-4`,children:`The game will resume after you make a decision.`})]})},pn=()=>{let{targetGroupId:e}=Ue,t=[{id:`main`,name:n,isSister:!1},...(Re||[]).map(e=>({id:e.id,name:e.name,isSister:!0}))],[r,i]=(0,C.useState)(e||t[0].name),o=[];if(r===`main`){let e=a.filter(e=>e.homeGroup===`main`&&e.isAvailable),t=dt(!0).filter(e=>e.isSister&&(e.kenninGroups||[]).includes(`main`));o=[...e,...t]}else{let e=Re.find(e=>e.name===r);if(e){o=(e.members||[]).map(t=>({...t,id:`sg-${e.id}-${t.id}`,name:`${t.name} (${e.name})`,homeGroup:e.name,isSister:!0,groupId:e.id})).filter(e=>e.isAvailable);let t=a.filter(e=>(e.kenninGroups||[]).includes(r)&&e.isAvailable).map(e=>({...e,isKennin:!0}));o=[...o,...t]}}let[s,c]=(0,C.useState)(``),[l,d]=(0,C.useState)([{name:`Title Track`,type:`title`,members:[],center:null},{name:`B-Side 1`,type:`b-side`,members:[],center:null}]),[f,p]=(0,C.useState)(0),m=(e,t)=>{d(n=>(n||[]).map((n,r)=>r===e?{...n,name:t}:n))},h=e=>{d(t=>(t||[]).map((t,n)=>{if(n===f){let n=String(e),r=(t.members||[]).map(String).includes(n)?(t.members||[]).filter(e=>String(e)!==n):[...(t.members||[]).map(String),n],i=t.center;return(r||[]).includes(String(t.center))||(i=null),{...t,members:r,center:i}}return t}))},g=e=>{d(t=>(t||[]).map((t,n)=>{if(n===f){let n=String(e);if((t.members||[]).map(String).includes(n))return{...t,center:String(t.center)===n?null:n}}return t}))},_=()=>{d(e=>[...e||[],{name:`B-Side ${e.length}`,type:`b-side`,members:[],center:null}]),p((l||[]).length)},v=(l||[])[f],y=o.filter(e=>(v?.members||[]).map(String).includes(String(e.id)));return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(ye,{size:24,className:`mr-2`}),` Create New Single`]}),maxWidth:`max-w-3xl`,children:[(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Target Group for Release`}),(0,N.jsxs)(`select`,{value:r,onChange:e=>{i(e.target.value),d([{name:`Title Track`,type:`title`,members:[],center:null},{name:`B-Side 1`,type:`b-side`,members:[],center:null}])},className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsxs)(`option`,{value:`main`,children:[n,` (Main Group)`]}),(Re||[]).map(e=>(0,N.jsxs)(`option`,{value:e.name,children:[e.name,` (Sister Group)`]},e.id))]}),(0,N.jsx)(`input`,{type:`text`,value:s,onChange:e=>c(e.target.value),className:`w-full p-2 border rounded mb-4 text-lg`,placeholder:`Enter Single Name (e.g., Flying Get)`}),(0,N.jsxs)(`div`,{className:`grid grid-cols-3 gap-4 mb-4`,children:[(0,N.jsxs)(`div`,{className:`col-span-1 border-r pr-3`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2`,children:[`Tracks (`,(l||[]).length,`)`]}),(0,N.jsx)(`div`,{className:`flex flex-col gap-1 max-h-48 overflow-y-auto`,children:(l||[]).map((e,t)=>(0,N.jsxs)(`div`,{className:`p-2 border rounded cursor-pointer ${f===t?`bg-blue-500 text-white`:`bg-gray-100 hover:bg-gray-200`}`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center mb-1`,children:[(0,N.jsx)(`span`,{className:`font-medium text-sm`,children:e.type===`title`?`Title Track`:`B-Side ${t+1}`}),(0,N.jsx)(`span`,{className:`text-xs ml-2 px-1 rounded ${e.type===`title`?`bg-red-400 text-white`:`bg-green-400 text-white`}`,children:e.type.toUpperCase()})]}),(0,N.jsx)(`input`,{type:`text`,value:e.name,onChange:e=>m(t,e.target.value),onClick:e=>e.stopPropagation(),className:`w-full p-1 border rounded text-sm text-gray-800 focus:outline-none focus:ring-1 focus:ring-blue-500 ${f!==t&&`bg-gray-200`}`,placeholder:`Name of ${e.type} track`}),(0,N.jsx)(`button`,{onClick:()=>p(t),className:`w-full mt-2 p-1 text-sm bg-blue-300 text-blue-900 rounded`,children:`Select Members`})]},t))}),(0,N.jsxs)(`button`,{onClick:_,className:`w-full mt-2 p-1 bg-gray-200 text-gray-700 rounded text-sm flex items-center justify-center`,children:[(0,N.jsx)(Se,{size:16,className:`mr-1`}),` Add B-Side Track`]})]}),(0,N.jsxs)(`div`,{className:`col-span-2`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2`,children:[`Senbatsu Selection for: `,(0,N.jsx)(`span`,{className:`text-blue-600 dark:text-blue-400`,children:v?.name||`Track`})]}),(0,N.jsx)(`p`,{className:`text-sm text-gray-500 dark:text-gray-400 mb-2`,children:`Select members. Main group singles can include Kennin Sister Group members.`}),(0,N.jsx)(ln,{members:o,selectedIds:v?.members||[],toggleMember:h}),(0,N.jsxs)(`div`,{className:`mt-4`,children:[(0,N.jsx)(`h5`,{className:`font-semibold text-md mb-2`,children:`Center Selection`}),(0,N.jsxs)(`select`,{value:v?.center||``,onChange:e=>g(e.target.value),className:`w-full p-2 border rounded bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700 transition-colors`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select Center (Optional) --`}),y.map(e=>(0,N.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]})]})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!s.trim())return u(`Please name the single.`);let e=(l||[]).map(e=>({...e,members:(e.members||[]).map(String).filter(e=>ft(e))}));j({songName:s.trim(),tracks:e,targetGroupId:r})},disabled:!s.trim()||(l||[]).some(e=>(e.members||[]).length===0),className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Release Single (10,000)`})]})]})},mn=()=>{let e=Ue;if(!e)return null;let t=dt(!0).reduce((e,t)=>(e[String(t.id)]=t.name,e),{});return(0,N.jsxs)(un,{title:`${e.name} Single`,maxWidth:`max-w-2xl`,children:[(0,N.jsxs)(`p`,{className:`text-gray-600 mb-4`,children:[`Released by: `,e.targetGroup===`main`?n:e.targetGroup,` | Week `,e.releaseWeek,` | Total Sales: `,e.sales.toLocaleString(),` | Revenue: `,e.revenue.toLocaleString()]}),(0,N.jsxs)(`h4`,{className:`font-semibold text-lg mb-3 border-t pt-3 flex items-center`,children:[(0,N.jsx)(ye,{size:18,className:`mr-2`}),` Track Listing (`,e.totalTracks,`)`]}),(0,N.jsx)(`div`,{className:`space-y-3`,children:(e.tracks||[]).map((e,n)=>(0,N.jsxs)(`div`,{className:`p-3 border rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm dark:shadow-md transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,N.jsx)(`span`,{className:`font-bold`,children:e.name}),(0,N.jsx)(`span`,{className:`text-xs px-2 py-0.5 rounded-full ${e.type===`title`?`bg-red-200 text-red-800`:`bg-green-200 text-green-800`}`,children:e.type.toUpperCase()})]}),(0,N.jsxs)(`p`,{className:`text-sm mt-1`,children:[`Center: `,(0,N.jsx)(`span`,{className:`font-medium`,children:t[String(e.center)]||`N/A`})]}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-700 dark:text-gray-300 mt-1`,children:[`Senbatsu (`,(e.members||[]).length,`): (`,(e.members||[]).map(e=>t[String(e)]).join(`, `),`)`]})]},n))})]})},hn=()=>{let[e,t]=(0,C.useState)(`classic`),n=(x||[]).find(e=>e.id===qe),r=(w||[]).find(e=>e.id===n?.currentSetlistId),i=qe?n?.name||`Unknown Team`:`All Members`;return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(re,{size:20,className:`mr-2`}),` Theater Show Prep`]}),children:[(0,N.jsxs)(`p`,{className:`text-sm font-semibold mb-3`,children:[`Performing: `,(0,N.jsx)(`span`,{className:`text-blue-600`,children:i})]}),r&&(0,N.jsxs)(`p`,{className:`text-sm text-gray-600 mb-2`,children:[`Using Setlist: `,(0,N.jsxs)(`span`,{className:`font-medium`,children:[r.name,` (Theme: `,r.theme,`)`]})]}),(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-3`,children:`Choose a theme. Matching it to the setlist provides a bonus!`}),(0,N.jsxs)(`select`,{value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-4`,children:[(0,N.jsx)(`option`,{value:`classic`,children:`Classic Idol`}),(0,N.jsx)(`option`,{value:`vocal`,children:`Vocal Focus`}),(0,N.jsx)(`option`,{value:`dance`,children:`Dance Focus`}),(0,N.jsx)(`option`,{value:`cool`,children:`Cool/Edgy`})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>Mt(e),className:`p-2 bg-green-500 text-white rounded`,children:`Start Theater Show`})]})]})},gn=()=>{let[e,t]=(0,C.useState)(null),[i,a]=(0,C.useState)([]),[o,s]=(0,C.useState)([]),[c,l]=(0,C.useState)(`All`),d=y.flatMap(e=>(e.tracks||[]).map(t=>({id:`${e.id}-${t.name}-${e.targetGroup}`,name:`${t.name} (Single: ${e.name} - ${e.targetGroup===`main`?n:e.targetGroup})`,singleName:e.name,group:e.targetGroup,isTitle:t.type===`title`}))),f=dt(!0),p=[`All`,...new Set(at.map(e=>e.category))],m=c===`All`?at:at.filter(e=>e.category===c),h=at.find(t=>t.label===e),g=e=>{a(t=>{let n=t.some(t=>t.id===e),r=d.find(t=>t.id===e);return r?n?t.filter(t=>t.id!==e):[...t,r]:t})};return(0,N.jsx)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(le,{size:24,className:`mr-2`}),` Schedule Performance`]}),maxWidth:`max-w-4xl`,children:(0,N.jsxs)(`div`,{className:`grid grid-cols-3 gap-6`,children:[(0,N.jsxs)(`div`,{className:`col-span-1 border-r pr-4`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center`,children:[(0,N.jsx)(E,{size:16,className:`mr-1`}),` 1. Select Type`]}),(0,N.jsx)(`div`,{className:`flex flex-wrap gap-2 mb-3`,children:p.map(e=>(0,N.jsx)(`button`,{onClick:()=>l(e),className:`text-xs px-2 py-1 rounded-full ${c===e?`bg-blue-500 text-white`:`bg-gray-200 text-gray-700 hover:bg-gray-300`}`,children:e},e))}),(0,N.jsxs)(`div`,{className:`max-h-64 overflow-y-auto space-y-2`,children:[m.map(n=>(0,N.jsxs)(`div`,{onClick:()=>t(n.label),className:`p-3 border rounded cursor-pointer transition-all duration-100 
            ${e===n.label?`bg-indigo-100 dark:bg-indigo-900 border-indigo-500 ring-2 ring-indigo-200 dark:ring-indigo-700`:`bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700`} 
            text-gray-800 dark:text-gray-100`,title:n.desc,children:[(0,N.jsx)(`span`,{className:`font-bold block`,children:n.label}),(0,N.jsxs)(`span`,{className:`text-xs text-gray-600 block`,children:[`Category: `,n.category,` | Cost: `,n.cost.toLocaleString()]})]},n.label)),(0,N.jsx)(`div`,{className:`p-3 bg-gray-200 rounded text-sm text-center italic text-gray-500`,children:`+ Add Custom Performance (Not Yet Implemented)`})]}),h&&(0,N.jsxs)(`div`,{className:`mt-3 p-3 bg-green-50 rounded text-sm`,children:[(0,N.jsxs)(`p`,{className:`font-semibold`,children:[h.label,` selected.`]}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-700`,children:[`Cost: **`,h.cost.toLocaleString(),`**`]})]})]}),(0,N.jsxs)(`div`,{className:`col-span-1 border-r pr-4`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center`,children:[(0,N.jsx)(ye,{size:16,className:`mr-1`}),` 2. Select Tracks (`,i.length,`)`]}),(0,N.jsxs)(`div`,{className:`max-h-96 overflow-y-auto space-y-2 border p-2 rounded`,children:[d.map(e=>(0,N.jsxs)(`div`,{onClick:()=>g(e.id),className:`p-2 border rounded text-sm cursor-pointer ${i.some(t=>t.id===e.id)?`bg-blue-200`:`hover:bg-gray-100`}`,children:[(0,N.jsx)(`span`,{className:`font-medium`,children:e.name}),(0,N.jsxs)(`span`,{className:`text-xs text-gray-500 block`,children:[`(`,e.group,` | `,e.isTitle?`Title`:`B-Side`,`)`]})]},e.id)),d.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500 italic`,children:`No songs released yet!`})]})]}),(0,N.jsxs)(`div`,{className:`col-span-1`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center`,children:[(0,N.jsx)(Ne,{size:16,className:`mr-1`}),` 3. Select Members (`,o.length,`)`]}),(0,N.jsx)(ln,{members:f,selectedIds:o,toggleMember:e=>{s(t=>t.map(String).includes(String(e))?t.filter(t=>String(t)!==String(e)):[...t,e])}}),(0,N.jsx)(`div`,{className:`mt-4 pt-4 border-t`,children:(0,N.jsxs)(`button`,{onClick:()=>{if(!h)return u(`Please select a performance type.`);if(i.length===0)return u(`Must select at least one song to perform.`);if(o.length===0)return u(`Must select at least one performing member.`);Yt(h,i,o)},disabled:!h||i.length===0||o.length===0||r<h.cost,className:`w-full p-3 bg-green-500 text-white rounded font-bold disabled:bg-gray-400`,children:[`Execute Performance (`,h?.cost.toLocaleString()||`---`,`)`]})})]})]})})},_n=()=>{let[e,t]=(0,C.useState)(rt[1]?.id||``),[n,i]=(0,C.useState)(``),[a,o]=(0,C.useState)([]),s=rt.find(t=>t.id===e),c=w.find(e=>e.id===n),l=dt(!0),d=e=>{o(t=>t.map(String).includes(String(e))?t.filter(t=>String(t)!==String(e)):[...t,e])},f=()=>{if(!s||!c)return u(`Must select a venue and a setlist.`);if(a.length<5)return u(`Need at least 5 members for a major concert.`);$t(s,c,a)},p=s?s.cost+s.maintenance:0;return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(ke,{size:24,className:`mr-2`}),` Book Major Concert`]}),maxWidth:`max-w-4xl`,children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Book a major venue using a full setlist. This has a high cost but massive potential for fan and revenue growth.`}),(0,N.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,N.jsxs)(`div`,{className:`col-span-1 space-y-3`,children:[(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`1. Select Venue (Capacity)`}),(0,N.jsxs)(`select`,{value:e,onChange:e=>t(parseInt(e.target.value)),className:`w-full p-2 border rounded`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select Venue --`}),rt.filter(e=>e.id>1).map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Cap: `,e.capacity.toLocaleString(),`)`]},e.id))]}),s&&(0,N.jsxs)(`div`,{className:`p-3 bg-yellow-50 rounded text-sm`,children:[(0,N.jsx)(`p`,{className:`font-semibold`,children:`Venue Cost:`}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-700`,children:[`Booking Fee: `,s.cost.toLocaleString()]}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-700`,children:[`Maintenance/Ops: `,s.maintenance.toLocaleString()]}),(0,N.jsxs)(`p`,{className:`text-red-600 font-bold`,children:[`TOTAL INITIAL COST: `,(s.cost+s.maintenance).toLocaleString()]})]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1 pt-2`,children:`2. Select Setlist`}),(0,N.jsxs)(`select`,{value:n,onChange:e=>i(parseInt(e.target.value)),className:`w-full p-2 border rounded`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select Setlist --`}),(w||[]).map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Difficulty: `,e.difficulty,`)`]},e.id))]})]}),(0,N.jsxs)(`div`,{className:`col-span-1`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center`,children:[(0,N.jsx)(Ne,{size:16,className:`mr-1`}),` 3. Select Members (`,a.length,`)`]}),(0,N.jsx)(`p`,{className:`text-xs text-gray-500 mb-2`,children:`Min 5 members required. Stamina will be heavily drained!`}),(0,N.jsx)(ln,{members:l,selectedIds:a,toggleMember:d})]})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4 pt-4 border-t`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsxs)(`button`,{onClick:f,disabled:!s||!c||a.length<5||r<p,className:`p-3 bg-red-600 text-white rounded font-bold disabled:bg-gray-400`,children:[`Book Concert (`,p.toLocaleString(),`)`]})]})]})},vn=()=>{let[e,t]=(0,C.useState)(Ye);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(Ce,{size:20,className:`mr-2`}),` Save Game`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Save your current game state to Firestore using a unique username.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Save Username (Case Sensitive)`}),(0,N.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-4`,placeholder:`Enter your unique save username`}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-500 mb-4`,children:[`Your current User ID (for debugging): `,st]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{e.trim()?sn(e.trim()):u(`Please enter a valid username to save.`)},disabled:!e.trim()||!A,className:`p-2 bg-blue-500 text-white rounded disabled:bg-gray-400`,children:`Confirm Save`})]})]})},yn=()=>{let[e,t]=(0,C.useState)(``);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(je,{size:20,className:`mr-2`}),` Load Game`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Load a previously saved game using the username associated with it.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Load Username (Case Sensitive)`}),(0,N.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-4`,placeholder:`Enter the save username`}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-500 mb-4`,children:[`Loading will overwrite your current session. You must use the user ID that was used to save the game: `,st]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{e.trim()?cn(e.trim()):u(`Please enter the username of the save file to load.`)},disabled:!e.trim()||!A,className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Confirm Load`})]})]})},bn=()=>{let e=Ue,[t,n]=(0,C.useState)(e?.name||``),[r,i]=(0,C.useState)(e?.nickname||``);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(Ee,{size:20,className:`mr-2`}),` Rename Member`]}),children:[(0,N.jsxs)(`p`,{className:`text-sm text-gray-600 mb-4`,children:[`Changing the name of: `,(0,N.jsx)(`span`,{className:`font-bold`,children:e.name})]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Full Name`}),(0,N.jsx)(`input`,{type:`text`,value:t,onChange:e=>n(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`Enter new full name`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Nickname`}),(0,N.jsx)(`input`,{type:`text`,value:r,onChange:e=>i(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`Enter new nickname (e.g., Sakura-chan)`}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!t.trim())return u(`Name cannot be empty.`);pt(e.id,e=>({...e,name:t.trim(),nickname:r.trim()})),u(`${e.name}'s name changed to ${t.trim()}!`),c(e=>({...e,name:t.trim(),nickname:r.trim()})),k(null)},disabled:!t.trim(),className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Confirm Rename`})]})]})},xn=()=>{let[e,t]=(0,C.useState)(``),[n,r]=(0,C.useState)([]),[i,o]=(0,C.useState)(``),s=a.filter(e=>e.homeGroup===`main`&&e.isAvailable).map(e=>({id:e.id,name:e.name,isSister:!1}));return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(O,{size:20,className:`mr-2`}),` Create New Team`]}),maxWidth:`max-w-xl`,children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Create a new theater performance unit.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Team Name`}),(0,N.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`e.g., Team A`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Select Setlist`}),(0,N.jsxs)(`select`,{value:i,onChange:e=>o(e.target.value),className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select a Setlist --`}),(w||[]).map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Theme: `,e.theme,`)`]},e.id))]}),(0,N.jsxs)(`h4`,{className:`font-semibold mb-1`,children:[`Select Members (`,n.length,`)`]}),(0,N.jsx)(ln,{members:s,selectedIds:n,toggleMember:e=>{r(t=>t.map(String).includes(String(e))?t.filter(t=>String(t)!==String(e)):[...t,e])}}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!e.trim()||n.length===0||!i)return u(`Team needs a name, members, and a setlist.`);Zt({name:e.trim(),members:n,setlistId:parseInt(i)})},disabled:!e.trim()||n.length===0||!i,className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Create Team`})]})]})},Sn=()=>{let e=Ue,[t,n]=(0,C.useState)(e?.name||``),[r,i]=(0,C.useState)(e?.members||[]),[o,s]=(0,C.useState)(e?.currentSetlistId||``),c=a.filter(e=>e.homeGroup===`main`&&e.isAvailable).map(e=>({id:e.id,name:e.name,isSister:!1}));return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(Ee,{size:20,className:`mr-2`}),` Edit Team: `,e.name]}),maxWidth:`max-w-xl`,children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Modify the unit name, roster, and setlist.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Team Name`}),(0,N.jsx)(`input`,{type:`text`,value:t,onChange:e=>n(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`e.g., Team A`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Select Setlist`}),(0,N.jsxs)(`select`,{value:o,onChange:e=>s(e.target.value),className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select a Setlist --`}),(w||[]).map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Theme: `,e.theme,`)`]},e.id))]}),(0,N.jsxs)(`h4`,{className:`font-semibold mb-1`,children:[`Select Members (`,r.length,`)`]}),(0,N.jsx)(ln,{members:c,selectedIds:r,toggleMember:e=>{i(t=>t.map(String).includes(String(e))?t.filter(t=>String(t)!==String(e)):[...t,e])}}),(0,N.jsxs)(`div`,{className:`flex justify-between gap-2 mt-4 pt-4 border-t`,children:[(0,N.jsxs)(`button`,{onClick:()=>{Ot(e.id)},className:`p-2 bg-red-500 text-white rounded flex items-center gap-1`,children:[(0,N.jsx)(Oe,{size:16}),` Disband`]}),(0,N.jsxs)(`div`,{className:`flex gap-2`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!t.trim()||r.length===0||!o)return u(`Team needs a name, members, and a setlist.`);Qt({id:e.id,name:t.trim(),members:r,setlistId:parseInt(o)})},disabled:!t.trim()||r.length===0||!o,className:`p-2 bg-green-500 text-white rounded disabled:bg-gray-400`,children:`Save Changes`})]})]})]})},Cn=()=>{let e=Ue,[t,r]=(0,C.useState)(e?.homeGroup===`main`?`main`:e?.homeGroup),i=e?.isSister;if(!e)return null;let a=t=>{i?Jt(e,t):(u(`Moving main group members is not yet implemented. Check back later!`),k(null))};return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(_e,{size:20,className:`mr-2`}),` Manage Member Location`]}),children:[(0,N.jsxs)(`p`,{className:`text-sm text-gray-600 mb-4`,children:[`Options for managing `,(0,N.jsx)(`span`,{className:`font-bold`,children:e.name}),`'s group assignment.`]}),i?(0,N.jsxs)(`div`,{className:`space-y-3`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold text-red-500`,children:[`Member is currently in `,e.homeGroup,`.`]}),(0,N.jsxs)(`button`,{onClick:()=>a(`transfer`),className:`w-full p-3 bg-indigo-100 text-indigo-800 rounded font-bold border-l-4 border-indigo-500 hover:bg-indigo-200 transition-colors`,children:[`Transfer to `,n,` (50,000)`,(0,N.jsx)(`p`,{className:`text-xs font-normal`,children:`Moves the member to the main roster permanently.`})]}),(0,N.jsxs)(`button`,{onClick:()=>a(`kennin`),className:`w-full p-3 bg-yellow-100 text-yellow-800 rounded font-bold border-l-4 border-yellow-500 hover:bg-yellow-200 transition-colors`,children:[`Kennin in `,n,` (50,000)`,(0,N.jsxs)(`p`,{className:`text-xs font-normal`,children:[`Member can work in both groups, maintaining their spot in `,e.homeGroup,`.`]})]})]}):(0,N.jsxs)(`div`,{className:`space-y-3`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold text-blue-500`,children:[`Member is currently in `,n,`.`]}),(0,N.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Future feature: Send a main member to a sister group as a Kennin or full transfer.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Target Sister Group`}),(0,N.jsxs)(`select`,{value:t,onChange:e=>r(e.target.value),className:`w-full p-2 border rounded mb-3`,disabled:Re.length===0,children:[(0,N.jsx)(`option`,{value:`main`,children:`-- Select Destination --`}),(Re||[]).map(e=>(0,N.jsxs)(`option`,{value:e.name,children:[e.name,` (`,e.location,`)`]},e.id))]}),(0,N.jsx)(`button`,{disabled:!0,className:`w-full p-2 bg-gray-400 text-white rounded`,children:`Send Member (Feature Coming Soon)`})]}),(0,N.jsx)(`div`,{className:`flex justify-end gap-2 mt-4`,children:(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Close`})})]})},wn=()=>{let e=a.filter(e=>e.isAvailable&&e.homeGroup===`main`);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(ve,{size:20,className:`mr-2`}),` Send Member to Media Job`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Select a member and a strategy for a solo media appearance. Cost: 1,000.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Select Member`}),(0,N.jsxs)(`select`,{value:s?.id||``,onChange:e=>c(a.find(t=>String(t.id)===e.target.value)||null),className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select Available Main Member --`}),e.map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Variety: `,e.variety,`)`]},e.id))]}),s&&(0,N.jsxs)(`div`,{className:`space-y-3 mt-3`,children:[(0,N.jsx)(`p`,{className:`text-sm font-semibold`,children:`Choose Strategy:`}),(0,N.jsx)(`button`,{onClick:()=>Wt(s.id,`safe`),className:`w-full p-3 bg-green-100 text-green-800 rounded border-l-4 border-green-500 hover:bg-green-200 transition-colors`,children:`Safe & Wholesome (+20% Success, Low Fan Gain)`}),(0,N.jsx)(`button`,{onClick:()=>Wt(s.id,`standard`),className:`w-full p-3 bg-blue-100 text-blue-800 rounded border-l-4 border-blue-500 hover:bg-blue-200 transition-colors`,children:`Standard Interview (Normal Risk/Reward)`}),(0,N.jsx)(`button`,{onClick:()=>Wt(s.id,`risky`),className:`w-full p-3 bg-red-100 text-red-800 rounded font-bold border-l-4 border-red-500 hover:bg-red-200 transition-colors`,children:`Risky & Controversial (-10% Success, High Risk/Reward)`})]}),(0,N.jsx)(`div`,{className:`flex justify-end gap-2 mt-4`,children:(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Close`})})]})},Tn=()=>(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(Ae,{size:20,className:`mr-2`}),` Group Media Appearance`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Send a sub-unit or the full group to a high-impact media job. Cost: 20,000.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-2`,children:`Available Jobs:`}),(0,N.jsx)(`div`,{className:`space-y-3`,children:[{id:`music_show`,name:`Major Music Show`,members:7,multiplier:1.5},{id:`awards_show`,name:`Year-End Awards Show`,members:16,multiplier:3},{id:`variety_program`,name:`Popular Variety Program`,members:5,multiplier:1}].map(e=>(0,N.jsxs)(`div`,{className:`p-3 border rounded bg-gray-50 flex justify-between items-center`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`span`,{className:`font-bold`,children:e.name}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-600`,children:[`Min Members: `,e.members,` | Fan Boost: x`,e.multiplier]}),(0,N.jsxs)(`p`,{className:`text-xs text-red-500`,children:[`Requires `,e.members,` available members.`]})]}),(0,N.jsx)(`button`,{onClick:()=>Gt(e.id),disabled:a.filter(e=>e.isAvailable).length<e.members,className:`p-2 bg-blue-500 text-white rounded text-sm disabled:bg-gray-400`,children:`Take Job`})]},e.id))}),(0,N.jsx)(`div`,{className:`flex justify-end gap-2 mt-4`,children:(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Close`})})]}),En=()=>{let[e,t]=(0,C.useState)(``),[n,r]=(0,C.useState)(`singing`),i=a.filter(e=>e.isAvailable&&e.homeGroup===`main`);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(ne,{size:20,className:`mr-2`}),` Special Training Camp`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Send one member away for 2 weeks. They will be unavailable but return with a significant +15 skill boost in the chosen area. Cost: 75,000.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Select Member`}),(0,N.jsxs)(`select`,{value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsx)(`option`,{value:``,children:`-- Select Available Member --`}),i.map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (Stamina: `,e.stamina,`)`]},e.id))]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Select Focus Skill`}),(0,N.jsxs)(`select`,{value:n,onChange:e=>r(e.target.value),className:`w-full p-2 border rounded mb-3`,children:[(0,N.jsx)(`option`,{value:`singing`,children:`Singing`}),(0,N.jsx)(`option`,{value:`dancing`,children:`Dancing`}),(0,N.jsx)(`option`,{value:`variety`,children:`Variety`})]}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!e||!n)return u(`Select a member and a skill.`);Ut(e,n)},disabled:!e,className:`p-2 bg-purple-500 text-white rounded disabled:bg-gray-400`,children:`Start Camp (75k)`})]})]})},Dn=()=>{let[e,t]=(0,C.useState)(``),[n,i]=(0,C.useState)(``);return(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center`,children:[(0,N.jsx)(de,{size:20,className:`mr-2`}),` Establish New Sister Group`]}),children:[(0,N.jsx)(`p`,{className:`text-sm text-gray-600 mb-4`,children:`Expand your empire by establishing a new sister group in a new city. Cost: 250,000.`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`New Group Name`}),(0,N.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`e.g., NMB48`}),(0,N.jsx)(`h4`,{className:`font-semibold mb-1`,children:`Location`}),(0,N.jsx)(`input`,{type:`text`,value:n,onChange:e=>i(e.target.value),className:`w-full p-2 border rounded mb-3`,placeholder:`e.g., Osaka`}),(0,N.jsxs)(`div`,{className:`flex justify-end gap-2 mt-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`}),(0,N.jsx)(`button`,{onClick:()=>{if(!e.trim()||!n.trim())return u(`Group name and location cannot be empty.`);qt({groupName:e.trim(),location:n.trim()})},disabled:!e.trim()||!n.trim()||r<25e4,className:`p-2 bg-red-500 text-white rounded disabled:bg-gray-400`,children:`Establish Group (250k)`})]})]})},On=()=>{let e=Ue;return e?(0,N.jsxs)(un,{title:(0,N.jsxs)(`span`,{className:`flex items-center text-red-600`,children:[(0,N.jsx)(Oe,{size:20,className:`mr-2`}),` Manage `,e.name]}),children:[(0,N.jsxs)(`p`,{className:`text-sm text-gray-600 mb-4`,children:[`You have two major options for the future of `,e.name,`.`]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-2`,children:`Choose an Action:`}),(0,N.jsxs)(`div`,{className:`space-y-3`,children:[(0,N.jsxs)(`button`,{onClick:()=>Bt(e.id,!0),className:`w-full p-3 bg-green-100 text-green-800 rounded font-bold border-l-4 border-green-500 hover:bg-green-200 transition-colors`,children:[`Grant Independence`,(0,N.jsx)(`p`,{className:`text-xs font-normal`,children:`The group leaves your management and becomes a rival group, maintaining their fan base.`})]}),(0,N.jsxs)(`button`,{onClick:()=>Bt(e.id,!1),className:`w-full p-3 bg-red-100 text-red-800 rounded font-bold border-l-4 border-red-500 hover:bg-red-200 transition-colors`,children:[`Force Disbandment`,(0,N.jsx)(`p`,{className:`text-xs font-normal`,children:`The group ceases to exist. All members are released, and their fan base is scattered.`})]})]}),(0,N.jsx)(`div`,{className:`flex justify-end gap-2 mt-4`,children:(0,N.jsx)(`button`,{onClick:()=>k(null),className:`p-2 bg-gray-300 rounded`,children:`Cancel`})})]}):null},kn=({member:e})=>{let t=e.songsParticipation||[],n=e.centerHistory||[];it.filter(t=>t.members.includes(e.name));let r=t.filter(e=>e.type===`title`);return(0,N.jsxs)(`div`,{className:`mt-4 border-t pt-4`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center`,children:[(0,N.jsx)(ye,{size:16,className:`mr-2`}),` Participation History`]}),(0,N.jsxs)(`p`,{className:`text-sm font-medium text-gray-700 dark:text-gray-300 mt-3 flex items-center`,children:[(0,N.jsx)(ue,{size:14,className:`mr-1 text-red-500`}),` Title Tracks (`,r.length,`):`]}),(0,N.jsxs)(`div`,{className:`max-h-24 overflow-y-auto text-xs space-y-1 mb-2 p-1 border rounded bg-red-50`,children:[r.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500 italic p-1`,children:`No title track senbatsu positions.`}),r.slice(-5).reverse().map((e,t)=>(0,N.jsxs)(`div`,{className:`p-1 rounded bg-red-100 border border-red-300`,children:[(0,N.jsx)(`p`,{className:`font-bold text-red-800`,children:e.songName}),(0,N.jsxs)(`p`,{className:`text-gray-600`,children:[`Single: `,e.singleName,` (Group: `,e.group,`)`]})]},t))]}),(0,N.jsxs)(`p`,{className:`text-sm font-medium text-gray-700 dark:text-gray-300 mt-3 flex items-center`,children:[(0,N.jsx)(ye,{size:14,className:`mr-1 text-green-500`}),` B-Side Tracks (`,t.length-r.length,`):`]}),(0,N.jsxs)(`div`,{className:`max-h-24 overflow-y-auto text-xs space-y-1 mb-2 p-1 border rounded bg-green-50`,children:[t.length-r.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500 italic p-1`,children:`No B-side track positions.`}),t.filter(e=>e.type===`b-side`).slice(-5).reverse().map((e,t)=>(0,N.jsxs)(`div`,{className:`p-1 rounded bg-green-100 border border-green-300`,children:[(0,N.jsx)(`p`,{className:`font-bold text-green-800`,children:e.songName}),(0,N.jsxs)(`p`,{className:`text-gray-600`,children:[`Single: `,e.singleName,` (Group: `,e.group,`)`]})]},t))]}),(0,N.jsxs)(`p`,{className:`text-sm font-medium text-gray-700 dark:text-gray-300 mt-3 flex items-center`,children:[(0,N.jsx)(De,{size:14,className:`mr-1 text-yellow-500`}),` Center Positions (`,n.length,`):`]}),(0,N.jsxs)(`div`,{className:`max-h-24 overflow-y-auto text-xs space-y-1 mb-2 p-1 border rounded bg-yellow-50`,children:[n.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500 italic p-1`,children:`No center history recorded.`}),n.slice(-5).reverse().map((e,t)=>(0,N.jsxs)(`div`,{className:`p-1 rounded bg-yellow-100 border border-yellow-300`,children:[(0,N.jsx)(`p`,{className:`font-bold text-yellow-800`,children:e.songName}),(0,N.jsxs)(`p`,{className:`text-gray-600`,children:[`Single: `,e.singleName,` (Group: `,e.group,`)`]})]},t))]})]})},An=()=>{let e=vt(),t={"Center (#1)":e.slice(0,1),"Front Row (#2-3)":e.slice(1,3),"Middle Row (#4-7)":e.slice(3,7),"Back Row (#8-16)":e.slice(7,16),"Under Girls (#17+)":e.slice(16)},n={"Center (#1)":`bg-yellow-500 text-yellow-900`,"Front Row (#2-3)":`bg-red-400 text-white`,"Middle Row (#4-7)":`bg-indigo-400 text-white`,"Back Row (#8-16)":`bg-gray-400 text-white`,"Under Girls (#17+)":`bg-gray-300 text-gray-800`},r=Math.max(1,...Object.values(t).slice(0,4).map(e=>(e||[]).length)),i=(e,t)=>{if((t||[]).length===0)return null;let i=t.length,a=e===`Under Girls (#17+)`?1:i/r,o={width:e===`Under Girls (#17+)`?`100%`:`${a*100}%`,minWidth:`50px`,maxWidth:`${300+(e===`Under Girls (#17+)`?100:0)}px`};return(0,N.jsxs)(`div`,{className:`flex flex-col items-center mb-4 w-full`,children:[(0,N.jsxs)(`div`,{className:`p-1 rounded-t-lg shadow-lg text-xs font-bold w-full text-center ${n[e]} transition-all duration-300`,style:o,children:[e,` (`,i,`)`]}),(0,N.jsx)(`div`,{className:`flex justify-center flex-wrap gap-1 p-2 w-full rounded-b-lg shadow-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors duration-300`,style:o,children:(t||[]).map((t,n)=>(0,N.jsx)(`div`,{onClick:()=>{c(t),Qe(`list`)},className:`cursor-pointer text-center p-1 rounded-full text-xs font-medium border-2 hover:border-blue-500 transition-colors ${e===`Center (#1)`?`bg-yellow-200 border-yellow-700`:`bg-gray-100 border-gray-300`}`,title:`${t.name} (#${gt(t)} | ${(t.fans||0).toLocaleString()} fans)`,children:t.nickname||t.name.split(` `)[0]},t.id))})]},e)};return(0,N.jsxs)(`div`,{className:`p-6 rounded-lg shadow-xl flex flex-col items-center mx-auto max-w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-xl font-bold mb-4 flex items-center`,children:[(0,N.jsx)(ee,{size:20,className:`mr-2`}),` Idol Ranking Pyramid`]}),(0,N.jsx)(`p`,{className:`text-sm text-gray-500 mb-6 text-center`,children:`Hierarchy based on current fan count (Kami 16 are tiered).`}),(0,N.jsxs)(`div`,{className:`flex flex-col items-center w-full`,children:[i(`Under Girls (#17+)`,t[`Under Girls (#17+)`]),i(`Back Row (#8-16)`,t[`Back Row (#8-16)`]),i(`Middle Row (#4-7)`,t[`Middle Row (#4-7)`]),i(`Front Row (#2-3)`,t[`Front Row (#2-3)`]),i(`Center (#1)`,t[`Center (#1)`])]}),e.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500`,children:`Recruit members to see the ranking pyramid!`})]})},jn=()=>{let e=Re[0]?.id||null,[t,n]=(0,C.useState)(Ge||e),r=Re.find(e=>e.id===t);if((0,C.useEffect)(()=>{if(Re.length>0&&(!t||!r)){let e=Re[0].id;n(e),Ke(e)}else Re.length===0&&(n(null),Ke(null))},[Re,t,r,Ke]),Re.length===0)return(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h2`,{className:`text-xl font-semibold mb-3 flex items-center`,children:[(0,N.jsx)(de,{size:20,className:`mr-2`}),` Sister Groups`]}),(0,N.jsx)(`p`,{className:`text-gray-500`,children:`No sister groups established yet. Time to expand!`}),(0,N.jsx)(`button`,{onClick:()=>k(`createSisterGroup`),className:`w-full p-2 bg-red-500 text-white rounded mt-4`,children:`Establish Sister Group (250k)`})]});let i=(e,t)=>[...t||[]].sort((e,t)=>(t.fans||0)-(e.fans||0)).findIndex(t=>t.id===e.id)+1,a=(e,t)=>{let n=Re.find(e=>e.id===t);c({...e,id:`sg-${t}-${e.id}`,name:`${e.name} (${n?.name||`Unknown`})`,isSister:!0,groupId:t}),m(`members`)};return(0,N.jsxs)(`div`,{className:`bg-white p-4 rounded-lg shadow-md`,children:[(0,N.jsxs)(`h2`,{className:`text-xl font-semibold mb-3 flex items-center`,children:[(0,N.jsx)(de,{size:20,className:`mr-2`}),` Sister Group Management`]}),(0,N.jsx)(`select`,{value:t||``,onChange:e=>{let t=parseInt(e.target.value);n(t),Ke(t)},className:`w-full p-2 border rounded mb-4 bg-gray-50`,children:(Re||[]).map(e=>(0,N.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.location,`)`]},e.id))}),r&&(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center mb-3 p-3 bg-blue-50 rounded-lg`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`p`,{className:`font-bold text-lg`,children:r.name}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-600`,children:[`Fans: `,r.fans.toLocaleString(),` | Weekly Income: `,r.income.toLocaleString()]})]}),(0,N.jsxs)(`div`,{className:`flex gap-2`,children:[(0,N.jsx)(`button`,{onClick:()=>Nt(r.id),className:`px-3 py-1 bg-yellow-500 text-white text-sm rounded-md shadow-sm`,children:`Show (10k)`}),(0,N.jsx)(`button`,{onClick:()=>zt(r.id),className:`px-3 py-1 bg-green-500 text-white text-sm rounded-md shadow-sm`,children:`Recruit (10k)`}),(0,N.jsxs)(`button`,{onClick:()=>{r&&(We(r),k(`sisterGroupDisband`))},className:`px-3 py-1 bg-red-500 text-white text-sm rounded-md shadow-sm`,children:[(0,N.jsx)(Oe,{size:16,className:`inline mr-1`}),` Disband`]})]})]}),(0,N.jsxs)(`h4`,{className:`font-semibold mb-2`,children:[`Member Roster (`,r.members.length,`)`]}),(0,N.jsx)(`div`,{className:`max-h-80 overflow-y-auto space-y-2`,children:(r.members||[]).sort((e,t)=>i(e,r.members)-i(t,r.members)).map(e=>(0,N.jsxs)(`div`,{className:`p-3 border rounded bg-gray-50 flex justify-between items-center cursor-pointer ${s&&String(s.id)===`sg-${r.id}-${e.id}`?`border-2 border-blue-500 ring-2 ring-blue-200 bg-blue-50`:`hover:bg-gray-100`}`,onClick:()=>a(e,r.id),children:[(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`span`,{className:`font-bold`,children:[e.name,` `,e.kenninGroups?.includes(`main`)?`(Kennin)`:``]}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-600`,children:[`Rank: #`,i(e,r.members),` | Variety: `,e.variety]})]}),(0,N.jsx)(`button`,{className:`p-1 bg-yellow-400 text-white rounded text-xs`,children:`View/Manage`})]},e.id))})]})]})},Mn=({label:e,value:t,max:n=100,color:r=`bg-blue-500`})=>(0,N.jsxs)(`div`,{className:`mb-1`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between text-xs font-semibold mb-0.5`,children:[(0,N.jsx)(`span`,{children:e}),(0,N.jsxs)(`span`,{children:[t,` / `,n]})]}),(0,N.jsx)(`div`,{className:`w-full bg-gray-200 rounded-full h-2`,children:(0,N.jsx)(`div`,{className:r+` h-2 rounded-full`,style:{width:`${(t||0)/n*100}%`}})})]}),Nn=({id:e,label:t,icon:n})=>(0,N.jsxs)(`button`,{onClick:()=>{m(e),c(null)},className:`flex-1 p-3 text-sm font-medium flex flex-col items-center gap-1 ${p===e?`text-blue-600 border-b-2 border-blue-600`:`text-gray-500 hover:text-gray-700`}`,children:[(0,N.jsx)(n,{size:20}),(0,N.jsx)(`span`,{children:t})]});return e?(0,N.jsxs)(`div`,{className:`flex flex-col md:flex-row h-screen bg-gray-100 dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{className:`flex-1 flex flex-col overflow-hidden`,children:[(0,N.jsxs)(`header`,{className:`shadow-md p-4 flex justify-between items-center bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsx)(`h1`,{className:`text-2xl font-bold text-gray-800`,children:n}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-500`,children:[`Producer ID: `,st]})]}),(0,N.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,N.jsx)(`button`,{onClick:()=>k(`saveGame`),disabled:!A,className:`p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 disabled:bg-gray-300 disabled:text-gray-500`,title:`Save Game (via Username)`,children:(0,N.jsx)(Ce,{size:20})}),(0,N.jsx)(`button`,{onClick:()=>k(`loadGame`),disabled:!A,className:`p-2 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 disabled:bg-gray-300 disabled:text-gray-500`,title:`Load Game`,children:(0,N.jsx)(je,{size:20})}),(0,N.jsxs)(`button`,{onClick:()=>g(!h),className:`relative p-2 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200`,title:`Notifications`,children:[(0,N.jsx)(te,{size:20}),_.length>0&&!h&&(0,N.jsx)(`span`,{className:`absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full`})]})]})]}),l&&(0,N.jsx)(`div`,{className:`p-3 bg-blue-100 text-blue-800 text-center text-sm`,children:l}),nt&&(0,N.jsxs)(`div`,{className:`p-2 bg-red-100 text-red-800 text-center text-sm font-bold flex items-center justify-center`,children:[(0,N.jsx)(xe,{size:16,className:`mr-2`}),` Active Tour: `,nt.name,` (`,nt.weeksLeft,` weeks left)`]}),(0,N.jsxs)(`main`,{className:`flex-1 overflow-y-auto p-4 md:p-6`,children:[p===`members`&&(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center mb-4 border-b pb-2`,children:[(0,N.jsxs)(`h2`,{className:`text-xl font-semibold`,children:[`Members (`,vt().length,`)`]}),(0,N.jsxs)(`div`,{className:`flex gap-2`,children:[(0,N.jsxs)(`button`,{onClick:()=>Qe(`list`),className:`px-3 py-1 text-sm rounded-md shadow-sm ${Ze===`list`?`bg-blue-500 text-white`:`bg-gray-200 text-gray-700`}`,children:[(0,N.jsx)(Ne,{size:16,className:`inline mr-1`}),` List`]}),(0,N.jsxs)(`button`,{onClick:()=>Qe(`ranking`),className:`px-3 py-1 text-sm rounded-md shadow-sm ${Ze===`ranking`?`bg-blue-500 text-white`:`bg-gray-200 text-gray-700`}`,children:[(0,N.jsx)(ee,{size:16,className:`inline mr-1`}),` Ranking`]})]})]}),Ze===`list`?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(`div`,{className:`flex justify-end items-center mb-4`,children:[(0,N.jsx)(`button`,{onClick:xt,className:`px-3 py-1 bg-yellow-500 text-white text-sm rounded-md shadow-sm mr-2`,children:`Rest Tired`}),(0,N.jsx)(`button`,{onClick:M,className:`px-3 py-1 bg-green-500 text-white text-sm rounded-md shadow-sm`,children:`Recruit Main (20k)`})]}),(0,N.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:vt().map(e=>(0,N.jsx)(`div`,{className:`bg-white dark:bg-gray-900 rounded-lg shadow-md overflow-hidden cursor-pointer transition-colors duration-300 
                                 ${e.isAvailable?``:`opacity-60`}
                                 ${e.isKennin?`border-2 border-yellow-500`:``}
                                 ${s&&String(s.id)===String(e.id)?`border-2 border-blue-500 ring-2 ring-blue-200`:`hover:shadow-lg`}`,onClick:()=>c(e),children:(0,N.jsxs)(`div`,{className:`p-4`,children:[(0,N.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,N.jsx)(`h3`,{className:`text-lg font-bold`,children:e.name}),(0,N.jsxs)(`span`,{className:`text-xs font-bold px-2 py-0.5 rounded-full ${e.position===`center`?`bg-yellow-200 text-yellow-800`:`bg-gray-200 text-gray-700`}`,children:[`#`,vt().findIndex(t=>t.id===e.id)+1,` `,e.position===`center`?`Center`:e.position===`front`?`Front Row`:e.position===`middle`?`Middle Row`:e.position===`back`?`Back Row`:`Under Girl`]})]}),(0,N.jsx)(`p`,{className:`text-xs text-gray-500 mb-1`,children:ht(e)}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-500 mb-3`,children:[e.age,` y.o. | Fans: `,(e.fans||0).toLocaleString()]}),(0,N.jsx)(Mn,{label:`Singing`,value:e.singing,color:`bg-blue-500`}),(0,N.jsx)(Mn,{label:`Dancing`,value:e.dancing,color:`bg-green-500`}),(0,N.jsx)(Mn,{label:`Variety`,value:e.variety,color:`bg-pink-500`}),(0,N.jsx)(Mn,{label:`Stamina`,value:e.stamina,color:e.stamina<30?`bg-red-500`:`bg-gray-400`}),(0,N.jsx)(Mn,{label:`Morale`,value:e.morale,color:`bg-purple-500`})]})},e.id))})]}):(0,N.jsx)(An,{})]}),p===`sisterGroup`&&(0,N.jsx)(jn,{}),p===`management`&&(0,N.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(De,{size:20,className:`mr-2`}),` Performance & Elections`]}),(0,N.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,N.jsxs)(`h4`,{className:`font-bold text-gray-700 mt-2 mb-1 flex items-center`,children:[(0,N.jsx)(me,{size:16,className:`mr-1 text-red-500`}),` Theater Shows:`]}),(0,N.jsx)(`div`,{className:`flex items-center gap-2 mb-2`,children:(0,N.jsxs)(`select`,{value:qe||``,onChange:e=>Je(e.target.value?parseInt(e.target.value):null),className:`flex-1 p-2 border rounded`,disabled:!Ie.theater,children:[(0,N.jsx)(`option`,{value:``,children:`All Available Members`}),(x||[]).map(e=>(0,N.jsx)(`option`,{value:e.id,children:e.name},e.id))]})}),(0,N.jsxs)(`button`,{onClick:kt,className:`w-full px-4 py-2 bg-green-500 text-white rounded disabled:bg-gray-400 font-bold`,disabled:!Ie.theater||!!nt,children:[(0,N.jsx)(Ne,{size:18,className:`inline mr-1`}),` Hold Theater Show`]}),(0,N.jsxs)(`button`,{onClick:Xt,className:`w-full p-2 bg-indigo-500 text-white rounded font-bold`,disabled:!!nt||y.length===0,children:[(0,N.jsx)(le,{size:18,className:`inline mr-1`}),` Schedule Performance`]}),(0,N.jsxs)(`button`,{onClick:()=>k(`majorConcert`),className:`w-full p-2 bg-red-600 text-white rounded font-bold`,disabled:!!nt||y.length===0,children:[(0,N.jsx)(ke,{size:18,className:`inline mr-1`}),` Book Major Concert`]}),(0,N.jsx)(`h4`,{className:`font-bold text-gray-700 mt-4 mb-1`,children:`Strategic Actions:`}),(0,N.jsx)(`button`,{onClick:Ft,className:`w-full p-2 bg-purple-500 text-white rounded font-bold`,children:`Hold Election (5k)`}),(0,N.jsx)(`button`,{onClick:wt,className:`w-full p-2 bg-red-800 text-white rounded`,disabled:!!nt,children:`Start Tour (30k)`})]})]}),(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(re,{size:20,className:`mr-2`}),` Facilities`]}),(0,N.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,N.jsx)(`button`,{onClick:St,disabled:Ie.theater,className:`w-full p-2 bg-gray-700 text-white rounded disabled:bg-gray-400`,children:Ie.theater?`Theater Built`:`Build Theater (100k)`}),(0,N.jsxs)(`button`,{onClick:()=>Ct(`vocal`),className:`w-full p-2 bg-blue-100 text-blue-700 rounded flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[`Upgrade Vocal Room (Lvl `,Ie.practiceRooms.vocal,`)`]}),(0,N.jsxs)(`span`,{className:`text-xs font-semibold`,children:[``,(25e3+Ie.practiceRooms.vocal*15e3).toLocaleString()]})]}),(0,N.jsxs)(`button`,{onClick:()=>Ct(`dance`),className:`w-full p-2 bg-green-100 text-green-700 rounded flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[`Upgrade Dance Room (Lvl `,Ie.practiceRooms.dance,`)`]}),(0,N.jsxs)(`span`,{className:`text-xs font-semibold`,children:[``,(25e3+Ie.practiceRooms.dance*15e3).toLocaleString()]})]}),(0,N.jsxs)(`button`,{onClick:()=>Ct(`variety`),className:`w-full p-2 bg-pink-100 text-pink-700 rounded flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[`Upgrade Variety Room (Lvl `,Ie.practiceRooms.variety,`)`]}),(0,N.jsxs)(`span`,{className:`text-xs font-semibold`,children:[``,(25e3+Ie.practiceRooms.variety*15e3).toLocaleString()]})]})]})]}),(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(Ne,{size:20,className:`mr-2`}),` Theater Teams & Setlists`]}),(0,N.jsx)(`div`,{className:`grid grid-cols-1 gap-2 max-h-40 overflow-y-auto mb-2`,children:(x||[]).map(e=>(0,N.jsxs)(`div`,{className:`p-2 border rounded bg-gray-50 flex justify-between items-center`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`span`,{className:`font-bold`,children:[e.name,` (`,e.members.length,` members)`]}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-500`,children:[`Setlist: `,(w||[]).find(t=>t.id===e.currentSetlistId)?.name||`None`]})]}),(0,N.jsx)(`button`,{onClick:()=>Dt(e.id),className:`p-1 bg-yellow-400 text-white rounded hover:bg-yellow-500`,children:(0,N.jsx)(Ee,{size:16})})]},e.id))}),(0,N.jsxs)(`div`,{className:`flex gap-2 mt-2`,children:[(0,N.jsx)(`button`,{onClick:Et,className:`flex-1 p-2 bg-blue-500 text-white rounded`,disabled:!Ie.theater,children:`Create New Team`}),(0,N.jsxs)(`button`,{onClick:Lt,className:`flex-1 p-2 bg-indigo-500 text-white rounded`,disabled:!Ie.theater,children:[(0,N.jsx)(Se,{size:16,className:`inline mr-1`}),` Custom Setlist`]})]})]}),(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(de,{size:20,className:`mr-2`}),` Group Expansion (`,Re.length,`)`]}),(0,N.jsx)(`div`,{className:`grid grid-cols-1 gap-2 max-h-40 overflow-y-auto mb-2`,children:(Re||[]).map(e=>(0,N.jsxs)(`div`,{className:`p-2 border rounded bg-gray-50`,children:[(0,N.jsx)(`span`,{className:`font-bold`,children:e.name}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-500 flex items-center`,children:[(0,N.jsx)(ge,{size:12,className:`mr-1`}),e.location,` | Members: `,(e.members||[]).length]})]},e.id))}),(0,N.jsx)(`button`,{onClick:()=>k(`createSisterGroup`),className:`w-full p-2 bg-red-500 text-white rounded mt-2`,children:`Establish Sister Group (250k)`})]})]}),p===`discography`&&(0,N.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:(0,N.jsxs)(`div`,{className:`md:col-span-2 lg:col-span-3`,children:[(0,N.jsxs)(`h2`,{className:`text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100`,children:[`Discography (`,n,` - Main Group)`]}),(0,N.jsxs)(`button`,{onClick:It,className:`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md mb-4 flex items-center transition-colors duration-200`,children:[(0,N.jsx)(Se,{size:18,className:`mr-1`}),` Produce New Single`]}),(0,N.jsxs)(`div`,{className:`space-y-3`,children:[(y||[]).map(e=>(0,N.jsxs)(`div`,{className:`p-4 rounded-md shadow-md flex justify-between items-center \r
                       bg-white dark:bg-gray-800 \r
                       text-gray-900 dark:text-gray-100 \r
                       border border-gray-200 dark:border-gray-700 \r
                       transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`h3`,{className:`font-bold`,children:[e.name,` (Wk `,e.releaseWeek,`)`]}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-700 dark:text-gray-300`,children:[`Total Sales: `,e.sales.toLocaleString(),` | Tracks: `,e.totalTracks]})]}),(0,N.jsxs)(`button`,{onClick:()=>{We(e),k(`singleDetails`)},className:`p-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm flex items-center transition-colors`,children:[(0,N.jsx)(oe,{size:16}),` Details`]})]},e.id)),(0,N.jsx)(`h3`,{className:`font-bold pt-4 border-t mt-4 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700`,children:`Sister Group Singles`}),(Re||[]).map(e=>(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`h4`,{className:`font-semibold text-gray-800 dark:text-gray-200 mt-2`,children:[e.name,` Singles:`]}),(e.songs||[]).map(t=>(0,N.jsxs)(`div`,{className:`p-3 ml-4 rounded shadow-sm flex justify-between items-center my-1 \r
                           bg-gray-100 dark:bg-gray-800 \r
                           text-gray-900 dark:text-gray-100 \r
                           border border-gray-200 dark:border-gray-700 \r
                           transition-colors duration-200`,children:[(0,N.jsxs)(`div`,{children:[(0,N.jsxs)(`h5`,{className:`font-bold text-sm`,children:[t.name,` (Wk `,t.releaseWeek,`)`]}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-700 dark:text-gray-300`,children:[`Sales: `,t.sales.toLocaleString(),` | Tracks: `,t.totalTracks]})]}),(0,N.jsx)(`button`,{onClick:()=>{We(t),k(`singleDetails`)},className:`p-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs transition-colors`,children:`Details`})]},e.id+`-`+t.id))]},e.id))]})]})}),p===`activities`&&(0,N.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(fe,{size:20,className:`mr-2`}),` Fan Events`]}),(0,N.jsx)(`div`,{className:`flex flex-col gap-2`,children:(0,N.jsxs)(`button`,{onClick:Ht,className:`w-full p-3 bg-green-500 text-white rounded`,children:[(0,N.jsxs)(`div`,{className:`flex justify-center items-center gap-2`,children:[(0,N.jsx)(fe,{size:20}),` Hold Handshake Event`]}),(0,N.jsx)(`span`,{className:`text-xs`,children:`(50,000) - Boosts fans, drains all member stamina/morale.`})]})})]}),(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(Fe,{size:20,className:`mr-2`}),` Media & Training`]}),(0,N.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,N.jsxs)(`button`,{onClick:()=>k(`groupMediaJob`),className:`w-full p-3 bg-red-500 text-white rounded`,children:[(0,N.jsxs)(`div`,{className:`flex justify-center items-center gap-2`,children:[(0,N.jsx)(Ae,{size:20}),` Group Media Appearance`]}),(0,N.jsx)(`span`,{className:`text-xs`,children:`(20,000) - High impact, high member requirement.`})]}),(0,N.jsxs)(`button`,{onClick:()=>k(`mediaJob`),className:`w-full p-3 bg-blue-500 text-white rounded`,children:[(0,N.jsxs)(`div`,{className:`flex justify-center items-center gap-2`,children:[(0,N.jsx)(ve,{size:20}),` Send Member to Media Job`]}),(0,N.jsx)(`span`,{className:`text-xs`,children:`(1,000) - Gain followers based on variety skill & strategy.`})]}),(0,N.jsxs)(`button`,{onClick:()=>k(`trainingCamp`),className:`w-full p-3 bg-purple-500 text-white rounded`,children:[(0,N.jsxs)(`div`,{className:`flex justify-center items-center gap-2`,children:[(0,N.jsx)(ne,{size:20}),` Special Training Camp`]}),(0,N.jsx)(`span`,{className:`text-xs`,children:`(75,000) - Send member away for 2 weeks for +15 skill.`})]})]})]})]}),p===`merch`&&(0,N.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(we,{size:20,className:`mr-2`}),` Current Inventory`]}),(0,N.jsxs)(`ul`,{className:`divide-y`,children:[(0,N.jsxs)(`li`,{className:`py-2 flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[(0,N.jsx)(be,{size:16,className:`inline mr-2`}),`Photo Sets`]}),(0,N.jsx)(`span`,{className:`font-bold`,children:($e.photos||0).toLocaleString()})]}),(0,N.jsxs)(`li`,{className:`py-2 flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[(0,N.jsx)(be,{size:16,className:`inline mr-2`}),`Towels`]}),(0,N.jsx)(`span`,{className:`font-bold`,children:($e.towels||0).toLocaleString()})]}),(0,N.jsxs)(`li`,{className:`py-2 flex justify-between items-center`,children:[(0,N.jsxs)(`span`,{children:[(0,N.jsx)(be,{size:16,className:`inline mr-2`}),`Light Sticks`]}),(0,N.jsx)(`span`,{className:`font-bold`,children:($e.lightsticks||0).toLocaleString()})]})]})]}),(0,N.jsxs)(`div`,{className:`p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsxs)(`h3`,{className:`text-lg font-semibold mb-4 flex items-center`,children:[(0,N.jsx)(Se,{size:20,className:`mr-2`}),` Produce Merchandise`]}),(0,N.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,N.jsxs)(`button`,{onClick:()=>Vt(`photos`,100),className:`w-full p-2 bg-gray-200 rounded`,children:[`Produce 100 Photo Sets (`,(tt.photos*100).toLocaleString(),`)`]}),(0,N.jsxs)(`button`,{onClick:()=>Vt(`towels`,100),className:`w-full p-2 bg-gray-200 rounded`,children:[`Produce 100 Towels (`,(tt.towels*100).toLocaleString(),`)`]}),(0,N.jsxs)(`button`,{onClick:()=>Vt(`lightsticks`,100),className:`w-full p-2 bg-gray-200 rounded`,children:[`Produce 100 Light Sticks (`,(tt.lightsticks*100).toLocaleString(),`)`]})]})]})]})]}),(0,N.jsxs)(`nav`,{className:`md:hidden flex justify-around bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 shadow-inner border-t border-gray-200 dark:border-gray-700 transition-colors duration-300`,children:[(0,N.jsx)(Nn,{id:`members`,label:`Members`,icon:Ne}),(0,N.jsx)(Nn,{id:`discography`,label:`Songs`,icon:ye}),(0,N.jsx)(Nn,{id:`management`,label:`Manage`,icon:re}),(0,N.jsx)(Nn,{id:`sisterGroup`,label:`SG`,icon:de}),(0,N.jsx)(Nn,{id:`activities`,label:`Activities`,icon:Fe})]})]}),(0,N.jsxs)(`aside`,{className:`w-full md:w-1/3 lg:w-1/4 flex flex-col bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-300`,children:[(0,N.jsxs)(`div`,{className:`p-4 border-b`,children:[(0,N.jsx)(`h3`,{className:`font-semibold text-lg mb-3`,children:`Group Status`}),(0,N.jsxs)(`div`,{className:`flex items-center mb-2`,children:[(0,N.jsx)(D,{className:`text-green-500 mr-2`,size:20}),(0,N.jsxs)(`span`,{className:`text-lg font-bold`,children:[``,r.toLocaleString()]})]}),(0,N.jsxs)(`div`,{className:`flex items-center mb-2`,children:[(0,N.jsx)(pe,{className:`text-red-500 mr-2`,size:20}),(0,N.jsxs)(`span`,{className:`text-lg`,children:[(d||0).toLocaleString(),` Fans`]})]}),(0,N.jsxs)(`div`,{className:`flex items-center`,children:[(0,N.jsx)(ie,{className:`text-blue-500 mr-2`,size:20}),(0,N.jsxs)(`span`,{className:`text-lg`,children:[`Week `,i]})]}),(0,N.jsx)(`button`,{onClick:nt?Tt:Kt,className:`w-full p-2 bg-blue-600 text-white rounded font-bold mt-4 hover:bg-blue-700 disabled:bg-gray-400`,children:nt?`Advance Tour (${nt.weeksLeft} Wk Left)`:`Next Week`})]}),s?(0,N.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-4`,children:[(0,N.jsxs)(`button`,{onClick:()=>c(null),className:`text-sm text-blue-500 mb-2 flex items-center`,children:[(0,N.jsx)(se,{size:16}),` Back to all members`]}),(0,N.jsx)(`h2`,{className:`text-2xl font-bold mb-2`,children:s.name}),(0,N.jsxs)(`p`,{className:`text-sm text-gray-700 dark:text-gray-300 mb-1`,children:[s.isSister?`Sister Group Member (${s.homeGroup})`:`Main Group Member`,s.isKennin&&` (Kennin)`]}),(0,N.jsxs)(`p`,{className:`text-gray-700 dark:text-gray-300 mb-4`,children:[s.nickname,` | `,s.age,` y.o.`]}),(0,N.jsxs)(`div`,{className:`mb-4`,children:[(0,N.jsx)(Mn,{label:`Singing`,value:s.singing,color:`bg-blue-500`}),(0,N.jsx)(Mn,{label:`Dancing`,value:s.dancing,color:`bg-green-500`}),(0,N.jsx)(Mn,{label:`Variety`,value:s.variety,color:`bg-pink-500`}),(0,N.jsx)(Mn,{label:`Stamina`,value:s.stamina,color:s.stamina<30?`bg-red-500`:`bg-gray-400`}),(0,N.jsx)(Mn,{label:`Morale`,value:s.morale,color:`bg-purple-500`}),(0,N.jsxs)(`p`,{className:`text-xs text-gray-500 mt-2`,children:[`Social Followers: `,(s.socialFollowers||0).toLocaleString()]})]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-2`,children:`Actions`}),(0,N.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 mb-4`,children:[(0,N.jsx)(`button`,{onClick:()=>yt(s.id,`singing`),className:`p-2 bg-blue-100 text-blue-700 rounded text-sm`,disabled:!s.isAvailable,children:`Train Vocal (500)`}),(0,N.jsx)(`button`,{onClick:()=>yt(s.id,`dancing`),className:`p-2 bg-green-100 text-green-700 rounded text-sm`,disabled:!s.isAvailable,children:`Train Dance (500)`}),(0,N.jsx)(`button`,{onClick:()=>yt(s.id,`variety`),className:`p-2 bg-pink-100 text-pink-700 rounded text-sm`,disabled:!s.isAvailable,children:`Train Variety (500)`}),(0,N.jsx)(`button`,{onClick:()=>bt(s.id),className:`p-2 bg-gray-200 text-gray-700 rounded text-sm`,disabled:!s.isAvailable,children:`Rest`})]}),(0,N.jsx)(`h4`,{className:`font-semibold mb-2`,children:`Manage`}),(0,N.jsxs)(`div`,{className:`grid grid-cols-2 gap-2 mb-4`,children:[(0,N.jsx)(`button`,{onClick:()=>{We(s),k(`rename`)},className:`p-2 bg-gray-200 text-gray-700 rounded text-sm`,children:`Rename`}),(0,N.jsx)(`button`,{onClick:()=>{We(s),k(`moveMember`)},className:`p-2 bg-gray-200 text-gray-700 rounded text-sm`,children:s.isSister?`Transfer/Kennin`:`Move/Kennin`}),(0,N.jsx)(`button`,{onClick:()=>jt(s.id),className:`p-2 bg-red-200 text-red-700 rounded text-sm`,disabled:!s.isAvailable,children:`Graduate`})]}),(0,N.jsx)(kn,{member:s})]}):(0,N.jsxs)(`div`,{className:`hidden md:flex flex-col flex-1`,children:[(0,N.jsx)(`nav`,{className:`flex border-b border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900`,children:[{id:`members`,label:`Members`},{id:`management`,label:`Manage`},{id:`activities`,label:`Activities`},{id:`discography`,label:`Songs`},{id:`sisterGroup`,label:`SG`}].map(e=>(0,N.jsx)(`button`,{onClick:()=>m(e.id),className:`flex-1 p-3 text-sm font-medium transition-all duration-200 rounded-t-md
          ${p===e.id?`bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400`:`bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100`}`,children:e.label},e.id))}),(0,N.jsxs)(`div`,{className:`p-4 text-center text-gray-600 dark:text-gray-400 flex-1 flex flex-col justify-center items-center`,children:[(0,N.jsx)(Me,{size:48,className:`mx-auto mb-4`}),(0,N.jsx)(`p`,{children:`Select a member or navigate the tabs above.`}),(0,N.jsxs)(`p`,{className:`text-xs mt-4 text-gray-400`,children:[`Producer ID: `,st||`Authenticating...`]})]})]}),h&&(0,N.jsxs)(`div`,{className:`p-4 border-t max-h-48 overflow-y-auto`,children:[(0,N.jsxs)(`h4`,{className:`font-semibold mb-2 flex items-center justify-between`,children:[`Notifications (`,_.length,`) `,(0,N.jsx)(`button`,{onClick:()=>v([]),className:`text-red-400`,children:(0,N.jsx)(Oe,{size:16})})]}),(0,N.jsxs)(`div`,{className:`space-y-2 text-sm`,children:[_.length===0&&(0,N.jsx)(`p`,{className:`text-gray-500`,children:`No new notifications.`}),(_||[]).map(e=>(0,N.jsxs)(`div`,{className:`p-2 bg-gray-100 rounded`,children:[(0,N.jsx)(`span`,{className:`font-bold`,children:e.title}),` - `,(0,N.jsx)(`span`,{className:`text-gray-700`,children:e.content}),(0,N.jsxs)(`span`,{className:`text-xs text-gray-500 block`,children:[`Week `,e.week]})]},e.id))]})]})]}),He===`createSong`&&(0,N.jsx)(pn,{}),He===`singleDetails`&&(0,N.jsx)(mn,{}),He===`theaterShowPrep`&&(0,N.jsx)(hn,{}),He===`rename`&&Ue&&(0,N.jsx)(bn,{}),He===`moveMember`&&Ue&&(0,N.jsx)(Cn,{}),He===`createTeam`&&(0,N.jsx)(xn,{}),He===`editTeam`&&Ue&&(0,N.jsx)(Sn,{}),He===`saveGame`&&(0,N.jsx)(vn,{}),He===`loadGame`&&(0,N.jsx)(yn,{}),He===`mediaJob`&&(0,N.jsx)(wn,{}),He===`groupMediaJob`&&(0,N.jsx)(Tn,{}),He===`trainingCamp`&&(0,N.jsx)(En,{}),He===`createSisterGroup`&&(0,N.jsx)(Dn,{}),He===`customSetlist`&&(0,N.jsx)(dn,{}),He===`scandal`&&Ue&&(0,N.jsx)(fn,{}),He===`sisterGroupDisband`&&Ue&&(0,N.jsx)(On,{}),He===`performancePrep`&&(0,N.jsx)(gn,{}),He===`majorConcert`&&(0,N.jsx)(_n,{})]}):(0,N.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-gray-100 p-6`,children:(0,N.jsxs)(`div`,{className:`rounded-2xl shadow-2xl p-10 w-full max-w-md text-center border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors duration-300`,children:[(0,N.jsx)(De,{className:`mx-auto text-yellow-400 mb-6`,size:64}),(0,N.jsx)(`h1`,{className:`text-4xl font-extrabold mb-4 text-gray-800 tracking-tight`,children:`Idol Management Sim`}),(0,N.jsx)(`p`,{className:`text-gray-600 mb-6`,children:`Enter your Producer Name and Group Name to begin.`}),(0,N.jsx)(`input`,{type:`text`,value:en,onChange:e=>tn(e.target.value),className:`w-full p-3 border border-gray-300 rounded-lg mb-4 text-center focus:ring-2 focus:ring-blue-400 focus:outline-none`,placeholder:`Producer Name (e.g., Aki-P)`}),(0,N.jsxs)(`div`,{className:`flex w-full gap-2 mb-5`,children:[(0,N.jsx)(`input`,{type:`text`,value:nn,onChange:e=>rn(e.target.value),className:`flex-1 p-3 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-blue-400 focus:outline-none`,placeholder:`Group Name (e.g., AKB48)`}),(0,N.jsx)(`button`,{onClick:an,className:`p-3 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors flex items-center justify-center`,title:`Generate Random Name`,children:(0,N.jsx)(Te,{size:20})})]}),(0,N.jsx)(`button`,{onClick:on,disabled:!en.trim()||!nn.trim(),className:`w-full p-3 bg-blue-500 text-white rounded-lg font-bold text-lg hover:bg-blue-600 transition-colors disabled:bg-gray-400`,children:`Start New Production`}),(0,N.jsx)(`button`,{onClick:()=>k(`loadGame`),disabled:!A,className:`w-full p-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors mt-4 disabled:bg-gray-300 disabled:text-gray-600 flex items-center justify-center gap-2`,children:A?`Load Game (via Username)`:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(he,{size:16}),` Authenticating...`]})}),He===`loadGame`&&(0,N.jsx)(yn,{})]})})};function h_(){let[e,t]=(0,C.useState)(!1);return(0,C.useEffect)(()=>{localStorage.getItem(`theme`)===`dark`?(document.documentElement.classList.add(`dark`),t(!0)):(document.documentElement.classList.remove(`dark`),t(!1))},[]),(0,N.jsxs)(`div`,{className:`min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300`,children:[(0,N.jsx)(`div`,{className:`absolute top-4 right-4`,children:(0,N.jsx)(`button`,{onClick:()=>{let n=e?`light`:`dark`;document.documentElement.classList.toggle(`dark`),localStorage.setItem(`theme`,n),t(!e)},className:`px-3 py-2 rounded-lg bg-blue-500 text-white dark:bg-yellow-400 dark:text-gray-900 font-semibold shadow hover:opacity-90 transition`,children:e?` Light Mode`:` Dark Mode`})}),(0,N.jsx)(m_,{})]})}var g_=h_;window.__app_id=`local-sim-id`,window.__firebase_config=JSON.stringify({apiKey:`AIzaSxxxxxxxxxxxxxxxxx-DUMMY`,authDomain:`project-id.firebaseapp.com`,projectId:`project-id`,storageBucket:`project-id.appspot.com`,messagingSenderId:`123456789012`,appId:`1:123456789012:web:abcdef0123456789abcdef`}),window.__initial_auth_token=``;var __=document.getElementById(`root`);Ie.createRoot(__).render((0,N.jsx)(C.StrictMode,{children:(0,N.jsx)(g_,{})}));